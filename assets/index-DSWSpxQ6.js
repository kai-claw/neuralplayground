(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))s(g);new MutationObserver(g=>{for(const f of g)if(f.type==="childList")for(const y of f.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&s(y)}).observe(document,{childList:!0,subtree:!0});function d(g){const f={};return g.integrity&&(f.integrity=g.integrity),g.referrerPolicy&&(f.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?f.credentials="include":g.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(g){if(g.ep)return;g.ep=!0;const f=d(g);fetch(g.href,f)}})();var tr={exports:{}},Vn={};var Oh;function t1(){if(Oh)return Vn;Oh=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(s,g,f){var y=null;if(f!==void 0&&(y=""+f),g.key!==void 0&&(y=""+g.key),"key"in g){f={};for(var m in g)m!=="key"&&(f[m]=g[m])}else f=g;return g=f.ref,{$$typeof:c,type:s,key:y,ref:g!==void 0?g:null,props:f}}return Vn.Fragment=o,Vn.jsx=d,Vn.jsxs=d,Vn}var wh;function e1(){return wh||(wh=1,tr.exports=t1()),tr.exports}var u=e1(),er={exports:{}},ht={};var Lh;function l1(){if(Lh)return ht;Lh=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),y=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function h(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function A(w,k,lt){this.props=w,this.context=k,this.refs=E,this.updater=lt||M}A.prototype.isReactComponent={},A.prototype.setState=function(w,k){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,k,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function T(){}T.prototype=A.prototype;function R(w,k,lt){this.props=w,this.context=k,this.refs=E,this.updater=lt||M}var C=R.prototype=new T;C.constructor=R,j(C,A.prototype),C.isPureReactComponent=!0;var O=Array.isArray;function L(){}var D={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function Q(w,k,lt){var nt=lt.ref;return{$$typeof:c,type:w,key:k,ref:nt!==void 0?nt:null,props:lt}}function Y(w,k){return Q(w.type,k,w.props)}function P(w){return typeof w=="object"&&w!==null&&w.$$typeof===c}function J(w){var k={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(lt){return k[lt]})}var tt=/\/+/g;function et(w,k){return typeof w=="object"&&w!==null&&w.key!=null?J(""+w.key):k.toString(36)}function it(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(L,L):(w.status="pending",w.then(function(k){w.status==="pending"&&(w.status="fulfilled",w.value=k)},function(k){w.status==="pending"&&(w.status="rejected",w.reason=k)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function B(w,k,lt,nt,rt){var dt=typeof w;(dt==="undefined"||dt==="boolean")&&(w=null);var yt=!1;if(w===null)yt=!0;else switch(dt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(w.$$typeof){case c:case o:yt=!0;break;case p:return yt=w._init,B(yt(w._payload),k,lt,nt,rt)}}if(yt)return rt=rt(w),yt=nt===""?"."+et(w,0):nt,O(rt)?(lt="",yt!=null&&(lt=yt.replace(tt,"$&/")+"/"),B(rt,k,lt,"",function(Ot){return Ot})):rt!=null&&(P(rt)&&(rt=Y(rt,lt+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(tt,"$&/")+"/")+yt)),k.push(rt)),1;yt=0;var Zt=nt===""?".":nt+":";if(O(w))for(var Rt=0;Rt<w.length;Rt++)nt=w[Rt],dt=Zt+et(nt,Rt),yt+=B(nt,k,lt,dt,rt);else if(Rt=h(w),typeof Rt=="function")for(w=Rt.call(w),Rt=0;!(nt=w.next()).done;)nt=nt.value,dt=Zt+et(nt,Rt++),yt+=B(nt,k,lt,dt,rt);else if(dt==="object"){if(typeof w.then=="function")return B(it(w),k,lt,nt,rt);throw k=String(w),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return yt}function V(w,k,lt){if(w==null)return w;var nt=[],rt=0;return B(w,nt,"","",function(dt){return k.call(lt,dt,rt++)}),nt}function $(w){if(w._status===-1){var k=w._result;k=k(),k.then(function(lt){(w._status===0||w._status===-1)&&(w._status=1,w._result=lt)},function(lt){(w._status===0||w._status===-1)&&(w._status=2,w._result=lt)}),w._status===-1&&(w._status=0,w._result=k)}if(w._status===1)return w._result.default;throw w._result}var ct=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},at={map:V,forEach:function(w,k,lt){V(w,function(){k.apply(this,arguments)},lt)},count:function(w){var k=0;return V(w,function(){k++}),k},toArray:function(w){return V(w,function(k){return k})||[]},only:function(w){if(!P(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ht.Activity=S,ht.Children=at,ht.Component=A,ht.Fragment=d,ht.Profiler=g,ht.PureComponent=R,ht.StrictMode=s,ht.Suspense=b,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ht.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},ht.cache=function(w){return function(){return w.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(w,k,lt){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var nt=j({},w.props),rt=w.key;if(k!=null)for(dt in k.key!==void 0&&(rt=""+k.key),k)!G.call(k,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&k.ref===void 0||(nt[dt]=k[dt]);var dt=arguments.length-2;if(dt===1)nt.children=lt;else if(1<dt){for(var yt=Array(dt),Zt=0;Zt<dt;Zt++)yt[Zt]=arguments[Zt+2];nt.children=yt}return Q(w.type,rt,nt)},ht.createContext=function(w){return w={$$typeof:y,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:f,_context:w},w},ht.createElement=function(w,k,lt){var nt,rt={},dt=null;if(k!=null)for(nt in k.key!==void 0&&(dt=""+k.key),k)G.call(k,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(rt[nt]=k[nt]);var yt=arguments.length-2;if(yt===1)rt.children=lt;else if(1<yt){for(var Zt=Array(yt),Rt=0;Rt<yt;Rt++)Zt[Rt]=arguments[Rt+2];rt.children=Zt}if(w&&w.defaultProps)for(nt in yt=w.defaultProps,yt)rt[nt]===void 0&&(rt[nt]=yt[nt]);return Q(w,dt,rt)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(w){return{$$typeof:m,render:w}},ht.isValidElement=P,ht.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:$}},ht.memo=function(w,k){return{$$typeof:v,type:w,compare:k===void 0?null:k}},ht.startTransition=function(w){var k=D.T,lt={};D.T=lt;try{var nt=w(),rt=D.S;rt!==null&&rt(lt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(L,ct)}catch(dt){ct(dt)}finally{k!==null&&lt.types!==null&&(k.types=lt.types),D.T=k}},ht.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ht.use=function(w){return D.H.use(w)},ht.useActionState=function(w,k,lt){return D.H.useActionState(w,k,lt)},ht.useCallback=function(w,k){return D.H.useCallback(w,k)},ht.useContext=function(w){return D.H.useContext(w)},ht.useDebugValue=function(){},ht.useDeferredValue=function(w,k){return D.H.useDeferredValue(w,k)},ht.useEffect=function(w,k){return D.H.useEffect(w,k)},ht.useEffectEvent=function(w){return D.H.useEffectEvent(w)},ht.useId=function(){return D.H.useId()},ht.useImperativeHandle=function(w,k,lt){return D.H.useImperativeHandle(w,k,lt)},ht.useInsertionEffect=function(w,k){return D.H.useInsertionEffect(w,k)},ht.useLayoutEffect=function(w,k){return D.H.useLayoutEffect(w,k)},ht.useMemo=function(w,k){return D.H.useMemo(w,k)},ht.useOptimistic=function(w,k){return D.H.useOptimistic(w,k)},ht.useReducer=function(w,k,lt){return D.H.useReducer(w,k,lt)},ht.useRef=function(w){return D.H.useRef(w)},ht.useState=function(w){return D.H.useState(w)},ht.useSyncExternalStore=function(w,k,lt){return D.H.useSyncExternalStore(w,k,lt)},ht.useTransition=function(){return D.H.useTransition()},ht.version="19.2.4",ht}var Uh;function Er(){return Uh||(Uh=1,er.exports=l1()),er.exports}var _=Er(),lr={exports:{}},Kn={},ar={exports:{}},nr={};var Hh;function a1(){return Hh||(Hh=1,(function(c){function o(B,V){var $=B.length;B.push(V);t:for(;0<$;){var ct=$-1>>>1,at=B[ct];if(0<g(at,V))B[ct]=V,B[$]=at,$=ct;else break t}}function d(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var V=B[0],$=B.pop();if($!==V){B[0]=$;t:for(var ct=0,at=B.length,w=at>>>1;ct<w;){var k=2*(ct+1)-1,lt=B[k],nt=k+1,rt=B[nt];if(0>g(lt,$))nt<at&&0>g(rt,lt)?(B[ct]=rt,B[nt]=$,ct=nt):(B[ct]=lt,B[k]=$,ct=k);else if(nt<at&&0>g(rt,$))B[ct]=rt,B[nt]=$,ct=nt;else break t}}return V}function g(B,V){var $=B.sortIndex-V.sortIndex;return $!==0?$:B.id-V.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var y=Date,m=y.now();c.unstable_now=function(){return y.now()-m}}var b=[],v=[],p=1,S=null,x=3,h=!1,M=!1,j=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var V=d(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=B)s(v),V.sortIndex=V.expirationTime,o(b,V);else break;V=d(v)}}function O(B){if(j=!1,C(B),!M)if(d(b)!==null)M=!0,L||(L=!0,J());else{var V=d(v);V!==null&&it(O,V.startTime-B)}}var L=!1,D=-1,G=5,Q=-1;function Y(){return E?!0:!(c.unstable_now()-Q<G)}function P(){if(E=!1,L){var B=c.unstable_now();Q=B;var V=!0;try{t:{M=!1,j&&(j=!1,T(D),D=-1),h=!0;var $=x;try{e:{for(C(B),S=d(b);S!==null&&!(S.expirationTime>B&&Y());){var ct=S.callback;if(typeof ct=="function"){S.callback=null,x=S.priorityLevel;var at=ct(S.expirationTime<=B);if(B=c.unstable_now(),typeof at=="function"){S.callback=at,C(B),V=!0;break e}S===d(b)&&s(b),C(B)}else s(b);S=d(b)}if(S!==null)V=!0;else{var w=d(v);w!==null&&it(O,w.startTime-B),V=!1}}break t}finally{S=null,x=$,h=!1}V=void 0}}finally{V?J():L=!1}}}var J;if(typeof R=="function")J=function(){R(P)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,et=tt.port2;tt.port1.onmessage=P,J=function(){et.postMessage(null)}}else J=function(){A(P,0)};function it(B,V){D=A(function(){B(c.unstable_now())},V)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(B){B.callback=null},c.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},c.unstable_getCurrentPriorityLevel=function(){return x},c.unstable_next=function(B){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var $=x;x=V;try{return B()}finally{x=$}},c.unstable_requestPaint=function(){E=!0},c.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=x;x=B;try{return V()}finally{x=$}},c.unstable_scheduleCallback=function(B,V,$){var ct=c.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ct+$:ct):$=ct,B){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=$+at,B={id:p++,callback:V,priorityLevel:B,startTime:$,expirationTime:at,sortIndex:-1},$>ct?(B.sortIndex=$,o(v,B),d(b)===null&&B===d(v)&&(j?(T(D),D=-1):j=!0,it(O,$-ct))):(B.sortIndex=at,o(b,B),M||h||(M=!0,L||(L=!0,J()))),B},c.unstable_shouldYield=Y,c.unstable_wrapCallback=function(B){var V=x;return function(){var $=x;x=V;try{return B.apply(this,arguments)}finally{x=$}}}})(nr)),nr}var Bh;function n1(){return Bh||(Bh=1,ar.exports=a1()),ar.exports}var ir={exports:{}},ne={};var Gh;function i1(){if(Gh)return ne;Gh=1;var c=Er();function o(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)v+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var s={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},g=Symbol.for("react.portal");function f(b,v,p){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:S==null?null:""+S,children:b,containerInfo:v,implementation:p}}var y=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ne.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ne.createPortal=function(b,v){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(o(299));return f(b,v,null,p)},ne.flushSync=function(b){var v=y.T,p=s.p;try{if(y.T=null,s.p=2,b)return b()}finally{y.T=v,s.p=p,s.d.f()}},ne.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(b,v))},ne.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},ne.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var p=v.as,S=m(p,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,h=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;p==="style"?s.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:h}):p==="script"&&s.d.X(b,{crossOrigin:S,integrity:x,fetchPriority:h,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ne.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var p=m(v.as,v.crossOrigin);s.d.M(b,{crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(b)},ne.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var p=v.as,S=m(p,v.crossOrigin);s.d.L(b,p,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ne.preloadModule=function(b,v){if(typeof b=="string")if(v){var p=m(v.as,v.crossOrigin);s.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(b)},ne.requestFormReset=function(b){s.d.r(b)},ne.unstable_batchedUpdates=function(b,v){return b(v)},ne.useFormState=function(b,v,p){return y.H.useFormState(b,v,p)},ne.useFormStatus=function(){return y.H.useHostTransitionStatus()},ne.version="19.2.4",ne}var Yh;function c1(){if(Yh)return ir.exports;Yh=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),ir.exports=i1(),ir.exports}var qh;function s1(){if(qh)return Kn;qh=1;var c=n1(),o=Er(),d=c1();function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)e+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,l=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(l=e.return),t=e.return;while(t)}return e.tag===3?l:null}function y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(f(t)!==t)throw Error(s(188))}function v(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(s(188));return e!==t?null:t}for(var l=t,a=e;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return b(n),t;if(i===a)return b(n),e;i=i.sibling}throw Error(s(188))}if(l.return!==a.return)l=n,a=i;else{for(var r=!1,N=n.child;N;){if(N===l){r=!0,l=n,a=i;break}if(N===a){r=!0,a=n,l=i;break}N=N.sibling}if(!r){for(N=i.child;N;){if(N===l){r=!0,l=i,a=n;break}if(N===a){r=!0,a=i,l=n;break}N=N.sibling}if(!r)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:e}function p(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=p(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===tt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case L:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case R:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case C:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return e=t.displayName||null,e!==null?e:et(t.type)||"Memo";case G:e=t._payload,t=t._init;try{return et(t(e))}catch{}}return null}var it=Array.isArray,B=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ct=[],at=-1;function w(t){return{current:t}}function k(t){0>at||(t.current=ct[at],ct[at]=null,at--)}function lt(t,e){at++,ct[at]=t.current,t.current=e}var nt=w(null),rt=w(null),dt=w(null),yt=w(null);function Zt(t,e){switch(lt(dt,e),lt(rt,t),lt(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?lh(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=lh(e),t=ah(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(nt),lt(nt,t)}function Rt(){k(nt),k(rt),k(dt)}function Ot(t){t.memoizedState!==null&&lt(yt,t);var e=nt.current,l=ah(e,t.type);e!==l&&(lt(rt,t),lt(nt,l))}function $t(t){rt.current===t&&(k(nt),k(rt)),yt.current===t&&(k(yt),qn._currentValue=$)}var ce,ke;function Xl(t){if(ce===void 0)try{throw Error()}catch(l){var e=l.stack.trim().match(/\n( *(at )?)/);ce=e&&e[1]||"",ke=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+t+ke}var Hc=!1;function Bc(t,e){if(!t||Hc)return"";Hc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(K){var Z=K}Reflect.construct(t,[],F)}else{try{F.call()}catch(K){Z=K}t.call(F.prototype)}}else{try{throw Error()}catch(K){Z=K}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(K){if(K&&Z&&typeof K.stack=="string")return[K.stack,Z.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],N=i[1];if(r&&N){var z=r.split(`
`),X=N.split(`
`);for(n=a=0;a<z.length&&!z[a].includes("DetermineComponentFrameRoot");)a++;for(;n<X.length&&!X[n].includes("DetermineComponentFrameRoot");)n++;if(a===z.length||n===X.length)for(a=z.length-1,n=X.length-1;1<=a&&0<=n&&z[a]!==X[n];)n--;for(;1<=a&&0<=n;a--,n--)if(z[a]!==X[n]){if(a!==1||n!==1)do if(a--,n--,0>n||z[a]!==X[n]){var I=`
`+z[a].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=a&&0<=n);break}}}finally{Hc=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Xl(l):""}function D0(t,e){switch(t.tag){case 26:case 27:case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return t.child!==e&&e!==null?Xl("Suspense Fallback"):Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 15:return Bc(t.type,!1);case 11:return Bc(t.type.render,!1);case 1:return Bc(t.type,!0);case 31:return Xl("Activity");default:return""}}function Dr(t){try{var e="",l=null;do e+=D0(t,l),l=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Gc=Object.prototype.hasOwnProperty,Yc=c.unstable_scheduleCallback,qc=c.unstable_cancelCallback,z0=c.unstable_shouldYield,O0=c.unstable_requestPaint,ve=c.unstable_now,w0=c.unstable_getCurrentPriorityLevel,zr=c.unstable_ImmediatePriority,Or=c.unstable_UserBlockingPriority,ai=c.unstable_NormalPriority,L0=c.unstable_LowPriority,wr=c.unstable_IdlePriority,U0=c.log,H0=c.unstable_setDisableYieldValue,Fa=null,ye=null;function hl(t){if(typeof U0=="function"&&H0(t),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Fa,t)}catch{}}var pe=Math.clz32?Math.clz32:Y0,B0=Math.log,G0=Math.LN2;function Y0(t){return t>>>=0,t===0?32:31-(B0(t)/G0|0)|0}var ni=256,ii=262144,ci=4194304;function Ql(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,e,l){var a=t.pendingLanes;if(a===0)return 0;var n=0,i=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var N=a&134217727;return N!==0?(a=N&~i,a!==0?n=Ql(a):(r&=N,r!==0?n=Ql(r):l||(l=N&~t,l!==0&&(n=Ql(l))))):(N=a&~i,N!==0?n=Ql(N):r!==0?n=Ql(r):l||(l=a&~t,l!==0&&(n=Ql(l)))),n===0?0:e!==0&&e!==n&&(e&i)===0&&(i=n&-n,l=e&-e,i>=l||i===32&&(l&4194048)!==0)?e:n}function Pa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function q0(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var t=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),t}function Xc(t){for(var e=[],l=0;31>l;l++)e.push(t);return e}function tn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function X0(t,e,l,a,n,i){var r=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var N=t.entanglements,z=t.expirationTimes,X=t.hiddenUpdates;for(l=r&~l;0<l;){var I=31-pe(l),F=1<<I;N[I]=0,z[I]=-1;var Z=X[I];if(Z!==null)for(X[I]=null,I=0;I<Z.length;I++){var K=Z[I];K!==null&&(K.lane&=-536870913)}l&=~F}a!==0&&Ur(t,a,0),i!==0&&n===0&&t.tag!==0&&(t.suspendedLanes|=i&~(r&~e))}function Ur(t,e,l){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-pe(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|l&261930}function Hr(t,e){var l=t.entangledLanes|=e;for(t=t.entanglements;l;){var a=31-pe(l),n=1<<a;n&e|t[a]&e&&(t[a]|=e),l&=~n}}function Br(t,e){var l=e&-e;return l=(l&42)!==0?1:Qc(l),(l&(t.suspendedLanes|e))!==0?0:l}function Qc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gr(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:jh(t.type))}function Yr(t,e){var l=V.p;try{return V.p=t,e()}finally{V.p=l}}var ml=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ml,ue="__reactProps$"+ml,oa="__reactContainer$"+ml,Vc="__reactEvents$"+ml,Q0="__reactListeners$"+ml,Z0="__reactHandles$"+ml,qr="__reactResources$"+ml,en="__reactMarker$"+ml;function Kc(t){delete t[Pt],delete t[ue],delete t[Vc],delete t[Q0],delete t[Z0]}function fa(t){var e=t[Pt];if(e)return e;for(var l=t.parentNode;l;){if(e=l[oa]||l[Pt]){if(l=e.alternate,e.child!==null||l!==null&&l.child!==null)for(t=oh(t);t!==null;){if(l=t[Pt])return l;t=oh(t)}return e}t=l,l=t.parentNode}return null}function da(t){if(t=t[Pt]||t[oa]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ln(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(s(33))}function ha(t){var e=t[qr];return e||(e=t[qr]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Wt(t){t[en]=!0}var Xr=new Set,Qr={};function Zl(t,e){ma(t,e),ma(t+"Capture",e)}function ma(t,e){for(Qr[t]=e,t=0;t<e.length;t++)Xr.add(e[t])}var V0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zr={},Vr={};function K0(t){return Gc.call(Vr,t)?!0:Gc.call(Zr,t)?!1:V0.test(t)?Vr[t]=!0:(Zr[t]=!0,!1)}function ui(t,e,l){if(K0(e))if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+l)}}function ri(t,e,l){if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+l)}}function Je(t,e,l,a){if(a===null)t.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(e,l,""+a)}}function Ee(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kr(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k0(t,e,l){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(r){l=""+r,i.call(this,r)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kc(t){if(!t._valueTracker){var e=Kr(t)?"checked":"value";t._valueTracker=k0(t,e,""+t[e])}}function kr(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var l=e.getValue(),a="";return t&&(a=Kr(t)?t.checked?"true":"false":t.value),t=a,t!==l?(e.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var J0=/[\n"\\]/g;function Re(t){return t.replace(J0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Jc(t,e,l,a,n,i,r,N){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ee(e)):t.value!==""+Ee(e)&&(t.value=""+Ee(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?$c(t,r,Ee(e)):l!=null?$c(t,r,Ee(l)):a!=null&&t.removeAttribute("value"),n==null&&i!=null&&(t.defaultChecked=!!i),n!=null&&(t.checked=n&&typeof n!="function"&&typeof n!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+Ee(N):t.removeAttribute("name")}function Jr(t,e,l,a,n,i,r,N){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){kc(t);return}l=l!=null?""+Ee(l):"",e=e!=null?""+Ee(e):l,N||e===t.value||(t.value=e),t.defaultValue=e}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=N?t.checked:!!a,t.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),kc(t)}function $c(t,e,l){e==="number"&&oi(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ga(t,e,l,a){if(t=t.options,e){e={};for(var n=0;n<l.length;n++)e["$"+l[n]]=!0;for(l=0;l<t.length;l++)n=e.hasOwnProperty("$"+t[l].value),t[l].selected!==n&&(t[l].selected=n),n&&a&&(t[l].defaultSelected=!0)}else{for(l=""+Ee(l),e=null,n=0;n<t.length;n++){if(t[n].value===l){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function $r(t,e,l){if(e!=null&&(e=""+Ee(e),e!==t.value&&(t.value=e),l==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=l!=null?""+Ee(l):""}function Ir(t,e,l,a){if(e==null){if(a!=null){if(l!=null)throw Error(s(92));if(it(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),e=l}l=Ee(e),t.defaultValue=l,a=t.textContent,a===l&&a!==""&&a!==null&&(t.value=a),kc(t)}function va(t,e){if(e){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=e;return}}t.textContent=e}var $0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wr(t,e,l){var a=e.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,l):typeof l!="number"||l===0||$0.has(e)?e==="float"?t.cssFloat=l:t[e]=(""+l).trim():t[e]=l+"px"}function Fr(t,e,l){if(e!=null&&typeof e!="object")throw Error(s(62));if(t=t.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var n in e)a=e[n],e.hasOwnProperty(n)&&l[n]!==a&&Wr(t,n,a)}else for(var i in e)e.hasOwnProperty(i)&&Wr(t,i,e[i])}function Ic(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(t){return W0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $e(){}var Wc=null;function Fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,pa=null;function Pr(t){var e=da(t);if(e&&(t=e.stateNode)){var l=t[ue]||null;t:switch(t=e.stateNode,e.type){case"input":if(Jc(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),e=l.name,l.type==="radio"&&e!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Re(""+e)+'"][type="radio"]'),e=0;e<l.length;e++){var a=l[e];if(a!==t&&a.form===t.form){var n=a[ue]||null;if(!n)throw Error(s(90));Jc(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(e=0;e<l.length;e++)a=l[e],a.form===t.form&&kr(a)}break t;case"textarea":$r(t,l.value,l.defaultValue);break t;case"select":e=l.value,e!=null&&ga(t,!!l.multiple,e,!1)}}}var Pc=!1;function to(t,e,l){if(Pc)return t(e,l);Pc=!0;try{var a=t(e);return a}finally{if(Pc=!1,(ya!==null||pa!==null)&&(Fi(),ya&&(e=ya,t=pa,pa=ya=null,Pr(e),t)))for(e=0;e<t.length;e++)Pr(t[e])}}function an(t,e){var l=t.stateNode;if(l===null)return null;var a=l[ue]||null;if(a===null)return null;l=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,e,typeof l));return l}var Ie=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ts=!1;if(Ie)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){ts=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{ts=!1}var gl=null,es=null,di=null;function eo(){if(di)return di;var t,e=es,l=e.length,a,n="value"in gl?gl.value:gl.textContent,i=n.length;for(t=0;t<l&&e[t]===n[t];t++);var r=l-t;for(a=1;a<=r&&e[l-a]===n[i-a];a++);return di=n.slice(t,1<a?1-a:void 0)}function hi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function lo(){return!1}function re(t){function e(l,a,n,i,r){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(l=t[N],this[N]=l?l(i):i[N]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mi:lo,this.isPropagationStopped=lo,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),e}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=re(Vl),cn=S({},Vl,{view:0,detail:0}),F0=re(cn),ls,as,sn,vi=S({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sn&&(sn&&t.type==="mousemove"?(ls=t.screenX-sn.screenX,as=t.screenY-sn.screenY):as=ls=0,sn=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:as}}),ao=re(vi),P0=S({},vi,{dataTransfer:0}),tm=re(P0),em=S({},cn,{relatedTarget:0}),ns=re(em),lm=S({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),am=re(lm),nm=S({},Vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),im=re(nm),cm=S({},Vl,{data:0}),no=re(cm),sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function om(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rm[t])?!!e[t]:!1}function is(){return om}var fm=S({},cn,{key:function(t){if(t.key){var e=sm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?um[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(t){return t.type==="keypress"?hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dm=re(fm),hm=S({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),io=re(hm),mm=S({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),gm=re(mm),vm=S({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ym=re(vm),pm=S({},vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bm=re(pm),Sm=S({},Vl,{newState:0,oldState:0}),xm=re(Sm),Nm=[9,13,27,32],cs=Ie&&"CompositionEvent"in window,un=null;Ie&&"documentMode"in document&&(un=document.documentMode);var Am=Ie&&"TextEvent"in window&&!un,co=Ie&&(!cs||un&&8<un&&11>=un),so=" ",uo=!1;function ro(t,e){switch(t){case"keyup":return Nm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function Mm(t,e){switch(t){case"compositionend":return oo(e);case"keypress":return e.which!==32?null:(uo=!0,so);case"textInput":return t=e.data,t===so&&uo?null:t;default:return null}}function Tm(t,e){if(ba)return t==="compositionend"||!cs&&ro(t,e)?(t=eo(),di=es=gl=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return co&&e.locale!=="ko"?null:e.data;default:return null}}var jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jm[t.type]:e==="textarea"}function ho(t,e,l,a){ya?pa?pa.push(a):pa=[a]:ya=a,e=ic(e,"onChange"),0<e.length&&(l=new gi("onChange","change",null,l,a),t.push({event:l,listeners:e}))}var rn=null,on=null;function Em(t){Id(t,0)}function yi(t){var e=ln(t);if(kr(e))return t}function mo(t,e){if(t==="change")return e}var go=!1;if(Ie){var ss;if(Ie){var us="oninput"in document;if(!us){var vo=document.createElement("div");vo.setAttribute("oninput","return;"),us=typeof vo.oninput=="function"}ss=us}else ss=!1;go=ss&&(!document.documentMode||9<document.documentMode)}function yo(){rn&&(rn.detachEvent("onpropertychange",po),on=rn=null)}function po(t){if(t.propertyName==="value"&&yi(on)){var e=[];ho(e,on,t,Fc(t)),to(Em,e)}}function Rm(t,e,l){t==="focusin"?(yo(),rn=e,on=l,rn.attachEvent("onpropertychange",po)):t==="focusout"&&yo()}function _m(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yi(on)}function Cm(t,e){if(t==="click")return yi(e)}function Dm(t,e){if(t==="input"||t==="change")return yi(e)}function zm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var be=typeof Object.is=="function"?Object.is:zm;function fn(t,e){if(be(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var l=Object.keys(t),a=Object.keys(e);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Gc.call(e,n)||!be(t[n],e[n]))return!1}return!0}function bo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function So(t,e){var l=bo(t);t=0;for(var a;l;){if(l.nodeType===3){if(a=t+l.textContent.length,t<=e&&a>=e)return{node:l,offset:e-t};t=a}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=bo(l)}}function xo(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xo(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function No(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=oi(t.document);e instanceof t.HTMLIFrameElement;){try{var l=typeof e.contentWindow.location.href=="string"}catch{l=!1}if(l)t=e.contentWindow;else break;e=oi(t.document)}return e}function rs(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Om=Ie&&"documentMode"in document&&11>=document.documentMode,Sa=null,os=null,dn=null,fs=!1;function Ao(t,e,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fs||Sa==null||Sa!==oi(a)||(a=Sa,"selectionStart"in a&&rs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),dn&&fn(dn,a)||(dn=a,a=ic(os,"onSelect"),0<a.length&&(e=new gi("onSelect","select",null,e,l),t.push({event:e,listeners:a}),e.target=Sa)))}function Kl(t,e){var l={};return l[t.toLowerCase()]=e.toLowerCase(),l["Webkit"+t]="webkit"+e,l["Moz"+t]="moz"+e,l}var xa={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionrun:Kl("Transition","TransitionRun"),transitionstart:Kl("Transition","TransitionStart"),transitioncancel:Kl("Transition","TransitionCancel"),transitionend:Kl("Transition","TransitionEnd")},ds={},Mo={};Ie&&(Mo=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function kl(t){if(ds[t])return ds[t];if(!xa[t])return t;var e=xa[t],l;for(l in e)if(e.hasOwnProperty(l)&&l in Mo)return ds[t]=e[l];return t}var To=kl("animationend"),jo=kl("animationiteration"),Eo=kl("animationstart"),wm=kl("transitionrun"),Lm=kl("transitionstart"),Um=kl("transitioncancel"),Ro=kl("transitionend"),_o=new Map,hs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hs.push("scrollEnd");function He(t,e){_o.set(t,e),Zl(e,[t])}var pi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_e=[],Na=0,ms=0;function bi(){for(var t=Na,e=ms=Na=0;e<t;){var l=_e[e];_e[e++]=null;var a=_e[e];_e[e++]=null;var n=_e[e];_e[e++]=null;var i=_e[e];if(_e[e++]=null,a!==null&&n!==null){var r=a.pending;r===null?n.next=n:(n.next=r.next,r.next=n),a.pending=n}i!==0&&Co(l,n,i)}}function Si(t,e,l,a){_e[Na++]=t,_e[Na++]=e,_e[Na++]=l,_e[Na++]=a,ms|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function gs(t,e,l,a){return Si(t,e,l,a),xi(t)}function Jl(t,e){return Si(t,null,null,e),xi(t)}function Co(t,e,l){t.lanes|=l;var a=t.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=t.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(n=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,n&&e!==null&&(n=31-pe(l),t=i.hiddenUpdates,a=t[n],a===null?t[n]=[e]:a.push(e),e.lane=l|536870912),i):null}function xi(t){if(50<wn)throw wn=0,Mu=null,Error(s(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Aa={};function Hm(t,e,l,a){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Se(t,e,l,a){return new Hm(t,e,l,a)}function vs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function We(t,e){var l=t.alternate;return l===null?(l=Se(t.tag,e,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=e,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,e=t.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Do(t,e){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,e=l.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ni(t,e,l,a,n,i){var r=0;if(a=t,typeof t=="function")vs(t)&&(r=1);else if(typeof t=="string")r=Xg(t,l,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Q:return t=Se(31,l,e,n),t.elementType=Q,t.lanes=i,t;case j:return $l(l.children,n,i,e);case E:r=8,n|=24;break;case A:return t=Se(12,l,e,n|2),t.elementType=A,t.lanes=i,t;case O:return t=Se(13,l,e,n),t.elementType=O,t.lanes=i,t;case L:return t=Se(19,l,e,n),t.elementType=L,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:r=10;break t;case T:r=9;break t;case C:r=11;break t;case D:r=14;break t;case G:r=16,a=null;break t}r=29,l=Error(s(130,t===null?"null":typeof t,"")),a=null}return e=Se(r,l,e,n),e.elementType=t,e.type=a,e.lanes=i,e}function $l(t,e,l,a){return t=Se(7,t,a,e),t.lanes=l,t}function ys(t,e,l){return t=Se(6,t,null,e),t.lanes=l,t}function zo(t){var e=Se(18,null,null,0);return e.stateNode=t,e}function ps(t,e,l){return e=Se(4,t.children!==null?t.children:[],t.key,e),e.lanes=l,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Oo=new WeakMap;function Ce(t,e){if(typeof t=="object"&&t!==null){var l=Oo.get(t);return l!==void 0?l:(e={value:t,source:e,stack:Dr(e)},Oo.set(t,e),e)}return{value:t,source:e,stack:Dr(e)}}var Ma=[],Ta=0,Ai=null,hn=0,De=[],ze=0,vl=null,qe=1,Xe="";function Fe(t,e){Ma[Ta++]=hn,Ma[Ta++]=Ai,Ai=t,hn=e}function wo(t,e,l){De[ze++]=qe,De[ze++]=Xe,De[ze++]=vl,vl=t;var a=qe;t=Xe;var n=32-pe(a)-1;a&=~(1<<n),l+=1;var i=32-pe(e)+n;if(30<i){var r=n-n%5;i=(a&(1<<r)-1).toString(32),a>>=r,n-=r,qe=1<<32-pe(e)+n|l<<n|a,Xe=i+t}else qe=1<<i|l<<n|a,Xe=t}function bs(t){t.return!==null&&(Fe(t,1),wo(t,1,0))}function Ss(t){for(;t===Ai;)Ai=Ma[--Ta],Ma[Ta]=null,hn=Ma[--Ta],Ma[Ta]=null;for(;t===vl;)vl=De[--ze],De[ze]=null,Xe=De[--ze],De[ze]=null,qe=De[--ze],De[ze]=null}function Lo(t,e){De[ze++]=qe,De[ze++]=Xe,De[ze++]=vl,qe=e.id,Xe=e.overflow,vl=t}var te=null,wt=null,Nt=!1,yl=null,Oe=!1,xs=Error(s(519));function pl(t){var e=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mn(Ce(e,t)),xs}function Uo(t){var e=t.stateNode,l=t.type,a=t.memoizedProps;switch(e[Pt]=t,e[ue]=a,l){case"dialog":bt("cancel",e),bt("close",e);break;case"iframe":case"object":case"embed":bt("load",e);break;case"video":case"audio":for(l=0;l<Un.length;l++)bt(Un[l],e);break;case"source":bt("error",e);break;case"img":case"image":case"link":bt("error",e),bt("load",e);break;case"details":bt("toggle",e);break;case"input":bt("invalid",e),Jr(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":bt("invalid",e);break;case"textarea":bt("invalid",e),Ir(e,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||e.textContent===""+l||a.suppressHydrationWarning===!0||th(e.textContent,l)?(a.popover!=null&&(bt("beforetoggle",e),bt("toggle",e)),a.onScroll!=null&&bt("scroll",e),a.onScrollEnd!=null&&bt("scrollend",e),a.onClick!=null&&(e.onclick=$e),e=!0):e=!1,e||pl(t,!0)}function Ho(t){for(te=t.return;te;)switch(te.tag){case 5:case 31:case 13:Oe=!1;return;case 27:case 3:Oe=!0;return;default:te=te.return}}function ja(t){if(t!==te)return!1;if(!Nt)return Ho(t),Nt=!0,!1;var e=t.tag,l;if((l=e!==3&&e!==27)&&((l=e===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Gu(t.type,t.memoizedProps)),l=!l),l&&wt&&pl(t),Ho(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wt=rh(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wt=rh(t)}else e===27?(e=wt,zl(t.type)?(t=Zu,Zu=null,wt=t):wt=e):wt=te?Le(t.stateNode.nextSibling):null;return!0}function Il(){wt=te=null,Nt=!1}function Ns(){var t=yl;return t!==null&&(he===null?he=t:he.push.apply(he,t),yl=null),t}function mn(t){yl===null?yl=[t]:yl.push(t)}var As=w(null),Wl=null,Pe=null;function bl(t,e,l){lt(As,e._currentValue),e._currentValue=l}function tl(t){t._currentValue=As.current,k(As)}function Ms(t,e,l){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===l)break;t=t.return}}function Ts(t,e,l,a){var n=t.child;for(n!==null&&(n.return=t);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;t:for(;i!==null;){var N=i;i=n;for(var z=0;z<e.length;z++)if(N.context===e[z]){i.lanes|=l,N=i.alternate,N!==null&&(N.lanes|=l),Ms(i.return,l,t),a||(r=null);break t}i=N.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(s(341));r.lanes|=l,i=r.alternate,i!==null&&(i.lanes|=l),Ms(r,l,t),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===t){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function Ea(t,e,l,a){t=null;for(var n=e,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(s(387));if(r=r.memoizedProps,r!==null){var N=n.type;be(n.pendingProps.value,r.value)||(t!==null?t.push(N):t=[N])}}else if(n===yt.current){if(r=n.alternate,r===null)throw Error(s(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(t!==null?t.push(qn):t=[qn])}n=n.return}t!==null&&Ts(e,t,l,a),e.flags|=262144}function Mi(t){for(t=t.firstContext;t!==null;){if(!be(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fl(t){Wl=t,Pe=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ee(t){return Bo(Wl,t)}function Ti(t,e){return Wl===null&&Fl(t),Bo(t,e)}function Bo(t,e){var l=e._currentValue;if(e={context:e,memoizedValue:l,next:null},Pe===null){if(t===null)throw Error(s(308));Pe=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pe=Pe.next=e;return l}var Bm=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(l,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(l){return l()})}},Gm=c.unstable_scheduleCallback,Ym=c.unstable_NormalPriority,Vt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function js(){return{controller:new Bm,data:new Map,refCount:0}}function gn(t){t.refCount--,t.refCount===0&&Gm(Ym,function(){t.controller.abort()})}var vn=null,Es=0,Ra=0,_a=null;function qm(t,e){if(vn===null){var l=vn=[];Es=0,Ra=Cu(),_a={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Es++,e.then(Go,Go),e}function Go(){if(--Es===0&&vn!==null){_a!==null&&(_a.status="fulfilled");var t=vn;vn=null,Ra=0,_a=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Xm(t,e){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var n=0;n<l.length;n++)(0,l[n])(e)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Yo=B.S;B.S=function(t,e){Md=ve(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&qm(t,e),Yo!==null&&Yo(t,e)};var Pl=w(null);function Rs(){var t=Pl.current;return t!==null?t:zt.pooledCache}function ji(t,e){e===null?lt(Pl,Pl.current):lt(Pl,e.pool)}function qo(){var t=Rs();return t===null?null:{parent:Vt._currentValue,pool:t}}var Ca=Error(s(460)),_s=Error(s(474)),Ei=Error(s(542)),Ri={then:function(){}};function Xo(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qo(t,e,l){switch(l=t[l],l===void 0?t.push(e):l!==e&&(e.then($e,$e),e=l),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Vo(t),t;default:if(typeof e.status=="string")e.then($e,$e);else{if(t=zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var n=e;n.status="fulfilled",n.value=a}},function(a){if(e.status==="pending"){var n=e;n.status="rejected",n.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Vo(t),t}throw ea=e,Ca}}function ta(t){try{var e=t._init;return e(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ea=l,Ca):l}}var ea=null;function Zo(){if(ea===null)throw Error(s(459));var t=ea;return ea=null,t}function Vo(t){if(t===Ca||t===Ei)throw Error(s(483))}var Da=null,yn=0;function _i(t){var e=yn;return yn+=1,Da===null&&(Da=[]),Qo(Da,t,e)}function pn(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ci(t,e){throw e.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(e),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ko(t){function e(H,U){if(t){var q=H.deletions;q===null?(H.deletions=[U],H.flags|=16):q.push(U)}}function l(H,U){if(!t)return null;for(;U!==null;)e(H,U),U=U.sibling;return null}function a(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function n(H,U){return H=We(H,U),H.index=0,H.sibling=null,H}function i(H,U,q){return H.index=q,t?(q=H.alternate,q!==null?(q=q.index,q<U?(H.flags|=67108866,U):q):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function r(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function N(H,U,q,W){return U===null||U.tag!==6?(U=ys(q,H.mode,W),U.return=H,U):(U=n(U,q),U.return=H,U)}function z(H,U,q,W){var ot=q.type;return ot===j?I(H,U,q.props.children,W,q.key):U!==null&&(U.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===G&&ta(ot)===U.type)?(U=n(U,q.props),pn(U,q),U.return=H,U):(U=Ni(q.type,q.key,q.props,null,H.mode,W),pn(U,q),U.return=H,U)}function X(H,U,q,W){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=ps(q,H.mode,W),U.return=H,U):(U=n(U,q.children||[]),U.return=H,U)}function I(H,U,q,W,ot){return U===null||U.tag!==7?(U=$l(q,H.mode,W,ot),U.return=H,U):(U=n(U,q),U.return=H,U)}function F(H,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=ys(""+U,H.mode,q),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case h:return q=Ni(U.type,U.key,U.props,null,H.mode,q),pn(q,U),q.return=H,q;case M:return U=ps(U,H.mode,q),U.return=H,U;case G:return U=ta(U),F(H,U,q)}if(it(U)||J(U))return U=$l(U,H.mode,q,null),U.return=H,U;if(typeof U.then=="function")return F(H,_i(U),q);if(U.$$typeof===R)return F(H,Ti(H,U),q);Ci(H,U)}return null}function Z(H,U,q,W){var ot=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ot!==null?null:N(H,U,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===ot?z(H,U,q,W):null;case M:return q.key===ot?X(H,U,q,W):null;case G:return q=ta(q),Z(H,U,q,W)}if(it(q)||J(q))return ot!==null?null:I(H,U,q,W,null);if(typeof q.then=="function")return Z(H,U,_i(q),W);if(q.$$typeof===R)return Z(H,U,Ti(H,q),W);Ci(H,q)}return null}function K(H,U,q,W,ot){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return H=H.get(q)||null,N(U,H,""+W,ot);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return H=H.get(W.key===null?q:W.key)||null,z(U,H,W,ot);case M:return H=H.get(W.key===null?q:W.key)||null,X(U,H,W,ot);case G:return W=ta(W),K(H,U,q,W,ot)}if(it(W)||J(W))return H=H.get(q)||null,I(U,H,W,ot,null);if(typeof W.then=="function")return K(H,U,q,_i(W),ot);if(W.$$typeof===R)return K(H,U,q,Ti(U,W),ot);Ci(U,W)}return null}function st(H,U,q,W){for(var ot=null,At=null,ut=U,gt=U=0,xt=null;ut!==null&&gt<q.length;gt++){ut.index>gt?(xt=ut,ut=null):xt=ut.sibling;var Mt=Z(H,ut,q[gt],W);if(Mt===null){ut===null&&(ut=xt);break}t&&ut&&Mt.alternate===null&&e(H,ut),U=i(Mt,U,gt),At===null?ot=Mt:At.sibling=Mt,At=Mt,ut=xt}if(gt===q.length)return l(H,ut),Nt&&Fe(H,gt),ot;if(ut===null){for(;gt<q.length;gt++)ut=F(H,q[gt],W),ut!==null&&(U=i(ut,U,gt),At===null?ot=ut:At.sibling=ut,At=ut);return Nt&&Fe(H,gt),ot}for(ut=a(ut);gt<q.length;gt++)xt=K(ut,H,gt,q[gt],W),xt!==null&&(t&&xt.alternate!==null&&ut.delete(xt.key===null?gt:xt.key),U=i(xt,U,gt),At===null?ot=xt:At.sibling=xt,At=xt);return t&&ut.forEach(function(Hl){return e(H,Hl)}),Nt&&Fe(H,gt),ot}function ft(H,U,q,W){if(q==null)throw Error(s(151));for(var ot=null,At=null,ut=U,gt=U=0,xt=null,Mt=q.next();ut!==null&&!Mt.done;gt++,Mt=q.next()){ut.index>gt?(xt=ut,ut=null):xt=ut.sibling;var Hl=Z(H,ut,Mt.value,W);if(Hl===null){ut===null&&(ut=xt);break}t&&ut&&Hl.alternate===null&&e(H,ut),U=i(Hl,U,gt),At===null?ot=Hl:At.sibling=Hl,At=Hl,ut=xt}if(Mt.done)return l(H,ut),Nt&&Fe(H,gt),ot;if(ut===null){for(;!Mt.done;gt++,Mt=q.next())Mt=F(H,Mt.value,W),Mt!==null&&(U=i(Mt,U,gt),At===null?ot=Mt:At.sibling=Mt,At=Mt);return Nt&&Fe(H,gt),ot}for(ut=a(ut);!Mt.done;gt++,Mt=q.next())Mt=K(ut,H,gt,Mt.value,W),Mt!==null&&(t&&Mt.alternate!==null&&ut.delete(Mt.key===null?gt:Mt.key),U=i(Mt,U,gt),At===null?ot=Mt:At.sibling=Mt,At=Mt);return t&&ut.forEach(function(Pg){return e(H,Pg)}),Nt&&Fe(H,gt),ot}function Dt(H,U,q,W){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:t:{for(var ot=q.key;U!==null;){if(U.key===ot){if(ot=q.type,ot===j){if(U.tag===7){l(H,U.sibling),W=n(U,q.props.children),W.return=H,H=W;break t}}else if(U.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===G&&ta(ot)===U.type){l(H,U.sibling),W=n(U,q.props),pn(W,q),W.return=H,H=W;break t}l(H,U);break}else e(H,U);U=U.sibling}q.type===j?(W=$l(q.props.children,H.mode,W,q.key),W.return=H,H=W):(W=Ni(q.type,q.key,q.props,null,H.mode,W),pn(W,q),W.return=H,H=W)}return r(H);case M:t:{for(ot=q.key;U!==null;){if(U.key===ot)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){l(H,U.sibling),W=n(U,q.children||[]),W.return=H,H=W;break t}else{l(H,U);break}else e(H,U);U=U.sibling}W=ps(q,H.mode,W),W.return=H,H=W}return r(H);case G:return q=ta(q),Dt(H,U,q,W)}if(it(q))return st(H,U,q,W);if(J(q)){if(ot=J(q),typeof ot!="function")throw Error(s(150));return q=ot.call(q),ft(H,U,q,W)}if(typeof q.then=="function")return Dt(H,U,_i(q),W);if(q.$$typeof===R)return Dt(H,U,Ti(H,q),W);Ci(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(l(H,U.sibling),W=n(U,q),W.return=H,H=W):(l(H,U),W=ys(q,H.mode,W),W.return=H,H=W),r(H)):l(H,U)}return function(H,U,q,W){try{yn=0;var ot=Dt(H,U,q,W);return Da=null,ot}catch(ut){if(ut===Ca||ut===Ei)throw ut;var At=Se(29,ut,null,H.mode);return At.lanes=W,At.return=H,At}}}var la=Ko(!0),ko=Ko(!1),Sl=!1;function Cs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ds(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nl(t,e,l){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Tt&2)!==0){var n=a.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),a.pending=e,e=xi(t),Co(t,null,l),e}return Si(t,a,e,l),xi(t)}function bn(t,e,l){if(e=e.updateQueue,e!==null&&(e=e.shared,(l&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,l|=a,e.lanes=l,Hr(t,l)}}function zs(t,e){var l=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,l=l.next}while(l!==null);i===null?n=i=e:i=i.next=e}else n=i=e;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=e:t.next=e,l.lastBaseUpdate=e}var Os=!1;function Sn(){if(Os){var t=_a;if(t!==null)throw t}}function xn(t,e,l,a){Os=!1;var n=t.updateQueue;Sl=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,N=n.shared.pending;if(N!==null){n.shared.pending=null;var z=N,X=z.next;z.next=null,r===null?i=X:r.next=X,r=z;var I=t.alternate;I!==null&&(I=I.updateQueue,N=I.lastBaseUpdate,N!==r&&(N===null?I.firstBaseUpdate=X:N.next=X,I.lastBaseUpdate=z))}if(i!==null){var F=n.baseState;r=0,I=X=z=null,N=i;do{var Z=N.lane&-536870913,K=Z!==N.lane;if(K?(St&Z)===Z:(a&Z)===Z){Z!==0&&Z===Ra&&(Os=!0),I!==null&&(I=I.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var st=t,ft=N;Z=e;var Dt=l;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){F=st.call(Dt,F,Z);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,Z=typeof st=="function"?st.call(Dt,F,Z):st,Z==null)break t;F=S({},F,Z);break t;case 2:Sl=!0}}Z=N.callback,Z!==null&&(t.flags|=64,K&&(t.flags|=8192),K=n.callbacks,K===null?n.callbacks=[Z]:K.push(Z))}else K={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},I===null?(X=I=K,z=F):I=I.next=K,r|=Z;if(N=N.next,N===null){if(N=n.shared.pending,N===null)break;K=N,N=K.next,K.next=null,n.lastBaseUpdate=K,n.shared.pending=null}}while(!0);I===null&&(z=F),n.baseState=z,n.firstBaseUpdate=X,n.lastBaseUpdate=I,i===null&&(n.shared.lanes=0),El|=r,t.lanes=r,t.memoizedState=F}}function Jo(t,e){if(typeof t!="function")throw Error(s(191,t));t.call(e)}function $o(t,e){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Jo(l[t],e)}var za=w(null),Di=w(0);function Io(t,e){t=rl,lt(Di,t),lt(za,e),rl=t|e.baseLanes}function ws(){lt(Di,rl),lt(za,za.current)}function Ls(){rl=Di.current,k(za),k(Di)}var xe=w(null),we=null;function Al(t){var e=t.alternate;lt(Xt,Xt.current&1),lt(xe,t),we===null&&(e===null||za.current!==null||e.memoizedState!==null)&&(we=t)}function Us(t){lt(Xt,Xt.current),lt(xe,t),we===null&&(we=t)}function Wo(t){t.tag===22?(lt(Xt,Xt.current),lt(xe,t),we===null&&(we=t)):Ml()}function Ml(){lt(Xt,Xt.current),lt(xe,xe.current)}function Ne(t){k(xe),we===t&&(we=null),k(Xt)}var Xt=w(0);function zi(t){for(var e=t;e!==null;){if(e.tag===13){var l=e.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Xu(l)||Qu(l)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var el=0,mt=null,_t=null,Kt=null,Oi=!1,Oa=!1,aa=!1,wi=0,Nn=0,wa=null,Qm=0;function Gt(){throw Error(s(321))}function Hs(t,e){if(e===null)return!1;for(var l=0;l<e.length&&l<t.length;l++)if(!be(t[l],e[l]))return!1;return!0}function Bs(t,e,l,a,n,i){return el=i,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B.H=t===null||t.memoizedState===null?Lf:Ps,aa=!1,i=l(a,n),aa=!1,Oa&&(i=Po(e,l,a,n)),Fo(t),i}function Fo(t){B.H=Tn;var e=_t!==null&&_t.next!==null;if(el=0,Kt=_t=mt=null,Oi=!1,Nn=0,wa=null,e)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Mi(t)&&(kt=!0))}function Po(t,e,l,a){mt=t;var n=0;do{if(Oa&&(wa=null),Nn=0,Oa=!1,25<=n)throw Error(s(301));if(n+=1,Kt=_t=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}B.H=Uf,i=e(l,a)}while(Oa);return i}function Zm(){var t=B.H,e=t.useState()[0];return e=typeof e.then=="function"?An(e):e,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(mt.flags|=1024),e}function Gs(){var t=wi!==0;return wi=0,t}function Ys(t,e,l){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l}function qs(t){if(Oi){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Oi=!1}el=0,Kt=_t=mt=null,Oa=!1,Nn=wi=0,wa=null}function se(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?mt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Qt(){if(_t===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Kt===null?mt.memoizedState:Kt.next;if(e!==null)Kt=e,_t=t;else{if(t===null)throw mt.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Kt===null?mt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Li(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function An(t){var e=Nn;return Nn+=1,wa===null&&(wa=[]),t=Qo(wa,t,e),e=mt,(Kt===null?e.memoizedState:Kt.next)===null&&(e=e.alternate,B.H=e===null||e.memoizedState===null?Lf:Ps),t}function Ui(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return An(t);if(t.$$typeof===R)return ee(t)}throw Error(s(438,String(t)))}function Xs(t){var e=null,l=mt.updateQueue;if(l!==null&&(e=l.memoCache),e==null){var a=mt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(n){return n.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),l===null&&(l=Li(),mt.updateQueue=l),l.memoCache=e,l=e.data[e.index],l===void 0)for(l=e.data[e.index]=Array(t),a=0;a<t;a++)l[a]=Y;return e.index++,l}function ll(t,e){return typeof e=="function"?e(t):e}function Hi(t){var e=Qt();return Qs(e,_t,t)}function Qs(t,e,l){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var n=t.baseQueue,i=a.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}e.baseQueue=n=i,a.pending=null}if(i=t.baseState,n===null)t.memoizedState=i;else{e=n.next;var N=r=null,z=null,X=e,I=!1;do{var F=X.lane&-536870913;if(F!==X.lane?(St&F)===F:(el&F)===F){var Z=X.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),F===Ra&&(I=!0);else if((el&Z)===Z){X=X.next,Z===Ra&&(I=!0);continue}else F={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(N=z=F,r=i):z=z.next=F,mt.lanes|=Z,El|=Z;F=X.action,aa&&l(i,F),i=X.hasEagerState?X.eagerState:l(i,F)}else Z={lane:F,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(N=z=Z,r=i):z=z.next=Z,mt.lanes|=F,El|=F;X=X.next}while(X!==null&&X!==e);if(z===null?r=i:z.next=N,!be(i,t.memoizedState)&&(kt=!0,I&&(l=_a,l!==null)))throw l;t.memoizedState=i,t.baseState=r,t.baseQueue=z,a.lastRenderedState=i}return n===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Zs(t){var e=Qt(),l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var a=l.dispatch,n=l.pending,i=e.memoizedState;if(n!==null){l.pending=null;var r=n=n.next;do i=t(i,r.action),r=r.next;while(r!==n);be(i,e.memoizedState)||(kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),l.lastRenderedState=i}return[i,a]}function tf(t,e,l){var a=mt,n=Qt(),i=Nt;if(i){if(l===void 0)throw Error(s(407));l=l()}else l=e();var r=!be((_t||n).memoizedState,l);if(r&&(n.memoizedState=l,kt=!0),n=n.queue,ks(af.bind(null,a,n,t),[t]),n.getSnapshot!==e||r||Kt!==null&&Kt.memoizedState.tag&1){if(a.flags|=2048,La(9,{destroy:void 0},lf.bind(null,a,n,l,e),null),zt===null)throw Error(s(349));i||(el&127)!==0||ef(a,e,l)}return l}function ef(t,e,l){t.flags|=16384,t={getSnapshot:e,value:l},e=mt.updateQueue,e===null?(e=Li(),mt.updateQueue=e,e.stores=[t]):(l=e.stores,l===null?e.stores=[t]:l.push(t))}function lf(t,e,l,a){e.value=l,e.getSnapshot=a,nf(e)&&cf(t)}function af(t,e,l){return l(function(){nf(e)&&cf(t)})}function nf(t){var e=t.getSnapshot;t=t.value;try{var l=e();return!be(t,l)}catch{return!0}}function cf(t){var e=Jl(t,2);e!==null&&me(e,t,2)}function Vs(t){var e=se();if(typeof t=="function"){var l=t;if(t=l(),aa){hl(!0);try{l()}finally{hl(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:t},e}function sf(t,e,l,a){return t.baseState=l,Qs(t,_t,typeof a=="function"?a:ll)}function Vm(t,e,l,a,n){if(Yi(t))throw Error(s(485));if(t=e.action,t!==null){var i={payload:n,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};B.T!==null?l(!0):i.isTransition=!1,a(i),l=e.pending,l===null?(i.next=e.pending=i,uf(e,i)):(i.next=l.next,e.pending=l.next=i)}}function uf(t,e){var l=e.action,a=e.payload,n=t.state;if(e.isTransition){var i=B.T,r={};B.T=r;try{var N=l(n,a),z=B.S;z!==null&&z(r,N),rf(t,e,N)}catch(X){Ks(t,e,X)}finally{i!==null&&r.types!==null&&(i.types=r.types),B.T=i}}else try{i=l(n,a),rf(t,e,i)}catch(X){Ks(t,e,X)}}function rf(t,e,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){of(t,e,a)},function(a){return Ks(t,e,a)}):of(t,e,l)}function of(t,e,l){e.status="fulfilled",e.value=l,ff(e),t.state=l,e=t.pending,e!==null&&(l=e.next,l===e?t.pending=null:(l=l.next,e.next=l,uf(t,l)))}function Ks(t,e,l){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=l,ff(e),e=e.next;while(e!==a)}t.action=null}function ff(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function df(t,e){return e}function hf(t,e){if(Nt){var l=zt.formState;if(l!==null){t:{var a=mt;if(Nt){if(wt){e:{for(var n=wt,i=Oe;n.nodeType!==8;){if(!i){n=null;break e}if(n=Le(n.nextSibling),n===null){n=null;break e}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){wt=Le(n.nextSibling),a=n.data==="F!";break t}}pl(a)}a=!1}a&&(e=l[0])}}return l=se(),l.memoizedState=l.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:e},l.queue=a,l=zf.bind(null,mt,a),a.dispatch=l,a=Vs(!1),i=Fs.bind(null,mt,!1,a.queue),a=se(),n={state:e,dispatch:null,action:t,pending:null},a.queue=n,l=Vm.bind(null,mt,n,i,l),n.dispatch=l,a.memoizedState=t,[e,l,!1]}function mf(t){var e=Qt();return gf(e,_t,t)}function gf(t,e,l){if(e=Qs(t,e,df)[0],t=Hi(ll)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=An(e)}catch(r){throw r===Ca?Ei:r}else a=e;e=Qt();var n=e.queue,i=n.dispatch;return l!==e.memoizedState&&(mt.flags|=2048,La(9,{destroy:void 0},Km.bind(null,n,l),null)),[a,i,t]}function Km(t,e){t.action=e}function vf(t){var e=Qt(),l=_t;if(l!==null)return gf(e,l,t);Qt(),e=e.memoizedState,l=Qt();var a=l.queue.dispatch;return l.memoizedState=t,[e,a,!1]}function La(t,e,l,a){return t={tag:t,create:l,deps:a,inst:e,next:null},e=mt.updateQueue,e===null&&(e=Li(),mt.updateQueue=e),l=e.lastEffect,l===null?e.lastEffect=t.next=t:(a=l.next,l.next=t,t.next=a,e.lastEffect=t),t}function yf(){return Qt().memoizedState}function Bi(t,e,l,a){var n=se();mt.flags|=t,n.memoizedState=La(1|e,{destroy:void 0},l,a===void 0?null:a)}function Gi(t,e,l,a){var n=Qt();a=a===void 0?null:a;var i=n.memoizedState.inst;_t!==null&&a!==null&&Hs(a,_t.memoizedState.deps)?n.memoizedState=La(e,i,l,a):(mt.flags|=t,n.memoizedState=La(1|e,i,l,a))}function pf(t,e){Bi(8390656,8,t,e)}function ks(t,e){Gi(2048,8,t,e)}function km(t){mt.flags|=4;var e=mt.updateQueue;if(e===null)e=Li(),mt.updateQueue=e,e.events=[t];else{var l=e.events;l===null?e.events=[t]:l.push(t)}}function bf(t){var e=Qt().memoizedState;return km({ref:e,nextImpl:t}),function(){if((Tt&2)!==0)throw Error(s(440));return e.impl.apply(void 0,arguments)}}function Sf(t,e){return Gi(4,2,t,e)}function xf(t,e){return Gi(4,4,t,e)}function Nf(t,e){if(typeof e=="function"){t=t();var l=e(t);return function(){typeof l=="function"?l():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Af(t,e,l){l=l!=null?l.concat([t]):null,Gi(4,4,Nf.bind(null,e,t),l)}function Js(){}function Mf(t,e){var l=Qt();e=e===void 0?null:e;var a=l.memoizedState;return e!==null&&Hs(e,a[1])?a[0]:(l.memoizedState=[t,e],t)}function Tf(t,e){var l=Qt();e=e===void 0?null:e;var a=l.memoizedState;if(e!==null&&Hs(e,a[1]))return a[0];if(a=t(),aa){hl(!0);try{t()}finally{hl(!1)}}return l.memoizedState=[a,e],a}function $s(t,e,l){return l===void 0||(el&1073741824)!==0&&(St&261930)===0?t.memoizedState=e:(t.memoizedState=l,t=jd(),mt.lanes|=t,El|=t,l)}function jf(t,e,l,a){return be(l,e)?l:za.current!==null?(t=$s(t,l,a),be(t,e)||(kt=!0),t):(el&42)===0||(el&1073741824)!==0&&(St&261930)===0?(kt=!0,t.memoizedState=l):(t=jd(),mt.lanes|=t,El|=t,e)}function Ef(t,e,l,a,n){var i=V.p;V.p=i!==0&&8>i?i:8;var r=B.T,N={};B.T=N,Fs(t,!1,e,l);try{var z=n(),X=B.S;if(X!==null&&X(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var I=Xm(z,a);Mn(t,e,I,Te(t))}else Mn(t,e,a,Te(t))}catch(F){Mn(t,e,{then:function(){},status:"rejected",reason:F},Te())}finally{V.p=i,r!==null&&N.types!==null&&(r.types=N.types),B.T=r}}function Jm(){}function Is(t,e,l,a){if(t.tag!==5)throw Error(s(476));var n=Rf(t).queue;Ef(t,n,e,$,l===null?Jm:function(){return _f(t),l(a)})}function Rf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:$},next:null};var l={};return e.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:l},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function _f(t){var e=Rf(t);e.next===null&&(e=t.alternate.memoizedState),Mn(t,e.next.queue,{},Te())}function Ws(){return ee(qn)}function Cf(){return Qt().memoizedState}function Df(){return Qt().memoizedState}function $m(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var l=Te();t=xl(l);var a=Nl(e,t,l);a!==null&&(me(a,e,l),bn(a,e,l)),e={cache:js()},t.payload=e;return}e=e.return}}function Im(t,e,l){var a=Te();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yi(t)?Of(e,l):(l=gs(t,e,l,a),l!==null&&(me(l,t,a),wf(l,e,a)))}function zf(t,e,l){var a=Te();Mn(t,e,l,a)}function Mn(t,e,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yi(t))Of(e,n);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var r=e.lastRenderedState,N=i(r,l);if(n.hasEagerState=!0,n.eagerState=N,be(N,r))return Si(t,e,n,0),zt===null&&bi(),!1}catch{}if(l=gs(t,e,n,a),l!==null)return me(l,t,a),wf(l,e,a),!0}return!1}function Fs(t,e,l,a){if(a={lane:2,revertLane:Cu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yi(t)){if(e)throw Error(s(479))}else e=gs(t,l,a,2),e!==null&&me(e,t,2)}function Yi(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function Of(t,e){Oa=Oi=!0;var l=t.pending;l===null?e.next=e:(e.next=l.next,l.next=e),t.pending=e}function wf(t,e,l){if((l&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,l|=a,e.lanes=l,Hr(t,l)}}var Tn={readContext:ee,use:Ui,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};Tn.useEffectEvent=Gt;var Lf={readContext:ee,use:Ui,useCallback:function(t,e){return se().memoizedState=[t,e===void 0?null:e],t},useContext:ee,useEffect:pf,useImperativeHandle:function(t,e,l){l=l!=null?l.concat([t]):null,Bi(4194308,4,Nf.bind(null,e,t),l)},useLayoutEffect:function(t,e){return Bi(4194308,4,t,e)},useInsertionEffect:function(t,e){Bi(4,2,t,e)},useMemo:function(t,e){var l=se();e=e===void 0?null:e;var a=t();if(aa){hl(!0);try{t()}finally{hl(!1)}}return l.memoizedState=[a,e],a},useReducer:function(t,e,l){var a=se();if(l!==void 0){var n=l(e);if(aa){hl(!0);try{l(e)}finally{hl(!1)}}}else n=e;return a.memoizedState=a.baseState=n,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=Im.bind(null,mt,t),[a.memoizedState,t]},useRef:function(t){var e=se();return t={current:t},e.memoizedState=t},useState:function(t){t=Vs(t);var e=t.queue,l=zf.bind(null,mt,e);return e.dispatch=l,[t.memoizedState,l]},useDebugValue:Js,useDeferredValue:function(t,e){var l=se();return $s(l,t,e)},useTransition:function(){var t=Vs(!1);return t=Ef.bind(null,mt,t.queue,!0,!1),se().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,l){var a=mt,n=se();if(Nt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=e(),zt===null)throw Error(s(349));(St&127)!==0||ef(a,e,l)}n.memoizedState=l;var i={value:l,getSnapshot:e};return n.queue=i,pf(af.bind(null,a,i,t),[t]),a.flags|=2048,La(9,{destroy:void 0},lf.bind(null,a,i,l,e),null),l},useId:function(){var t=se(),e=zt.identifierPrefix;if(Nt){var l=Xe,a=qe;l=(a&~(1<<32-pe(a)-1)).toString(32)+l,e="_"+e+"R_"+l,l=wi++,0<l&&(e+="H"+l.toString(32)),e+="_"}else l=Qm++,e="_"+e+"r_"+l.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Ws,useFormState:hf,useActionState:hf,useOptimistic:function(t){var e=se();e.memoizedState=e.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=l,e=Fs.bind(null,mt,!0,l),l.dispatch=e,[t,e]},useMemoCache:Xs,useCacheRefresh:function(){return se().memoizedState=$m.bind(null,mt)},useEffectEvent:function(t){var e=se(),l={impl:t};return e.memoizedState=l,function(){if((Tt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Ps={readContext:ee,use:Ui,useCallback:Mf,useContext:ee,useEffect:ks,useImperativeHandle:Af,useInsertionEffect:Sf,useLayoutEffect:xf,useMemo:Tf,useReducer:Hi,useRef:yf,useState:function(){return Hi(ll)},useDebugValue:Js,useDeferredValue:function(t,e){var l=Qt();return jf(l,_t.memoizedState,t,e)},useTransition:function(){var t=Hi(ll)[0],e=Qt().memoizedState;return[typeof t=="boolean"?t:An(t),e]},useSyncExternalStore:tf,useId:Cf,useHostTransitionStatus:Ws,useFormState:mf,useActionState:mf,useOptimistic:function(t,e){var l=Qt();return sf(l,_t,t,e)},useMemoCache:Xs,useCacheRefresh:Df};Ps.useEffectEvent=bf;var Uf={readContext:ee,use:Ui,useCallback:Mf,useContext:ee,useEffect:ks,useImperativeHandle:Af,useInsertionEffect:Sf,useLayoutEffect:xf,useMemo:Tf,useReducer:Zs,useRef:yf,useState:function(){return Zs(ll)},useDebugValue:Js,useDeferredValue:function(t,e){var l=Qt();return _t===null?$s(l,t,e):jf(l,_t.memoizedState,t,e)},useTransition:function(){var t=Zs(ll)[0],e=Qt().memoizedState;return[typeof t=="boolean"?t:An(t),e]},useSyncExternalStore:tf,useId:Cf,useHostTransitionStatus:Ws,useFormState:vf,useActionState:vf,useOptimistic:function(t,e){var l=Qt();return _t!==null?sf(l,_t,t,e):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Xs,useCacheRefresh:Df};Uf.useEffectEvent=bf;function tu(t,e,l,a){e=t.memoizedState,l=l(a,e),l=l==null?e:S({},e,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var eu={enqueueSetState:function(t,e,l){t=t._reactInternals;var a=Te(),n=xl(a);n.payload=e,l!=null&&(n.callback=l),e=Nl(t,n,a),e!==null&&(me(e,t,a),bn(e,t,a))},enqueueReplaceState:function(t,e,l){t=t._reactInternals;var a=Te(),n=xl(a);n.tag=1,n.payload=e,l!=null&&(n.callback=l),e=Nl(t,n,a),e!==null&&(me(e,t,a),bn(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var l=Te(),a=xl(l);a.tag=2,e!=null&&(a.callback=e),e=Nl(t,a,l),e!==null&&(me(e,t,l),bn(e,t,l))}};function Hf(t,e,l,a,n,i,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,i,r):e.prototype&&e.prototype.isPureReactComponent?!fn(l,a)||!fn(n,i):!0}function Bf(t,e,l,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(l,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(l,a),e.state!==t&&eu.enqueueReplaceState(e,e.state,null)}function na(t,e){var l=e;if("ref"in e){l={};for(var a in e)a!=="ref"&&(l[a]=e[a])}if(t=t.defaultProps){l===e&&(l=S({},l));for(var n in t)l[n]===void 0&&(l[n]=t[n])}return l}function Gf(t){pi(t)}function Yf(t){console.error(t)}function qf(t){pi(t)}function qi(t,e){try{var l=t.onUncaughtError;l(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Xf(t,e,l){try{var a=t.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function lu(t,e,l){return l=xl(l),l.tag=3,l.payload={element:null},l.callback=function(){qi(t,e)},l}function Qf(t){return t=xl(t),t.tag=3,t}function Zf(t,e,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;t.payload=function(){return n(i)},t.callback=function(){Xf(e,l,a)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Xf(e,l,a),typeof n!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})})}function Wm(t,e,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=l.alternate,e!==null&&Ea(e,l,n,!0),l=xe.current,l!==null){switch(l.tag){case 31:case 13:return we===null?Pi():l.alternate===null&&Yt===0&&(Yt=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Ri?l.flags|=16384:(e=l.updateQueue,e===null?l.updateQueue=new Set([a]):e.add(a),Eu(t,a,n)),!1;case 22:return l.flags|=65536,a===Ri?l.flags|=16384:(e=l.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=e):(l=e.retryQueue,l===null?e.retryQueue=new Set([a]):l.add(a)),Eu(t,a,n)),!1}throw Error(s(435,l.tag))}return Eu(t,a,n),Pi(),!1}if(Nt)return e=xe.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=n,a!==xs&&(t=Error(s(422),{cause:a}),mn(Ce(t,l)))):(a!==xs&&(e=Error(s(423),{cause:a}),mn(Ce(e,l))),t=t.current.alternate,t.flags|=65536,n&=-n,t.lanes|=n,a=Ce(a,l),n=lu(t.stateNode,a,n),zs(t,n),Yt!==4&&(Yt=2)),!1;var i=Error(s(520),{cause:a});if(i=Ce(i,l),On===null?On=[i]:On.push(i),Yt!==4&&(Yt=2),e===null)return!0;a=Ce(a,l),l=e;do{switch(l.tag){case 3:return l.flags|=65536,t=n&-n,l.lanes|=t,t=lu(l.stateNode,a,t),zs(l,t),!1;case 1:if(e=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Rl===null||!Rl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Qf(n),Zf(n,t,l,a),zs(l,n),!1}l=l.return}while(l!==null);return!1}var au=Error(s(461)),kt=!1;function le(t,e,l,a){e.child=t===null?ko(e,null,l,a):la(e,t.child,l,a)}function Vf(t,e,l,a,n){l=l.render;var i=e.ref;if("ref"in a){var r={};for(var N in a)N!=="ref"&&(r[N]=a[N])}else r=a;return Fl(e),a=Bs(t,e,l,r,i,n),N=Gs(),t!==null&&!kt?(Ys(t,e,n),al(t,e,n)):(Nt&&N&&bs(e),e.flags|=1,le(t,e,a,n),e.child)}function Kf(t,e,l,a,n){if(t===null){var i=l.type;return typeof i=="function"&&!vs(i)&&i.defaultProps===void 0&&l.compare===null?(e.tag=15,e.type=i,kf(t,e,i,a,n)):(t=Ni(l.type,null,a,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!fu(t,n)){var r=i.memoizedProps;if(l=l.compare,l=l!==null?l:fn,l(r,a)&&t.ref===e.ref)return al(t,e,n)}return e.flags|=1,t=We(i,a),t.ref=e.ref,t.return=e,e.child=t}function kf(t,e,l,a,n){if(t!==null){var i=t.memoizedProps;if(fn(i,a)&&t.ref===e.ref)if(kt=!1,e.pendingProps=a=i,fu(t,n))(t.flags&131072)!==0&&(kt=!0);else return e.lanes=t.lanes,al(t,e,n)}return nu(t,e,l,a,n)}function Jf(t,e,l,a){var n=a.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,t!==null){for(a=e.child=t.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,e.child=null;return $f(t,e,i,l,a)}if((l&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ji(e,i!==null?i.cachePool:null),i!==null?Io(e,i):ws(),Wo(e);else return a=e.lanes=536870912,$f(t,e,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(ji(e,i.cachePool),Io(e,i),Ml(),e.memoizedState=null):(t!==null&&ji(e,null),ws(),Ml());return le(t,e,n,l),e.child}function jn(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function $f(t,e,l,a,n){var i=Rs();return i=i===null?null:{parent:Vt._currentValue,pool:i},e.memoizedState={baseLanes:l,cachePool:i},t!==null&&ji(e,null),ws(),Wo(e),t!==null&&Ea(t,e,a,!0),e.childLanes=n,null}function Xi(t,e){return e=Zi({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function If(t,e,l){return la(e,t.child,null,l),t=Xi(e,e.pendingProps),t.flags|=2,Ne(e),e.memoizedState=null,t}function Fm(t,e,l){var a=e.pendingProps,n=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Nt){if(a.mode==="hidden")return t=Xi(e,a),e.lanes=536870912,jn(null,t);if(Us(e),(t=wt)?(t=uh(t,Oe),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:vl!==null?{id:qe,overflow:Xe}:null,retryLane:536870912,hydrationErrors:null},l=zo(t),l.return=e,e.child=l,te=e,wt=null)):t=null,t===null)throw pl(e);return e.lanes=536870912,null}return Xi(e,a)}var i=t.memoizedState;if(i!==null){var r=i.dehydrated;if(Us(e),n)if(e.flags&256)e.flags&=-257,e=If(t,e,l);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(s(558));else if(kt||Ea(t,e,l,!1),n=(l&t.childLanes)!==0,kt||n){if(a=zt,a!==null&&(r=Br(a,l),r!==0&&r!==i.retryLane))throw i.retryLane=r,Jl(t,r),me(a,t,r),au;Pi(),e=If(t,e,l)}else t=i.treeContext,wt=Le(r.nextSibling),te=e,Nt=!0,yl=null,Oe=!1,t!==null&&Lo(e,t),e=Xi(e,a),e.flags|=4096;return e}return t=We(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Qi(t,e){var l=e.ref;if(l===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(t===null||t.ref!==l)&&(e.flags|=4194816)}}function nu(t,e,l,a,n){return Fl(e),l=Bs(t,e,l,a,void 0,n),a=Gs(),t!==null&&!kt?(Ys(t,e,n),al(t,e,n)):(Nt&&a&&bs(e),e.flags|=1,le(t,e,l,n),e.child)}function Wf(t,e,l,a,n,i){return Fl(e),e.updateQueue=null,l=Po(e,a,l,n),Fo(t),a=Gs(),t!==null&&!kt?(Ys(t,e,i),al(t,e,i)):(Nt&&a&&bs(e),e.flags|=1,le(t,e,l,i),e.child)}function Ff(t,e,l,a,n){if(Fl(e),e.stateNode===null){var i=Aa,r=l.contextType;typeof r=="object"&&r!==null&&(i=ee(r)),i=new l(a,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=eu,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=a,i.state=e.memoizedState,i.refs={},Cs(e),r=l.contextType,i.context=typeof r=="object"&&r!==null?ee(r):Aa,i.state=e.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(tu(e,l,r,a),i.state=e.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&eu.enqueueReplaceState(i,i.state,null),xn(e,a,i,n),Sn(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){i=e.stateNode;var N=e.memoizedProps,z=na(l,N);i.props=z;var X=i.context,I=l.contextType;r=Aa,typeof I=="object"&&I!==null&&(r=ee(I));var F=l.getDerivedStateFromProps;I=typeof F=="function"||typeof i.getSnapshotBeforeUpdate=="function",N=e.pendingProps!==N,I||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(N||X!==r)&&Bf(e,i,a,r),Sl=!1;var Z=e.memoizedState;i.state=Z,xn(e,a,i,n),Sn(),X=e.memoizedState,N||Z!==X||Sl?(typeof F=="function"&&(tu(e,l,F,a),X=e.memoizedState),(z=Sl||Hf(e,l,z,a,Z,X,r))?(I||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=X),i.props=a,i.state=X,i.context=r,a=z):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{i=e.stateNode,Ds(t,e),r=e.memoizedProps,I=na(l,r),i.props=I,F=e.pendingProps,Z=i.context,X=l.contextType,z=Aa,typeof X=="object"&&X!==null&&(z=ee(X)),N=l.getDerivedStateFromProps,(X=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==F||Z!==z)&&Bf(e,i,a,z),Sl=!1,Z=e.memoizedState,i.state=Z,xn(e,a,i,n),Sn();var K=e.memoizedState;r!==F||Z!==K||Sl||t!==null&&t.dependencies!==null&&Mi(t.dependencies)?(typeof N=="function"&&(tu(e,l,N,a),K=e.memoizedState),(I=Sl||Hf(e,l,I,a,Z,K,z)||t!==null&&t.dependencies!==null&&Mi(t.dependencies))?(X||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,K,z),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,K,z)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===t.memoizedProps&&Z===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&Z===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=K),i.props=a,i.state=K,i.context=z,a=I):(typeof i.componentDidUpdate!="function"||r===t.memoizedProps&&Z===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&Z===t.memoizedState||(e.flags|=1024),a=!1)}return i=a,Qi(t,e),a=(e.flags&128)!==0,i||a?(i=e.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&a?(e.child=la(e,t.child,null,n),e.child=la(e,null,l,n)):le(t,e,l,n),e.memoizedState=i.state,t=e.child):t=al(t,e,n),t}function Pf(t,e,l,a){return Il(),e.flags|=256,le(t,e,l,a),e.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(t){return{baseLanes:t,cachePool:qo()}}function su(t,e,l){return t=t!==null?t.childLanes&~l:0,e&&(t|=Me),t}function td(t,e,l){var a=e.pendingProps,n=!1,i=(e.flags&128)!==0,r;if((r=i)||(r=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),r&&(n=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(Nt){if(n?Al(e):Ml(),(t=wt)?(t=uh(t,Oe),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:vl!==null?{id:qe,overflow:Xe}:null,retryLane:536870912,hydrationErrors:null},l=zo(t),l.return=e,e.child=l,te=e,wt=null)):t=null,t===null)throw pl(e);return Qu(t)?e.lanes=32:e.lanes=536870912,null}var N=a.children;return a=a.fallback,n?(Ml(),n=e.mode,N=Zi({mode:"hidden",children:N},n),a=$l(a,n,l,null),N.return=e,a.return=e,N.sibling=a,e.child=N,a=e.child,a.memoizedState=cu(l),a.childLanes=su(t,r,l),e.memoizedState=iu,jn(null,a)):(Al(e),uu(e,N))}var z=t.memoizedState;if(z!==null&&(N=z.dehydrated,N!==null)){if(i)e.flags&256?(Al(e),e.flags&=-257,e=ru(t,e,l)):e.memoizedState!==null?(Ml(),e.child=t.child,e.flags|=128,e=null):(Ml(),N=a.fallback,n=e.mode,a=Zi({mode:"visible",children:a.children},n),N=$l(N,n,l,null),N.flags|=2,a.return=e,N.return=e,a.sibling=N,e.child=a,la(e,t.child,null,l),a=e.child,a.memoizedState=cu(l),a.childLanes=su(t,r,l),e.memoizedState=iu,e=jn(null,a));else if(Al(e),Qu(N)){if(r=N.nextSibling&&N.nextSibling.dataset,r)var X=r.dgst;r=X,a=Error(s(419)),a.stack="",a.digest=r,mn({value:a,source:null,stack:null}),e=ru(t,e,l)}else if(kt||Ea(t,e,l,!1),r=(l&t.childLanes)!==0,kt||r){if(r=zt,r!==null&&(a=Br(r,l),a!==0&&a!==z.retryLane))throw z.retryLane=a,Jl(t,a),me(r,t,a),au;Xu(N)||Pi(),e=ru(t,e,l)}else Xu(N)?(e.flags|=192,e.child=t.child,e=null):(t=z.treeContext,wt=Le(N.nextSibling),te=e,Nt=!0,yl=null,Oe=!1,t!==null&&Lo(e,t),e=uu(e,a.children),e.flags|=4096);return e}return n?(Ml(),N=a.fallback,n=e.mode,z=t.child,X=z.sibling,a=We(z,{mode:"hidden",children:a.children}),a.subtreeFlags=z.subtreeFlags&65011712,X!==null?N=We(X,N):(N=$l(N,n,l,null),N.flags|=2),N.return=e,a.return=e,a.sibling=N,e.child=a,jn(null,a),a=e.child,N=t.child.memoizedState,N===null?N=cu(l):(n=N.cachePool,n!==null?(z=Vt._currentValue,n=n.parent!==z?{parent:z,pool:z}:n):n=qo(),N={baseLanes:N.baseLanes|l,cachePool:n}),a.memoizedState=N,a.childLanes=su(t,r,l),e.memoizedState=iu,jn(t.child,a)):(Al(e),l=t.child,t=l.sibling,l=We(l,{mode:"visible",children:a.children}),l.return=e,l.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=l,e.memoizedState=null,l)}function uu(t,e){return e=Zi({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Zi(t,e){return t=Se(22,t,null,e),t.lanes=0,t}function ru(t,e,l){return la(e,t.child,null,l),t=uu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ed(t,e,l){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Ms(t.return,e,l)}function ou(t,e,l,a,n,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=l,r.tailMode=n,r.treeForkCount=i)}function ld(t,e,l){var a=e.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var r=Xt.current,N=(r&2)!==0;if(N?(r=r&1|2,e.flags|=128):r&=1,lt(Xt,r),le(t,e,a,l),a=Nt?hn:0,!N&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ed(t,l,e);else if(t.tag===19)ed(t,l,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(n){case"forwards":for(l=e.child,n=null;l!==null;)t=l.alternate,t!==null&&zi(t)===null&&(n=l),l=l.sibling;l=n,l===null?(n=e.child,e.child=null):(n=l.sibling,l.sibling=null),ou(e,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&zi(t)===null){e.child=n;break}t=n.sibling,n.sibling=l,l=n,n=t}ou(e,!0,l,null,i,a);break;case"together":ou(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function al(t,e,l){if(t!==null&&(e.dependencies=t.dependencies),El|=e.lanes,(l&e.childLanes)===0)if(t!==null){if(Ea(t,e,l,!1),(l&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(s(153));if(e.child!==null){for(t=e.child,l=We(t,t.pendingProps),e.child=l,l.return=e;t.sibling!==null;)t=t.sibling,l=l.sibling=We(t,t.pendingProps),l.return=e;l.sibling=null}return e.child}function fu(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Mi(t)))}function Pm(t,e,l){switch(e.tag){case 3:Zt(e,e.stateNode.containerInfo),bl(e,Vt,t.memoizedState.cache),Il();break;case 27:case 5:Ot(e);break;case 4:Zt(e,e.stateNode.containerInfo);break;case 10:bl(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Us(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Al(e),e.flags|=128,null):(l&e.child.childLanes)!==0?td(t,e,l):(Al(e),t=al(t,e,l),t!==null?t.sibling:null);Al(e);break;case 19:var n=(t.flags&128)!==0;if(a=(l&e.childLanes)!==0,a||(Ea(t,e,l,!1),a=(l&e.childLanes)!==0),n){if(a)return ld(t,e,l);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),lt(Xt,Xt.current),a)break;return null;case 22:return e.lanes=0,Jf(t,e,l,e.pendingProps);case 24:bl(e,Vt,t.memoizedState.cache)}return al(t,e,l)}function ad(t,e,l){if(t!==null)if(t.memoizedProps!==e.pendingProps)kt=!0;else{if(!fu(t,l)&&(e.flags&128)===0)return kt=!1,Pm(t,e,l);kt=(t.flags&131072)!==0}else kt=!1,Nt&&(e.flags&1048576)!==0&&wo(e,hn,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=ta(e.elementType),e.type=t,typeof t=="function")vs(t)?(a=na(t,a),e.tag=1,e=Ff(null,e,t,a,l)):(e.tag=0,e=nu(null,e,t,a,l));else{if(t!=null){var n=t.$$typeof;if(n===C){e.tag=11,e=Vf(null,e,t,a,l);break t}else if(n===D){e.tag=14,e=Kf(null,e,t,a,l);break t}}throw e=et(t)||t,Error(s(306,e,""))}}return e;case 0:return nu(t,e,e.type,e.pendingProps,l);case 1:return a=e.type,n=na(a,e.pendingProps),Ff(t,e,a,n,l);case 3:t:{if(Zt(e,e.stateNode.containerInfo),t===null)throw Error(s(387));a=e.pendingProps;var i=e.memoizedState;n=i.element,Ds(t,e),xn(e,a,null,l);var r=e.memoizedState;if(a=r.cache,bl(e,Vt,a),a!==i.cache&&Ts(e,[Vt],l,!0),Sn(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Pf(t,e,a,l);break t}else if(a!==n){n=Ce(Error(s(424)),e),mn(n),e=Pf(t,e,a,l);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,wt=Le(t.firstChild),te=e,Nt=!0,yl=null,Oe=!0,l=ko(e,null,a,l),e.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Il(),a===n){e=al(t,e,l);break t}le(t,e,a,l)}e=e.child}return e;case 26:return Qi(t,e),t===null?(l=mh(e.type,null,e.pendingProps,null))?e.memoizedState=l:Nt||(l=e.type,t=e.pendingProps,a=cc(dt.current).createElement(l),a[Pt]=e,a[ue]=t,ae(a,l,t),Wt(a),e.stateNode=a):e.memoizedState=mh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ot(e),t===null&&Nt&&(a=e.stateNode=fh(e.type,e.pendingProps,dt.current),te=e,Oe=!0,n=wt,zl(e.type)?(Zu=n,wt=Le(a.firstChild)):wt=n),le(t,e,e.pendingProps.children,l),Qi(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Nt&&((n=a=wt)&&(a=_g(a,e.type,e.pendingProps,Oe),a!==null?(e.stateNode=a,te=e,wt=Le(a.firstChild),Oe=!1,n=!0):n=!1),n||pl(e)),Ot(e),n=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,a=i.children,Gu(n,i)?a=null:r!==null&&Gu(n,r)&&(e.flags|=32),e.memoizedState!==null&&(n=Bs(t,e,Zm,null,null,l),qn._currentValue=n),Qi(t,e),le(t,e,a,l),e.child;case 6:return t===null&&Nt&&((t=l=wt)&&(l=Cg(l,e.pendingProps,Oe),l!==null?(e.stateNode=l,te=e,wt=null,t=!0):t=!1),t||pl(e)),null;case 13:return td(t,e,l);case 4:return Zt(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=la(e,null,a,l):le(t,e,a,l),e.child;case 11:return Vf(t,e,e.type,e.pendingProps,l);case 7:return le(t,e,e.pendingProps,l),e.child;case 8:return le(t,e,e.pendingProps.children,l),e.child;case 12:return le(t,e,e.pendingProps.children,l),e.child;case 10:return a=e.pendingProps,bl(e,e.type,a.value),le(t,e,a.children,l),e.child;case 9:return n=e.type._context,a=e.pendingProps.children,Fl(e),n=ee(n),a=a(n),e.flags|=1,le(t,e,a,l),e.child;case 14:return Kf(t,e,e.type,e.pendingProps,l);case 15:return kf(t,e,e.type,e.pendingProps,l);case 19:return ld(t,e,l);case 31:return Fm(t,e,l);case 22:return Jf(t,e,l,e.pendingProps);case 24:return Fl(e),a=ee(Vt),t===null?(n=Rs(),n===null&&(n=zt,i=js(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),e.memoizedState={parent:a,cache:n},Cs(e),bl(e,Vt,n)):((t.lanes&l)!==0&&(Ds(t,e),xn(e,null,null,l),Sn()),n=t.memoizedState,i=e.memoizedState,n.parent!==a?(n={parent:a,cache:a},e.memoizedState=n,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=n),bl(e,Vt,a)):(a=i.cache,bl(e,Vt,a),a!==n.cache&&Ts(e,[Vt],l,!0))),le(t,e,e.pendingProps.children,l),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function nl(t){t.flags|=4}function du(t,e,l,a,n){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(n&335544128)===n)if(t.stateNode.complete)t.flags|=8192;else if(Cd())t.flags|=8192;else throw ea=Ri,_s}else t.flags&=-16777217}function nd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bh(e))if(Cd())t.flags|=8192;else throw ea=Ri,_s}function Vi(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Lr():536870912,t.lanes|=e,Ga|=e)}function En(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var l=null;e!==null;)e.alternate!==null&&(l=e),e=e.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,l=0,a=0;if(e)for(var n=t.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=l,e}function tg(t,e,l){var a=e.pendingProps;switch(Ss(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return Lt(e),null;case 3:return l=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),tl(Vt),Rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(ja(e)?nl(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Ns())),Lt(e),null;case 26:var n=e.type,i=e.memoizedState;return t===null?(nl(e),i!==null?(Lt(e),nd(e,i)):(Lt(e),du(e,n,null,a,l))):i?i!==t.memoizedState?(nl(e),Lt(e),nd(e,i)):(Lt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&nl(e),Lt(e),du(e,n,t,a,l)),null;case 27:if($t(e),l=dt.current,n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&nl(e);else{if(!a){if(e.stateNode===null)throw Error(s(166));return Lt(e),null}t=nt.current,ja(e)?Uo(e):(t=fh(n,a,l),e.stateNode=t,nl(e))}return Lt(e),null;case 5:if($t(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&nl(e);else{if(!a){if(e.stateNode===null)throw Error(s(166));return Lt(e),null}if(i=nt.current,ja(e))Uo(e);else{var r=cc(dt.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(n,{is:a.is}):r.createElement(n)}}i[Pt]=e,i[ue]=a;t:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=i;t:switch(ae(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&nl(e)}}return Lt(e),du(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,l),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&nl(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(s(166));if(t=dt.current,ja(e)){if(t=e.stateNode,l=e.memoizedProps,a=null,n=te,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}t[Pt]=e,t=!!(t.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||th(t.nodeValue,l)),t||pl(e,!0)}else t=cc(t).createTextNode(a),t[Pt]=e,e.stateNode=t}return Lt(e),null;case 31:if(l=e.memoizedState,t===null||t.memoizedState!==null){if(a=ja(e),l!==null){if(t===null){if(!a)throw Error(s(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Pt]=e}else Il(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Lt(e),t=!1}else l=Ns(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return e.flags&256?(Ne(e),e):(Ne(e),null);if((e.flags&128)!==0)throw Error(s(558))}return Lt(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(n=ja(e),a!==null&&a.dehydrated!==null){if(t===null){if(!n)throw Error(s(318));if(n=e.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));n[Pt]=e}else Il(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Lt(e),n=!1}else n=Ns(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),n=!0;if(!n)return e.flags&256?(Ne(e),e):(Ne(e),null)}return Ne(e),(e.flags&128)!==0?(e.lanes=l,e):(l=a!==null,t=t!==null&&t.memoizedState!==null,l&&(a=e.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==t&&l&&(e.child.flags|=8192),Vi(e,e.updateQueue),Lt(e),null);case 4:return Rt(),t===null&&wu(e.stateNode.containerInfo),Lt(e),null;case 10:return tl(e.type),Lt(e),null;case 19:if(k(Xt),a=e.memoizedState,a===null)return Lt(e),null;if(n=(e.flags&128)!==0,i=a.rendering,i===null)if(n)En(a,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(i=zi(t),i!==null){for(e.flags|=128,En(a,!1),t=i.updateQueue,e.updateQueue=t,Vi(e,t),e.subtreeFlags=0,t=l,l=e.child;l!==null;)Do(l,t),l=l.sibling;return lt(Xt,Xt.current&1|2),Nt&&Fe(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&ve()>Ii&&(e.flags|=128,n=!0,En(a,!1),e.lanes=4194304)}else{if(!n)if(t=zi(i),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,Vi(e,t),En(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Nt)return Lt(e),null}else 2*ve()-a.renderingStartTime>Ii&&l!==536870912&&(e.flags|=128,n=!0,En(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(t=a.last,t!==null?t.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ve(),t.sibling=null,l=Xt.current,lt(Xt,n?l&1|2:l&1),Nt&&Fe(e,a.treeForkCount),t):(Lt(e),null);case 22:case 23:return Ne(e),Ls(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(l&536870912)!==0&&(e.flags&128)===0&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),l=e.updateQueue,l!==null&&Vi(e,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==l&&(e.flags|=2048),t!==null&&k(Pl),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),tl(Vt),Lt(e),null;case 25:return null;case 30:return null}throw Error(s(156,e.tag))}function eg(t,e){switch(Ss(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tl(Vt),Rt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return $t(e),null;case 31:if(e.memoizedState!==null){if(Ne(e),e.alternate===null)throw Error(s(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ne(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(s(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return k(Xt),null;case 4:return Rt(),null;case 10:return tl(e.type),null;case 22:case 23:return Ne(e),Ls(),t!==null&&k(Pl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return tl(Vt),null;case 25:return null;default:return null}}function id(t,e){switch(Ss(e),e.tag){case 3:tl(Vt),Rt();break;case 26:case 27:case 5:$t(e);break;case 4:Rt();break;case 31:e.memoizedState!==null&&Ne(e);break;case 13:Ne(e);break;case 19:k(Xt);break;case 10:tl(e.type);break;case 22:case 23:Ne(e),Ls(),t!==null&&k(Pl);break;case 24:tl(Vt)}}function Rn(t,e){try{var l=e.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&t)===t){a=void 0;var i=l.create,r=l.inst;a=i(),r.destroy=a}l=l.next}while(l!==n)}}catch(N){Et(e,e.return,N)}}function Tl(t,e,l){try{var a=e.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&t)===t){var r=a.inst,N=r.destroy;if(N!==void 0){r.destroy=void 0,n=e;var z=l,X=N;try{X()}catch(I){Et(n,z,I)}}}a=a.next}while(a!==i)}}catch(I){Et(e,e.return,I)}}function cd(t){var e=t.updateQueue;if(e!==null){var l=t.stateNode;try{$o(e,l)}catch(a){Et(t,t.return,a)}}}function sd(t,e,l){l.props=na(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(a){Et(t,e,a)}}function _n(t,e){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof l=="function"?t.refCleanup=l(a):l.current=a}}catch(n){Et(t,e,n)}}function Qe(t,e){var l=t.ref,a=t.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){Et(t,e,n)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Et(t,e,n)}else l.current=null}function ud(t){var e=t.type,l=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break t;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){Et(t,t.return,n)}}function hu(t,e,l){try{var a=t.stateNode;Ag(a,t.type,l,e),a[ue]=e}catch(n){Et(t,t.return,n)}}function rd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zl(t.type)||t.tag===4}function mu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zl(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gu(t,e,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,e):(e=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,e.appendChild(t),l=l._reactRootContainer,l!=null||e.onclick!==null||(e.onclick=$e));else if(a!==4&&(a===27&&zl(t.type)&&(l=t.stateNode,e=null),t=t.child,t!==null))for(gu(t,e,l),t=t.sibling;t!==null;)gu(t,e,l),t=t.sibling}function Ki(t,e,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?l.insertBefore(t,e):l.appendChild(t);else if(a!==4&&(a===27&&zl(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Ki(t,e,l),t=t.sibling;t!==null;)Ki(t,e,l),t=t.sibling}function od(t){var e=t.stateNode,l=t.memoizedProps;try{for(var a=t.type,n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ae(e,a,l),e[Pt]=t,e[ue]=l}catch(i){Et(t,t.return,i)}}var il=!1,Jt=!1,vu=!1,fd=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function lg(t,e){if(t=t.containerInfo,Hu=hc,t=No(t),rs(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break t}var r=0,N=-1,z=-1,X=0,I=0,F=t,Z=null;e:for(;;){for(var K;F!==l||n!==0&&F.nodeType!==3||(N=r+n),F!==i||a!==0&&F.nodeType!==3||(z=r+a),F.nodeType===3&&(r+=F.nodeValue.length),(K=F.firstChild)!==null;)Z=F,F=K;for(;;){if(F===t)break e;if(Z===l&&++X===n&&(N=r),Z===i&&++I===a&&(z=r),(K=F.nextSibling)!==null)break;F=Z,Z=F.parentNode}F=K}l=N===-1||z===-1?null:{start:N,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bu={focusedElem:t,selectionRange:l},hc=!1,Ft=e;Ft!==null;)if(e=Ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ft=t;else for(;Ft!==null;){switch(e=Ft,i=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)n=t[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&i!==null){t=void 0,l=e,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var st=na(l.type,n);t=a.getSnapshotBeforeUpdate(st,i),a.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Et(l,l.return,ft)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,l=t.nodeType,l===9)qu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}}function dd(t,e,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:sl(t,l),a&4&&Rn(5,l);break;case 1:if(sl(t,l),a&4)if(t=l.stateNode,e===null)try{t.componentDidMount()}catch(r){Et(l,l.return,r)}else{var n=na(l.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(n,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){Et(l,l.return,r)}}a&64&&cd(l),a&512&&_n(l,l.return);break;case 3:if(sl(t,l),a&64&&(t=l.updateQueue,t!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{$o(t,e)}catch(r){Et(l,l.return,r)}}break;case 27:e===null&&a&4&&od(l);case 26:case 5:sl(t,l),e===null&&a&4&&ud(l),a&512&&_n(l,l.return);break;case 12:sl(t,l);break;case 31:sl(t,l),a&4&&gd(t,l);break;case 13:sl(t,l),a&4&&vd(t,l),a&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=fg.bind(null,l),Dg(t,l))));break;case 22:if(a=l.memoizedState!==null||il,!a){e=e!==null&&e.memoizedState!==null||Jt,n=il;var i=Jt;il=a,(Jt=e)&&!i?ul(t,l,(l.subtreeFlags&8772)!==0):sl(t,l),il=n,Jt=i}break;case 30:break;default:sl(t,l)}}function hd(t){var e=t.alternate;e!==null&&(t.alternate=null,hd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Kc(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,oe=!1;function cl(t,e,l){for(l=l.child;l!==null;)md(t,e,l),l=l.sibling}function md(t,e,l){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Fa,l)}catch{}switch(l.tag){case 26:Jt||Qe(l,e),cl(t,e,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jt||Qe(l,e);var a=Ht,n=oe;zl(l.type)&&(Ht=l.stateNode,oe=!1),cl(t,e,l),Bn(l.stateNode),Ht=a,oe=n;break;case 5:Jt||Qe(l,e);case 6:if(a=Ht,n=oe,Ht=null,cl(t,e,l),Ht=a,oe=n,Ht!==null)if(oe)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(l.stateNode)}catch(i){Et(l,e,i)}else try{Ht.removeChild(l.stateNode)}catch(i){Et(l,e,i)}break;case 18:Ht!==null&&(oe?(t=Ht,ch(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),ka(t)):ch(Ht,l.stateNode));break;case 4:a=Ht,n=oe,Ht=l.stateNode.containerInfo,oe=!0,cl(t,e,l),Ht=a,oe=n;break;case 0:case 11:case 14:case 15:Tl(2,l,e),Jt||Tl(4,l,e),cl(t,e,l);break;case 1:Jt||(Qe(l,e),a=l.stateNode,typeof a.componentWillUnmount=="function"&&sd(l,e,a)),cl(t,e,l);break;case 21:cl(t,e,l);break;case 22:Jt=(a=Jt)||l.memoizedState!==null,cl(t,e,l),Jt=a;break;default:cl(t,e,l)}}function gd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ka(t)}catch(l){Et(e,e.return,l)}}}function vd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ka(t)}catch(l){Et(e,e.return,l)}}function ag(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new fd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new fd),e;default:throw Error(s(435,t.tag))}}function ki(t,e){var l=ag(t);e.forEach(function(a){if(!l.has(a)){l.add(a);var n=dg.bind(null,t,a);a.then(n,n)}})}function fe(t,e){var l=e.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=t,r=e,N=r;t:for(;N!==null;){switch(N.tag){case 27:if(zl(N.type)){Ht=N.stateNode,oe=!1;break t}break;case 5:Ht=N.stateNode,oe=!1;break t;case 3:case 4:Ht=N.stateNode.containerInfo,oe=!0;break t}N=N.return}if(Ht===null)throw Error(s(160));md(i,r,n),Ht=null,oe=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)yd(e,t),e=e.sibling}var Be=null;function yd(t,e){var l=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fe(e,t),de(t),a&4&&(Tl(3,t,t.return),Rn(3,t),Tl(5,t,t.return));break;case 1:fe(e,t),de(t),a&512&&(Jt||l===null||Qe(l,l.return)),a&64&&il&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Be;if(fe(e,t),de(t),a&512&&(Jt||l===null||Qe(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=t.memoizedState,l===null)if(a===null)if(t.stateNode===null){t:{a=t.type,l=t.memoizedProps,n=n.ownerDocument||n;e:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[en]||i[Pt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),ae(i,a,l),i[Pt]=t,Wt(i),a=i;break t;case"link":var r=yh("link","href",n).get(a+(l.href||""));if(r){for(var N=0;N<r.length;N++)if(i=r[N],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(N,1);break e}}i=n.createElement(a),ae(i,a,l),n.head.appendChild(i);break;case"meta":if(r=yh("meta","content",n).get(a+(l.content||""))){for(N=0;N<r.length;N++)if(i=r[N],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(N,1);break e}}i=n.createElement(a),ae(i,a,l),n.head.appendChild(i);break;default:throw Error(s(468,a))}i[Pt]=t,Wt(i),a=i}t.stateNode=a}else ph(n,t.type,t.stateNode);else t.stateNode=vh(n,a,t.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?ph(n,t.type,t.stateNode):vh(n,a,t.memoizedProps)):a===null&&t.stateNode!==null&&hu(t,t.memoizedProps,l.memoizedProps)}break;case 27:fe(e,t),de(t),a&512&&(Jt||l===null||Qe(l,l.return)),l!==null&&a&4&&hu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(fe(e,t),de(t),a&512&&(Jt||l===null||Qe(l,l.return)),t.flags&32){n=t.stateNode;try{va(n,"")}catch(st){Et(t,t.return,st)}}a&4&&t.stateNode!=null&&(n=t.memoizedProps,hu(t,n,l!==null?l.memoizedProps:n)),a&1024&&(vu=!0);break;case 6:if(fe(e,t),de(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,l=t.stateNode;try{l.nodeValue=a}catch(st){Et(t,t.return,st)}}break;case 3:if(rc=null,n=Be,Be=sc(e.containerInfo),fe(e,t),Be=n,de(t),a&4&&l!==null&&l.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(st){Et(t,t.return,st)}vu&&(vu=!1,pd(t));break;case 4:a=Be,Be=sc(t.stateNode.containerInfo),fe(e,t),de(t),Be=a;break;case 12:fe(e,t),de(t);break;case 31:fe(e,t),de(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ki(t,a)));break;case 13:fe(e,t),de(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($i=ve()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ki(t,a)));break;case 22:n=t.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,X=il,I=Jt;if(il=X||n,Jt=I||z,fe(e,t),Jt=I,il=X,de(t),a&8192)t:for(e=t.stateNode,e._visibility=n?e._visibility&-2:e._visibility|1,n&&(l===null||z||il||Jt||ia(t)),l=null,e=t;;){if(e.tag===5||e.tag===26){if(l===null){z=l=e;try{if(i=z.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{N=z.stateNode;var F=z.memoizedProps.style,Z=F!=null&&F.hasOwnProperty("display")?F.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(st){Et(z,z.return,st)}}}else if(e.tag===6){if(l===null){z=e;try{z.stateNode.nodeValue=n?"":z.memoizedProps}catch(st){Et(z,z.return,st)}}}else if(e.tag===18){if(l===null){z=e;try{var K=z.stateNode;n?sh(K,!0):sh(z.stateNode,!1)}catch(st){Et(z,z.return,st)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;l===e&&(l=null),e=e.return}l===e&&(l=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,ki(t,l))));break;case 19:fe(e,t),de(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ki(t,a)));break;case 30:break;case 21:break;default:fe(e,t),de(t)}}function de(t){var e=t.flags;if(e&2){try{for(var l,a=t.return;a!==null;){if(rd(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var n=l.stateNode,i=mu(t);Ki(t,i,n);break;case 5:var r=l.stateNode;l.flags&32&&(va(r,""),l.flags&=-33);var N=mu(t);Ki(t,N,r);break;case 3:case 4:var z=l.stateNode.containerInfo,X=mu(t);gu(t,X,z);break;default:throw Error(s(161))}}catch(I){Et(t,t.return,I)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;pd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function sl(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)dd(t,e.alternate,e),e=e.sibling}function ia(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Tl(4,e,e.return),ia(e);break;case 1:Qe(e,e.return);var l=e.stateNode;typeof l.componentWillUnmount=="function"&&sd(e,e.return,l),ia(e);break;case 27:Bn(e.stateNode);case 26:case 5:Qe(e,e.return),ia(e);break;case 22:e.memoizedState===null&&ia(e);break;case 30:ia(e);break;default:ia(e)}t=t.sibling}}function ul(t,e,l){for(l=l&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,n=t,i=e,r=i.flags;switch(i.tag){case 0:case 11:case 15:ul(n,i,l),Rn(4,i);break;case 1:if(ul(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(X){Et(a,a.return,X)}if(a=i,n=a.updateQueue,n!==null){var N=a.stateNode;try{var z=n.shared.hiddenCallbacks;if(z!==null)for(n.shared.hiddenCallbacks=null,n=0;n<z.length;n++)Jo(z[n],N)}catch(X){Et(a,a.return,X)}}l&&r&64&&cd(i),_n(i,i.return);break;case 27:od(i);case 26:case 5:ul(n,i,l),l&&a===null&&r&4&&ud(i),_n(i,i.return);break;case 12:ul(n,i,l);break;case 31:ul(n,i,l),l&&r&4&&gd(n,i);break;case 13:ul(n,i,l),l&&r&4&&vd(n,i);break;case 22:i.memoizedState===null&&ul(n,i,l),_n(i,i.return);break;case 30:break;default:ul(n,i,l)}e=e.sibling}}function yu(t,e){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&gn(l))}function pu(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gn(t))}function Ge(t,e,l,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bd(t,e,l,a),e=e.sibling}function bd(t,e,l,a){var n=e.flags;switch(e.tag){case 0:case 11:case 15:Ge(t,e,l,a),n&2048&&Rn(9,e);break;case 1:Ge(t,e,l,a);break;case 3:Ge(t,e,l,a),n&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gn(t)));break;case 12:if(n&2048){Ge(t,e,l,a),t=e.stateNode;try{var i=e.memoizedProps,r=i.id,N=i.onPostCommit;typeof N=="function"&&N(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Et(e,e.return,z)}}else Ge(t,e,l,a);break;case 31:Ge(t,e,l,a);break;case 13:Ge(t,e,l,a);break;case 23:break;case 22:i=e.stateNode,r=e.alternate,e.memoizedState!==null?i._visibility&2?Ge(t,e,l,a):Cn(t,e):i._visibility&2?Ge(t,e,l,a):(i._visibility|=2,Ua(t,e,l,a,(e.subtreeFlags&10256)!==0||!1)),n&2048&&yu(r,e);break;case 24:Ge(t,e,l,a),n&2048&&pu(e.alternate,e);break;default:Ge(t,e,l,a)}}function Ua(t,e,l,a,n){for(n=n&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,r=e,N=l,z=a,X=r.flags;switch(r.tag){case 0:case 11:case 15:Ua(i,r,N,z,n),Rn(8,r);break;case 23:break;case 22:var I=r.stateNode;r.memoizedState!==null?I._visibility&2?Ua(i,r,N,z,n):Cn(i,r):(I._visibility|=2,Ua(i,r,N,z,n)),n&&X&2048&&yu(r.alternate,r);break;case 24:Ua(i,r,N,z,n),n&&X&2048&&pu(r.alternate,r);break;default:Ua(i,r,N,z,n)}e=e.sibling}}function Cn(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var l=t,a=e,n=a.flags;switch(a.tag){case 22:Cn(l,a),n&2048&&yu(a.alternate,a);break;case 24:Cn(l,a),n&2048&&pu(a.alternate,a);break;default:Cn(l,a)}e=e.sibling}}var Dn=8192;function Ha(t,e,l){if(t.subtreeFlags&Dn)for(t=t.child;t!==null;)Sd(t,e,l),t=t.sibling}function Sd(t,e,l){switch(t.tag){case 26:Ha(t,e,l),t.flags&Dn&&t.memoizedState!==null&&Qg(l,Be,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,e,l);break;case 3:case 4:var a=Be;Be=sc(t.stateNode.containerInfo),Ha(t,e,l),Be=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Dn,Dn=16777216,Ha(t,e,l),Dn=a):Ha(t,e,l));break;default:Ha(t,e,l)}}function xd(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function zn(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var a=e[l];Ft=a,Ad(a,t)}xd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nd(t),t=t.sibling}function Nd(t){switch(t.tag){case 0:case 11:case 15:zn(t),t.flags&2048&&Tl(9,t,t.return);break;case 3:zn(t);break;case 12:zn(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ji(t)):zn(t);break;default:zn(t)}}function Ji(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var a=e[l];Ft=a,Ad(a,t)}xd(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Tl(8,e,e.return),Ji(e);break;case 22:l=e.stateNode,l._visibility&2&&(l._visibility&=-3,Ji(e));break;default:Ji(e)}t=t.sibling}}function Ad(t,e){for(;Ft!==null;){var l=Ft;switch(l.tag){case 0:case 11:case 15:Tl(8,l,e);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:gn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Ft=a;else t:for(l=t;Ft!==null;){a=Ft;var n=a.sibling,i=a.return;if(hd(a),a===l){Ft=null;break t}if(n!==null){n.return=i,Ft=n;break t}Ft=i}}}var ng={getCacheForType:function(t){var e=ee(Vt),l=e.data.get(t);return l===void 0&&(l=t(),e.data.set(t,l)),l},cacheSignal:function(){return ee(Vt).controller.signal}},ig=typeof WeakMap=="function"?WeakMap:Map,Tt=0,zt=null,pt=null,St=0,jt=0,Ae=null,jl=!1,Ba=!1,bu=!1,rl=0,Yt=0,El=0,ca=0,Su=0,Me=0,Ga=0,On=null,he=null,xu=!1,$i=0,Md=0,Ii=1/0,Wi=null,Rl=null,It=0,_l=null,Ya=null,ol=0,Nu=0,Au=null,Td=null,wn=0,Mu=null;function Te(){return(Tt&2)!==0&&St!==0?St&-St:B.T!==null?Cu():Gr()}function jd(){if(Me===0)if((St&536870912)===0||Nt){var t=ii;ii<<=1,(ii&3932160)===0&&(ii=262144),Me=t}else Me=536870912;return t=xe.current,t!==null&&(t.flags|=32),Me}function me(t,e,l){(t===zt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Cl(t,St,Me,!1)),tn(t,l),((Tt&2)===0||t!==zt)&&(t===zt&&((Tt&2)===0&&(ca|=l),Yt===4&&Cl(t,St,Me,!1)),Ze(t))}function Ed(t,e,l){if((Tt&6)!==0)throw Error(s(327));var a=!l&&(e&127)===0&&(e&t.expiredLanes)===0||Pa(t,e),n=a?ug(t,e):ju(t,e,!0),i=a;do{if(n===0){Ba&&!a&&Cl(t,e,0,!1);break}else{if(l=t.current.alternate,i&&!cg(l)){n=ju(t,e,!1),i=!1;continue}if(n===2){if(i=e,t.errorRecoveryDisabledLanes&i)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;t:{var N=t;n=On;var z=N.current.memoizedState.isDehydrated;if(z&&(qa(N,r).flags|=256),r=ju(N,r,!1),r!==2){if(bu&&!z){N.errorRecoveryDisabledLanes|=i,ca|=i,n=4;break t}i=he,he=n,i!==null&&(he===null?he=i:he.push.apply(he,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){qa(t,0),Cl(t,e,0,!0);break}t:{switch(a=t,i=n,i){case 0:case 1:throw Error(s(345));case 4:if((e&4194048)!==e)break;case 6:Cl(a,e,Me,!jl);break t;case 2:he=null;break;case 3:case 5:break;default:throw Error(s(329))}if((e&62914560)===e&&(n=$i+300-ve(),10<n)){if(Cl(a,e,Me,!jl),si(a,0,!0)!==0)break t;ol=e,a.timeoutHandle=nh(Rd.bind(null,a,l,he,Wi,xu,e,Me,ca,Ga,jl,i,"Throttled",-0,0),n);break t}Rd(a,l,he,Wi,xu,e,Me,ca,Ga,jl,i,null,-0,0)}}break}while(!0);Ze(t)}function Rd(t,e,l,a,n,i,r,N,z,X,I,F,Z,K){if(t.timeoutHandle=-1,F=e.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$e},Sd(e,i,F);var st=(i&62914560)===i?$i-ve():(i&4194048)===i?Md-ve():0;if(st=Zg(F,st),st!==null){ol=i,t.cancelPendingCommit=st(Ud.bind(null,t,e,i,l,a,n,r,N,z,I,F,null,Z,K)),Cl(t,i,r,!X);return}}Ud(t,e,i,l,a,n,r,N,z)}function cg(t){for(var e=t;;){var l=e.tag;if((l===0||l===11||l===15)&&e.flags&16384&&(l=e.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!be(i(),n))return!1}catch{return!1}}if(l=e.child,e.subtreeFlags&16384&&l!==null)l.return=e,e=l;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cl(t,e,l,a){e&=~Su,e&=~ca,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var n=e;0<n;){var i=31-pe(n),r=1<<i;a[i]=-1,n&=~r}l!==0&&Ur(t,l,e)}function Fi(){return(Tt&6)===0?(Ln(0),!1):!0}function Tu(){if(pt!==null){if(jt===0)var t=pt.return;else t=pt,Pe=Wl=null,qs(t),Da=null,yn=0,t=pt;for(;t!==null;)id(t.alternate,t),t=t.return;pt=null}}function qa(t,e){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,jg(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),ol=0,Tu(),zt=t,pt=l=We(t.current,null),St=e,jt=0,Ae=null,jl=!1,Ba=Pa(t,e),bu=!1,Ga=Me=Su=ca=El=Yt=0,he=On=null,xu=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var n=31-pe(a),i=1<<n;e|=t[n],a&=~i}return rl=e,bi(),l}function _d(t,e){mt=null,B.H=Tn,e===Ca||e===Ei?(e=Zo(),jt=3):e===_s?(e=Zo(),jt=4):jt=e===au?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ae=e,pt===null&&(Yt=1,qi(t,Ce(e,t.current)))}function Cd(){var t=xe.current;return t===null?!0:(St&4194048)===St?we===null:(St&62914560)===St||(St&536870912)!==0?t===we:!1}function Dd(){var t=B.H;return B.H=Tn,t===null?Tn:t}function zd(){var t=B.A;return B.A=ng,t}function Pi(){Yt=4,jl||(St&4194048)!==St&&xe.current!==null||(Ba=!0),(El&134217727)===0&&(ca&134217727)===0||zt===null||Cl(zt,St,Me,!1)}function ju(t,e,l){var a=Tt;Tt|=2;var n=Dd(),i=zd();(zt!==t||St!==e)&&(Wi=null,qa(t,e)),e=!1;var r=Yt;t:do try{if(jt!==0&&pt!==null){var N=pt,z=Ae;switch(jt){case 8:Tu(),r=6;break t;case 3:case 2:case 9:case 6:xe.current===null&&(e=!0);var X=jt;if(jt=0,Ae=null,Xa(t,N,z,X),l&&Ba){r=0;break t}break;default:X=jt,jt=0,Ae=null,Xa(t,N,z,X)}}sg(),r=Yt;break}catch(I){_d(t,I)}while(!0);return e&&t.shellSuspendCounter++,Pe=Wl=null,Tt=a,B.H=n,B.A=i,pt===null&&(zt=null,St=0,bi()),r}function sg(){for(;pt!==null;)Od(pt)}function ug(t,e){var l=Tt;Tt|=2;var a=Dd(),n=zd();zt!==t||St!==e?(Wi=null,Ii=ve()+500,qa(t,e)):Ba=Pa(t,e);t:do try{if(jt!==0&&pt!==null){e=pt;var i=Ae;e:switch(jt){case 1:jt=0,Ae=null,Xa(t,e,i,1);break;case 2:case 9:if(Xo(i)){jt=0,Ae=null,wd(e);break}e=function(){jt!==2&&jt!==9||zt!==t||(jt=7),Ze(t)},i.then(e,e);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:Xo(i)?(jt=0,Ae=null,wd(e)):(jt=0,Ae=null,Xa(t,e,i,7));break;case 5:var r=null;switch(pt.tag){case 26:r=pt.memoizedState;case 5:case 27:var N=pt;if(r?bh(r):N.stateNode.complete){jt=0,Ae=null;var z=N.sibling;if(z!==null)pt=z;else{var X=N.return;X!==null?(pt=X,tc(X)):pt=null}break e}}jt=0,Ae=null,Xa(t,e,i,5);break;case 6:jt=0,Ae=null,Xa(t,e,i,6);break;case 8:Tu(),Yt=6;break t;default:throw Error(s(462))}}rg();break}catch(I){_d(t,I)}while(!0);return Pe=Wl=null,B.H=a,B.A=n,Tt=l,pt!==null?0:(zt=null,St=0,bi(),Yt)}function rg(){for(;pt!==null&&!z0();)Od(pt)}function Od(t){var e=ad(t.alternate,t,rl);t.memoizedProps=t.pendingProps,e===null?tc(t):pt=e}function wd(t){var e=t,l=e.alternate;switch(e.tag){case 15:case 0:e=Wf(l,e,e.pendingProps,e.type,void 0,St);break;case 11:e=Wf(l,e,e.pendingProps,e.type.render,e.ref,St);break;case 5:qs(e);default:id(l,e),e=pt=Do(e,rl),e=ad(l,e,rl)}t.memoizedProps=t.pendingProps,e===null?tc(t):pt=e}function Xa(t,e,l,a){Pe=Wl=null,qs(e),Da=null,yn=0;var n=e.return;try{if(Wm(t,n,e,l,St)){Yt=1,qi(t,Ce(l,t.current)),pt=null;return}}catch(i){if(n!==null)throw pt=n,i;Yt=1,qi(t,Ce(l,t.current)),pt=null;return}e.flags&32768?(Nt||a===1?t=!0:Ba||(St&536870912)!==0?t=!1:(jl=t=!0,(a===2||a===9||a===3||a===6)&&(a=xe.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ld(e,t)):tc(e)}function tc(t){var e=t;do{if((e.flags&32768)!==0){Ld(e,jl);return}t=e.return;var l=tg(e.alternate,e,rl);if(l!==null){pt=l;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);Yt===0&&(Yt=5)}function Ld(t,e){do{var l=eg(t.alternate,t);if(l!==null){l.flags&=32767,pt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!e&&(t=t.sibling,t!==null)){pt=t;return}pt=t=l}while(t!==null);Yt=6,pt=null}function Ud(t,e,l,a,n,i,r,N,z){t.cancelPendingCommit=null;do ec();while(It!==0);if((Tt&6)!==0)throw Error(s(327));if(e!==null){if(e===t.current)throw Error(s(177));if(i=e.lanes|e.childLanes,i|=ms,X0(t,l,i,r,N,z),t===zt&&(pt=zt=null,St=0),Ya=e,_l=t,ol=l,Nu=i,Au=n,Td=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hg(ai,function(){return qd(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=B.T,B.T=null,n=V.p,V.p=2,r=Tt,Tt|=4;try{lg(t,e,l)}finally{Tt=r,V.p=n,B.T=a}}It=1,Hd(),Bd(),Gd()}}function Hd(){if(It===1){It=0;var t=_l,e=Ya,l=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var a=V.p;V.p=2;var n=Tt;Tt|=4;try{yd(e,t);var i=Bu,r=No(t.containerInfo),N=i.focusedElem,z=i.selectionRange;if(r!==N&&N&&N.ownerDocument&&xo(N.ownerDocument.documentElement,N)){if(z!==null&&rs(N)){var X=z.start,I=z.end;if(I===void 0&&(I=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(I,N.value.length);else{var F=N.ownerDocument||document,Z=F&&F.defaultView||window;if(Z.getSelection){var K=Z.getSelection(),st=N.textContent.length,ft=Math.min(z.start,st),Dt=z.end===void 0?ft:Math.min(z.end,st);!K.extend&&ft>Dt&&(r=Dt,Dt=ft,ft=r);var H=So(N,ft),U=So(N,Dt);if(H&&U&&(K.rangeCount!==1||K.anchorNode!==H.node||K.anchorOffset!==H.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var q=F.createRange();q.setStart(H.node,H.offset),K.removeAllRanges(),ft>Dt?(K.addRange(q),K.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),K.addRange(q))}}}}for(F=[],K=N;K=K.parentNode;)K.nodeType===1&&F.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<F.length;N++){var W=F[N];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}hc=!!Hu,Bu=Hu=null}finally{Tt=n,V.p=a,B.T=l}}t.current=e,It=2}}function Bd(){if(It===2){It=0;var t=_l,e=Ya,l=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var a=V.p;V.p=2;var n=Tt;Tt|=4;try{dd(t,e.alternate,e)}finally{Tt=n,V.p=a,B.T=l}}It=3}}function Gd(){if(It===4||It===3){It=0,O0();var t=_l,e=Ya,l=ol,a=Td;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?It=5:(It=0,Ya=_l=null,Yd(t,t.pendingLanes));var n=t.pendingLanes;if(n===0&&(Rl=null),Zc(l),e=e.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Fa,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=B.T,n=V.p,V.p=2,B.T=null;try{for(var i=t.onRecoverableError,r=0;r<a.length;r++){var N=a[r];i(N.value,{componentStack:N.stack})}}finally{B.T=e,V.p=n}}(ol&3)!==0&&ec(),Ze(t),n=t.pendingLanes,(l&261930)!==0&&(n&42)!==0?t===Mu?wn++:(wn=0,Mu=t):wn=0,Ln(0)}}function Yd(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,gn(e)))}function ec(){return Hd(),Bd(),Gd(),qd()}function qd(){if(It!==5)return!1;var t=_l,e=Nu;Nu=0;var l=Zc(ol),a=B.T,n=V.p;try{V.p=32>l?32:l,B.T=null,l=Au,Au=null;var i=_l,r=ol;if(It=0,Ya=_l=null,ol=0,(Tt&6)!==0)throw Error(s(331));var N=Tt;if(Tt|=4,Nd(i.current),bd(i,i.current,r,l),Tt=N,Ln(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Fa,i)}catch{}return!0}finally{V.p=n,B.T=a,Yd(t,e)}}function Xd(t,e,l){e=Ce(l,e),e=lu(t.stateNode,e,2),t=Nl(t,e,2),t!==null&&(tn(t,2),Ze(t))}function Et(t,e,l){if(t.tag===3)Xd(t,t,l);else for(;e!==null;){if(e.tag===3){Xd(e,t,l);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rl===null||!Rl.has(a))){t=Ce(l,t),l=Qf(2),a=Nl(e,l,2),a!==null&&(Zf(l,a,e,t),tn(a,2),Ze(a));break}}e=e.return}}function Eu(t,e,l){var a=t.pingCache;if(a===null){a=t.pingCache=new ig;var n=new Set;a.set(e,n)}else n=a.get(e),n===void 0&&(n=new Set,a.set(e,n));n.has(l)||(bu=!0,n.add(l),t=og.bind(null,t,e,l),e.then(t,t))}function og(t,e,l){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,zt===t&&(St&l)===l&&(Yt===4||Yt===3&&(St&62914560)===St&&300>ve()-$i?(Tt&2)===0&&qa(t,0):Su|=l,Ga===St&&(Ga=0)),Ze(t)}function Qd(t,e){e===0&&(e=Lr()),t=Jl(t,e),t!==null&&(tn(t,e),Ze(t))}function fg(t){var e=t.memoizedState,l=0;e!==null&&(l=e.retryLane),Qd(t,l)}function dg(t,e){var l=0;switch(t.tag){case 31:case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(e),Qd(t,l)}function hg(t,e){return Yc(t,e)}var lc=null,Qa=null,Ru=!1,ac=!1,_u=!1,Dl=0;function Ze(t){t!==Qa&&t.next===null&&(Qa===null?lc=Qa=t:Qa=Qa.next=t),ac=!0,Ru||(Ru=!0,gg())}function Ln(t,e){if(!_u&&ac){_u=!0;do for(var l=!1,a=lc;a!==null;){if(t!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var r=a.suspendedLanes,N=a.pingedLanes;i=(1<<31-pe(42|t)+1)-1,i&=n&~(r&~N),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,kd(a,i))}else i=St,i=si(a,a===zt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Pa(a,i)||(l=!0,kd(a,i));a=a.next}while(l);_u=!1}}function mg(){Zd()}function Zd(){ac=Ru=!1;var t=0;Dl!==0&&Tg()&&(t=Dl);for(var e=ve(),l=null,a=lc;a!==null;){var n=a.next,i=Vd(a,e);i===0?(a.next=null,l===null?lc=n:l.next=n,n===null&&(Qa=l)):(l=a,(t!==0||(i&3)!==0)&&(ac=!0)),a=n}It!==0&&It!==5||Ln(t),Dl!==0&&(Dl=0)}function Vd(t,e){for(var l=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var r=31-pe(i),N=1<<r,z=n[r];z===-1?((N&l)===0||(N&a)!==0)&&(n[r]=q0(N,e)):z<=e&&(t.expiredLanes|=N),i&=~N}if(e=zt,l=St,l=si(t,t===e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,l===0||t===e&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&qc(a),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Pa(t,l)){if(e=l&-l,e===t.callbackPriority)return e;switch(a!==null&&qc(a),Zc(l)){case 2:case 8:l=Or;break;case 32:l=ai;break;case 268435456:l=wr;break;default:l=ai}return a=Kd.bind(null,t),l=Yc(l,a),t.callbackPriority=e,t.callbackNode=l,e}return a!==null&&a!==null&&qc(a),t.callbackPriority=2,t.callbackNode=null,2}function Kd(t,e){if(It!==0&&It!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(ec()&&t.callbackNode!==l)return null;var a=St;return a=si(t,t===zt?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Ed(t,a,e),Vd(t,ve()),t.callbackNode!=null&&t.callbackNode===l?Kd.bind(null,t):null)}function kd(t,e){if(ec())return null;Ed(t,e,!0)}function gg(){Eg(function(){(Tt&6)!==0?Yc(zr,mg):Zd()})}function Cu(){if(Dl===0){var t=Ra;t===0&&(t=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Dl=t}return Dl}function Jd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fi(""+t)}function $d(t,e){var l=e.ownerDocument.createElement("input");return l.name=e.name,l.value=e.value,t.id&&l.setAttribute("form",t.id),e.parentNode.insertBefore(l,e),t=new FormData(t),l.parentNode.removeChild(l),t}function vg(t,e,l,a,n){if(e==="submit"&&l&&l.stateNode===n){var i=Jd((n[ue]||null).action),r=a.submitter;r&&(e=(e=r[ue]||null)?Jd(e.formAction):r.getAttribute("formAction"),e!==null&&(i=e,r=null));var N=new gi("action","action",null,a,n);t.push({event:N,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Dl!==0){var z=r?$d(n,r):new FormData(n);Is(l,{pending:!0,data:z,method:n.method,action:i},null,z)}}else typeof i=="function"&&(N.preventDefault(),z=r?$d(n,r):new FormData(n),Is(l,{pending:!0,data:z,method:n.method,action:i},i,z))},currentTarget:n}]})}}for(var Du=0;Du<hs.length;Du++){var zu=hs[Du],yg=zu.toLowerCase(),pg=zu[0].toUpperCase()+zu.slice(1);He(yg,"on"+pg)}He(To,"onAnimationEnd"),He(jo,"onAnimationIteration"),He(Eo,"onAnimationStart"),He("dblclick","onDoubleClick"),He("focusin","onFocus"),He("focusout","onBlur"),He(wm,"onTransitionRun"),He(Lm,"onTransitionStart"),He(Um,"onTransitionCancel"),He(Ro,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),Zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Un));function Id(t,e){e=(e&4)!==0;for(var l=0;l<t.length;l++){var a=t[l],n=a.event;a=a.listeners;t:{var i=void 0;if(e)for(var r=a.length-1;0<=r;r--){var N=a[r],z=N.instance,X=N.currentTarget;if(N=N.listener,z!==i&&n.isPropagationStopped())break t;i=N,n.currentTarget=X;try{i(n)}catch(I){pi(I)}n.currentTarget=null,i=z}else for(r=0;r<a.length;r++){if(N=a[r],z=N.instance,X=N.currentTarget,N=N.listener,z!==i&&n.isPropagationStopped())break t;i=N,n.currentTarget=X;try{i(n)}catch(I){pi(I)}n.currentTarget=null,i=z}}}}function bt(t,e){var l=e[Vc];l===void 0&&(l=e[Vc]=new Set);var a=t+"__bubble";l.has(a)||(Wd(e,t,2,!1),l.add(a))}function Ou(t,e,l){var a=0;e&&(a|=4),Wd(l,t,a,e)}var nc="_reactListening"+Math.random().toString(36).slice(2);function wu(t){if(!t[nc]){t[nc]=!0,Xr.forEach(function(l){l!=="selectionchange"&&(bg.has(l)||Ou(l,!1,t),Ou(l,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nc]||(e[nc]=!0,Ou("selectionchange",!1,e))}}function Wd(t,e,l,a){switch(jh(e)){case 2:var n=kg;break;case 8:n=Jg;break;default:n=$u}l=n.bind(null,e,l,t),n=void 0,!ts||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(e,l,{capture:!0,passive:n}):t.addEventListener(e,l,!0):n!==void 0?t.addEventListener(e,l,{passive:n}):t.addEventListener(e,l,!1)}function Lu(t,e,l,a,n){var i=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var N=a.stateNode.containerInfo;if(N===n)break;if(r===4)for(r=a.return;r!==null;){var z=r.tag;if((z===3||z===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;N!==null;){if(r=fa(N),r===null)return;if(z=r.tag,z===5||z===6||z===26||z===27){a=i=r;continue t}N=N.parentNode}}a=a.return}to(function(){var X=i,I=Fc(l),F=[];t:{var Z=_o.get(t);if(Z!==void 0){var K=gi,st=t;switch(t){case"keypress":if(hi(l)===0)break t;case"keydown":case"keyup":K=dm;break;case"focusin":st="focus",K=ns;break;case"focusout":st="blur",K=ns;break;case"beforeblur":case"afterblur":K=ns;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=gm;break;case To:case jo:case Eo:K=am;break;case Ro:K=ym;break;case"scroll":case"scrollend":K=F0;break;case"wheel":K=bm;break;case"copy":case"cut":case"paste":K=im;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=io;break;case"toggle":case"beforetoggle":K=xm}var ft=(e&4)!==0,Dt=!ft&&(t==="scroll"||t==="scrollend"),H=ft?Z!==null?Z+"Capture":null:Z;ft=[];for(var U=X,q;U!==null;){var W=U;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||H===null||(W=an(U,H),W!=null&&ft.push(Hn(U,W,q))),Dt)break;U=U.return}0<ft.length&&(Z=new K(Z,st,null,l,I),F.push({event:Z,listeners:ft}))}}if((e&7)===0){t:{if(Z=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",Z&&l!==Wc&&(st=l.relatedTarget||l.fromElement)&&(fa(st)||st[oa]))break t;if((K||Z)&&(Z=I.window===I?I:(Z=I.ownerDocument)?Z.defaultView||Z.parentWindow:window,K?(st=l.relatedTarget||l.toElement,K=X,st=st?fa(st):null,st!==null&&(Dt=f(st),ft=st.tag,st!==Dt||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(K=null,st=X),K!==st)){if(ft=ao,W="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(ft=io,W="onPointerLeave",H="onPointerEnter",U="pointer"),Dt=K==null?Z:ln(K),q=st==null?Z:ln(st),Z=new ft(W,U+"leave",K,l,I),Z.target=Dt,Z.relatedTarget=q,W=null,fa(I)===X&&(ft=new ft(H,U+"enter",st,l,I),ft.target=q,ft.relatedTarget=Dt,W=ft),Dt=W,K&&st)e:{for(ft=Sg,H=K,U=st,q=0,W=H;W;W=ft(W))q++;W=0;for(var ot=U;ot;ot=ft(ot))W++;for(;0<q-W;)H=ft(H),q--;for(;0<W-q;)U=ft(U),W--;for(;q--;){if(H===U||U!==null&&H===U.alternate){ft=H;break e}H=ft(H),U=ft(U)}ft=null}else ft=null;K!==null&&Fd(F,Z,K,ft,!1),st!==null&&Dt!==null&&Fd(F,Dt,st,ft,!0)}}t:{if(Z=X?ln(X):window,K=Z.nodeName&&Z.nodeName.toLowerCase(),K==="select"||K==="input"&&Z.type==="file")var At=mo;else if(fo(Z))if(go)At=Dm;else{At=_m;var ut=Rm}else K=Z.nodeName,!K||K.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Ic(X.elementType)&&(At=mo):At=Cm;if(At&&(At=At(t,X))){ho(F,At,l,I);break t}ut&&ut(t,Z,X),t==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&$c(Z,"number",Z.value)}switch(ut=X?ln(X):window,t){case"focusin":(fo(ut)||ut.contentEditable==="true")&&(Sa=ut,os=X,dn=null);break;case"focusout":dn=os=Sa=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,Ao(F,l,I);break;case"selectionchange":if(Om)break;case"keydown":case"keyup":Ao(F,l,I)}var gt;if(cs)t:{switch(t){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ba?ro(t,l)&&(xt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(xt="onCompositionStart");xt&&(co&&l.locale!=="ko"&&(ba||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ba&&(gt=eo()):(gl=I,es="value"in gl?gl.value:gl.textContent,ba=!0)),ut=ic(X,xt),0<ut.length&&(xt=new no(xt,t,null,l,I),F.push({event:xt,listeners:ut}),gt?xt.data=gt:(gt=oo(l),gt!==null&&(xt.data=gt)))),(gt=Am?Mm(t,l):Tm(t,l))&&(xt=ic(X,"onBeforeInput"),0<xt.length&&(ut=new no("onBeforeInput","beforeinput",null,l,I),F.push({event:ut,listeners:xt}),ut.data=gt)),vg(F,t,X,l,I)}Id(F,e)})}function Hn(t,e,l){return{instance:t,listener:e,currentTarget:l}}function ic(t,e){for(var l=e+"Capture",a=[];t!==null;){var n=t,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=an(t,l),n!=null&&a.unshift(Hn(t,n,i)),n=an(t,e),n!=null&&a.push(Hn(t,n,i))),t.tag===3)return a;t=t.return}return[]}function Sg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fd(t,e,l,a,n){for(var i=e._reactName,r=[];l!==null&&l!==a;){var N=l,z=N.alternate,X=N.stateNode;if(N=N.tag,z!==null&&z===a)break;N!==5&&N!==26&&N!==27||X===null||(z=X,n?(X=an(l,i),X!=null&&r.unshift(Hn(l,X,z))):n||(X=an(l,i),X!=null&&r.push(Hn(l,X,z)))),l=l.return}r.length!==0&&t.push({event:e,listeners:r})}var xg=/\r\n?/g,Ng=/\u0000|\uFFFD/g;function Pd(t){return(typeof t=="string"?t:""+t).replace(xg,`
`).replace(Ng,"")}function th(t,e){return e=Pd(e),Pd(t)===e}function Ct(t,e,l,a,n,i){switch(l){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||va(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&va(t,""+a);break;case"className":ri(t,"class",a);break;case"tabIndex":ri(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(t,l,a);break;case"style":Fr(t,a,i);break;case"data":if(e!=="object"){ri(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||l!=="href")){t.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=fi(""+a),t.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(e!=="input"&&Ct(t,e,"name",n.name,n,null),Ct(t,e,"formEncType",n.formEncType,n,null),Ct(t,e,"formMethod",n.formMethod,n,null),Ct(t,e,"formTarget",n.formTarget,n,null)):(Ct(t,e,"encType",n.encType,n,null),Ct(t,e,"method",n.method,n,null),Ct(t,e,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=fi(""+a),t.setAttribute(l,a);break;case"onClick":a!=null&&(t.onclick=$e);break;case"onScroll":a!=null&&bt("scroll",t);break;case"onScrollEnd":a!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}l=fi(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""+a):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":a===!0?t.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,a):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(l,a):t.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(l):t.setAttribute(l,a);break;case"popover":bt("beforetoggle",t),bt("toggle",t),ui(t,"popover",a);break;case"xlinkActuate":Je(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Je(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Je(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Je(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Je(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Je(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Je(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ui(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=I0.get(l)||l,ui(t,l,a))}}function Uu(t,e,l,a,n,i){switch(l){case"style":Fr(t,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"children":typeof a=="string"?va(t,a):(typeof a=="number"||typeof a=="bigint")&&va(t,""+a);break;case"onScroll":a!=null&&bt("scroll",t);break;case"onScrollEnd":a!=null&&bt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=$e);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),e=l.slice(2,n?l.length-7:void 0),i=t[ue]||null,i=i!=null?i[l]:null,typeof i=="function"&&t.removeEventListener(e,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(e,a,n);break t}l in t?t[l]=a:a===!0?t.setAttribute(l,""):ui(t,l,a)}}}function ae(t,e,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var r=l[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Ct(t,e,i,r,l,null)}}n&&Ct(t,e,"srcSet",l.srcSet,l,null),a&&Ct(t,e,"src",l.src,l,null);return;case"input":bt("invalid",t);var N=i=r=n=null,z=null,X=null;for(a in l)if(l.hasOwnProperty(a)){var I=l[a];if(I!=null)switch(a){case"name":n=I;break;case"type":r=I;break;case"checked":z=I;break;case"defaultChecked":X=I;break;case"value":i=I;break;case"defaultValue":N=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,e));break;default:Ct(t,e,a,I,l,null)}}Jr(t,i,N,z,X,r,n,!1);return;case"select":bt("invalid",t),a=r=i=null;for(n in l)if(l.hasOwnProperty(n)&&(N=l[n],N!=null))switch(n){case"value":i=N;break;case"defaultValue":r=N;break;case"multiple":a=N;default:Ct(t,e,n,N,l,null)}e=i,l=r,t.multiple=!!a,e!=null?ga(t,!!a,e,!1):l!=null&&ga(t,!!a,l,!0);return;case"textarea":bt("invalid",t),i=n=a=null;for(r in l)if(l.hasOwnProperty(r)&&(N=l[r],N!=null))switch(r){case"value":a=N;break;case"defaultValue":n=N;break;case"children":i=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Ct(t,e,r,N,l,null)}Ir(t,a,n,i);return;case"option":for(z in l)l.hasOwnProperty(z)&&(a=l[z],a!=null)&&(z==="selected"?t.selected=a&&typeof a!="function"&&typeof a!="symbol":Ct(t,e,z,a,l,null));return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(a=0;a<Un.length;a++)bt(Un[a],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(a=l[X],a!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Ct(t,e,X,a,l,null)}return;default:if(Ic(e)){for(I in l)l.hasOwnProperty(I)&&(a=l[I],a!==void 0&&Uu(t,e,I,a,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(a=l[N],a!=null&&Ct(t,e,N,a,l,null))}function Ag(t,e,l,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,N=null,z=null,X=null,I=null;for(K in l){var F=l[K];if(l.hasOwnProperty(K)&&F!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":z=F;default:a.hasOwnProperty(K)||Ct(t,e,K,null,a,F)}}for(var Z in a){var K=a[Z];if(F=l[Z],a.hasOwnProperty(Z)&&(K!=null||F!=null))switch(Z){case"type":i=K;break;case"name":n=K;break;case"checked":X=K;break;case"defaultChecked":I=K;break;case"value":r=K;break;case"defaultValue":N=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,e));break;default:K!==F&&Ct(t,e,Z,K,a,F)}}Jc(t,r,N,z,X,I,i,n);return;case"select":K=r=N=Z=null;for(i in l)if(z=l[i],l.hasOwnProperty(i)&&z!=null)switch(i){case"value":break;case"multiple":K=z;default:a.hasOwnProperty(i)||Ct(t,e,i,null,a,z)}for(n in a)if(i=a[n],z=l[n],a.hasOwnProperty(n)&&(i!=null||z!=null))switch(n){case"value":Z=i;break;case"defaultValue":N=i;break;case"multiple":r=i;default:i!==z&&Ct(t,e,n,i,a,z)}e=N,l=r,a=K,Z!=null?ga(t,!!l,Z,!1):!!a!=!!l&&(e!=null?ga(t,!!l,e,!0):ga(t,!!l,l?[]:"",!1));return;case"textarea":K=Z=null;for(N in l)if(n=l[N],l.hasOwnProperty(N)&&n!=null&&!a.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ct(t,e,N,null,a,n)}for(r in a)if(n=a[r],i=l[r],a.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":Z=n;break;case"defaultValue":K=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(s(91));break;default:n!==i&&Ct(t,e,r,n,a,i)}$r(t,Z,K);return;case"option":for(var st in l)Z=l[st],l.hasOwnProperty(st)&&Z!=null&&!a.hasOwnProperty(st)&&(st==="selected"?t.selected=!1:Ct(t,e,st,null,a,Z));for(z in a)Z=a[z],K=l[z],a.hasOwnProperty(z)&&Z!==K&&(Z!=null||K!=null)&&(z==="selected"?t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":Ct(t,e,z,Z,a,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in l)Z=l[ft],l.hasOwnProperty(ft)&&Z!=null&&!a.hasOwnProperty(ft)&&Ct(t,e,ft,null,a,Z);for(X in a)if(Z=a[X],K=l[X],a.hasOwnProperty(X)&&Z!==K&&(Z!=null||K!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,e));break;default:Ct(t,e,X,Z,a,K)}return;default:if(Ic(e)){for(var Dt in l)Z=l[Dt],l.hasOwnProperty(Dt)&&Z!==void 0&&!a.hasOwnProperty(Dt)&&Uu(t,e,Dt,void 0,a,Z);for(I in a)Z=a[I],K=l[I],!a.hasOwnProperty(I)||Z===K||Z===void 0&&K===void 0||Uu(t,e,I,Z,a,K);return}}for(var H in l)Z=l[H],l.hasOwnProperty(H)&&Z!=null&&!a.hasOwnProperty(H)&&Ct(t,e,H,null,a,Z);for(F in a)Z=a[F],K=l[F],!a.hasOwnProperty(F)||Z===K||Z==null&&K==null||Ct(t,e,F,Z,a,K)}function eh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,r=n.initiatorType,N=n.duration;if(i&&N&&eh(r)){for(r=0,N=n.responseEnd,a+=1;a<l.length;a++){var z=l[a],X=z.startTime;if(X>N)break;var I=z.transferSize,F=z.initiatorType;I&&eh(F)&&(z=z.responseEnd,r+=I*(z<N?1:(N-X)/(z-X)))}if(--a,e+=8*(i+r)/(n.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hu=null,Bu=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function lh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ah(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yu=null;function Tg(){var t=window.event;return t&&t.type==="popstate"?t===Yu?!1:(Yu=t,!0):(Yu=null,!1)}var nh=typeof setTimeout=="function"?setTimeout:void 0,jg=typeof clearTimeout=="function"?clearTimeout:void 0,ih=typeof Promise=="function"?Promise:void 0,Eg=typeof queueMicrotask=="function"?queueMicrotask:typeof ih<"u"?function(t){return ih.resolve(null).then(t).catch(Rg)}:nh;function Rg(t){setTimeout(function(){throw t})}function zl(t){return t==="head"}function ch(t,e){var l=e,a=0;do{var n=l.nextSibling;if(t.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){t.removeChild(n),ka(e);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Bn(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Bn(l);for(var i=l.firstChild;i;){var r=i.nextSibling,N=i.nodeName;i[en]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=r}}else l==="body"&&Bn(t.ownerDocument.body);l=n}while(l);ka(e)}function sh(t,e){var l=t;t=0;do{var a=l.nextSibling;if(l.nodeType===1?e?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(e?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=a}while(l)}function qu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var l=e;switch(e=e.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qu(l),Kc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function _g(t,e,l,a){for(;t.nodeType===1;){var n=l;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[en])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==n.rel||t.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||t.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||t.getAttribute("title")!==(n.title==null?null:n.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(n.src==null?null:n.src)||t.getAttribute("type")!==(n.type==null?null:n.type)||t.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Le(t.nextSibling),t===null)break}return null}function Cg(t,e,l){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Le(t.nextSibling),t===null))return null;return t}function uh(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Le(t.nextSibling),t===null))return null;return t}function Xu(t){return t.data==="$?"||t.data==="$~"}function Qu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Dg(t,e){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||l.readyState!=="loading")e();else{var a=function(){e(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Le(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Zu=null;function rh(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(e===0)return Le(t.nextSibling);e--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||e++}t=t.nextSibling}return null}function oh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(e===0)return t;e--}else l!=="/$"&&l!=="/&"||e++}t=t.previousSibling}return null}function fh(t,e,l){switch(e=cc(l),t){case"html":if(t=e.documentElement,!t)throw Error(s(452));return t;case"head":if(t=e.head,!t)throw Error(s(453));return t;case"body":if(t=e.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bn(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Kc(t)}var Ue=new Map,dh=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fl=V.d;V.d={f:zg,r:Og,D:wg,C:Lg,L:Ug,m:Hg,X:Gg,S:Bg,M:Yg};function zg(){var t=fl.f(),e=Fi();return t||e}function Og(t){var e=da(t);e!==null&&e.tag===5&&e.type==="form"?_f(e):fl.r(t)}var Za=typeof document>"u"?null:document;function hh(t,e,l){var a=Za;if(a&&typeof e=="string"&&e){var n=Re(e);n='link[rel="'+t+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),dh.has(n)||(dh.add(n),t={rel:t,crossOrigin:l,href:e},a.querySelector(n)===null&&(e=a.createElement("link"),ae(e,"link",t),Wt(e),a.head.appendChild(e)))}}function wg(t){fl.D(t),hh("dns-prefetch",t,null)}function Lg(t,e){fl.C(t,e),hh("preconnect",t,e)}function Ug(t,e,l){fl.L(t,e,l);var a=Za;if(a&&t&&e){var n='link[rel="preload"][as="'+Re(e)+'"]';e==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Re(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Re(l.imageSizes)+'"]')):n+='[href="'+Re(t)+'"]';var i=n;switch(e){case"style":i=Va(t);break;case"script":i=Ka(t)}Ue.has(i)||(t=S({rel:"preload",href:e==="image"&&l&&l.imageSrcSet?void 0:t,as:e},l),Ue.set(i,t),a.querySelector(n)!==null||e==="style"&&a.querySelector(Gn(i))||e==="script"&&a.querySelector(Yn(i))||(e=a.createElement("link"),ae(e,"link",t),Wt(e),a.head.appendChild(e)))}}function Hg(t,e){fl.m(t,e);var l=Za;if(l&&t){var a=e&&typeof e.as=="string"?e.as:"script",n='link[rel="modulepreload"][as="'+Re(a)+'"][href="'+Re(t)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ka(t)}if(!Ue.has(i)&&(t=S({rel:"modulepreload",href:t},e),Ue.set(i,t),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yn(i)))return}a=l.createElement("link"),ae(a,"link",t),Wt(a),l.head.appendChild(a)}}}function Bg(t,e,l){fl.S(t,e,l);var a=Za;if(a&&t){var n=ha(a).hoistableStyles,i=Va(t);e=e||"default";var r=n.get(i);if(!r){var N={loading:0,preload:null};if(r=a.querySelector(Gn(i)))N.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},l),(l=Ue.get(i))&&Vu(t,l);var z=r=a.createElement("link");Wt(z),ae(z,"link",t),z._p=new Promise(function(X,I){z.onload=X,z.onerror=I}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,uc(r,e,a)}r={type:"stylesheet",instance:r,count:1,state:N},n.set(i,r)}}}function Gg(t,e){fl.X(t,e);var l=Za;if(l&&t){var a=ha(l).hoistableScripts,n=Ka(t),i=a.get(n);i||(i=l.querySelector(Yn(n)),i||(t=S({src:t,async:!0},e),(e=Ue.get(n))&&Ku(t,e),i=l.createElement("script"),Wt(i),ae(i,"link",t),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Yg(t,e){fl.M(t,e);var l=Za;if(l&&t){var a=ha(l).hoistableScripts,n=Ka(t),i=a.get(n);i||(i=l.querySelector(Yn(n)),i||(t=S({src:t,async:!0,type:"module"},e),(e=Ue.get(n))&&Ku(t,e),i=l.createElement("script"),Wt(i),ae(i,"link",t),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function mh(t,e,l,a){var n=(n=dt.current)?sc(n):null;if(!n)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(e=Va(l.href),l=ha(n).hoistableStyles,a=l.get(e),a||(a={type:"style",instance:null,count:0,state:null},l.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Va(l.href);var i=ha(n).hoistableStyles,r=i.get(t);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,r),(i=n.querySelector(Gn(t)))&&!i._p&&(r.instance=i,r.state.loading=5),Ue.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ue.set(t,l),i||qg(n,t,l,r.state))),e&&a===null)throw Error(s(528,""));return r}if(e&&a!==null)throw Error(s(529,""));return null;case"script":return e=l.async,l=l.src,typeof l=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ka(l),l=ha(n).hoistableScripts,a=l.get(e),a||(a={type:"script",instance:null,count:0,state:null},l.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Va(t){return'href="'+Re(t)+'"'}function Gn(t){return'link[rel="stylesheet"]['+t+"]"}function gh(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function qg(t,e,l,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),ae(e,"link",l),Wt(e),t.head.appendChild(e))}function Ka(t){return'[src="'+Re(t)+'"]'}function Yn(t){return"script[async]"+t}function vh(t,e,l){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+Re(l.href)+'"]');if(a)return e.instance=a,Wt(a),a;var n=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Wt(a),ae(a,"style",n),uc(a,l.precedence,t),e.instance=a;case"stylesheet":n=Va(l.href);var i=t.querySelector(Gn(n));if(i)return e.state.loading|=4,e.instance=i,Wt(i),i;a=gh(l),(n=Ue.get(n))&&Vu(a,n),i=(t.ownerDocument||t).createElement("link"),Wt(i);var r=i;return r._p=new Promise(function(N,z){r.onload=N,r.onerror=z}),ae(i,"link",a),e.state.loading|=4,uc(i,l.precedence,t),e.instance=i;case"script":return i=Ka(l.src),(n=t.querySelector(Yn(i)))?(e.instance=n,Wt(n),n):(a=l,(n=Ue.get(i))&&(a=S({},l),Ku(a,n)),t=t.ownerDocument||t,n=t.createElement("script"),Wt(n),ae(n,"link",a),t.head.appendChild(n),e.instance=n);case"void":return null;default:throw Error(s(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,uc(a,l.precedence,t));return e.instance}function uc(t,e,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,r=0;r<a.length;r++){var N=a[r];if(N.dataset.precedence===e)i=N;else if(i!==n)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=l.nodeType===9?l.head:l,e.insertBefore(t,e.firstChild))}function Vu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ku(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var rc=null;function yh(t,e,l){if(rc===null){var a=new Map,n=rc=new Map;n.set(l,a)}else n=rc,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(t))return a;for(a.set(t,null),l=l.getElementsByTagName(t),n=0;n<l.length;n++){var i=l[n];if(!(i[en]||i[Pt]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(e)||"";r=t+r;var N=a.get(r);N?N.push(i):a.set(r,[i])}}return a}function ph(t,e,l){t=t.ownerDocument||t,t.head.insertBefore(l,e==="title"?t.querySelector("head > title"):null)}function Xg(t,e,l){if(l===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function bh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Qg(t,e,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Va(a.href),i=e.querySelector(Gn(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=oc.bind(t),e.then(t,t)),l.state.loading|=4,l.instance=i,Wt(i);return}i=e.ownerDocument||e,a=gh(a),(n=Ue.get(n))&&Vu(a,n),i=i.createElement("link"),Wt(i);var r=i;r._p=new Promise(function(N,z){r.onload=N,r.onerror=z}),ae(i,"link",a),l.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,e),(e=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=oc.bind(t),e.addEventListener("load",l),e.addEventListener("error",l))}}var ku=0;function Zg(t,e){return t.stylesheets&&t.count===0&&dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var a=setTimeout(function(){if(t.stylesheets&&dc(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&ku===0&&(ku=62500*Mg());var n=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dc(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>ku?50:800)+e);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fc=null;function dc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fc=new Map,e.forEach(Vg,t),fc=null,oc.call(t))}function Vg(t,e){if(!(e.state.loading&4)){var l=fc.get(t);if(l)var a=l.get(null);else{l=new Map,fc.set(t,l);for(var n=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),a=r)}a&&l.set(null,a)}n=e.instance,r=n.getAttribute("data-precedence"),i=l.get(r)||a,i===a&&l.set(null,n),l.set(r,n),this.count++,a=oc.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(n,t.firstChild)),e.state.loading|=4}}var qn={$$typeof:R,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Kg(t,e,l,a,n,i,r,N,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.hiddenUpdates=Xc(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Sh(t,e,l,a,n,i,r,N,z,X,I,F){return t=new Kg(t,e,l,r,z,X,I,F,N),e=1,i===!0&&(e|=24),i=Se(3,null,null,e),t.current=i,i.stateNode=t,e=js(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:e},Cs(i),t}function xh(t){return t?(t=Aa,t):Aa}function Nh(t,e,l,a,n,i){n=xh(n),a.context===null?a.context=n:a.pendingContext=n,a=xl(e),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Nl(t,a,e),l!==null&&(me(l,t,e),bn(l,t,e))}function Ah(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<e?l:e}}function Ju(t,e){Ah(t,e),(t=t.alternate)&&Ah(t,e)}function Mh(t){if(t.tag===13||t.tag===31){var e=Jl(t,67108864);e!==null&&me(e,t,67108864),Ju(t,67108864)}}function Th(t){if(t.tag===13||t.tag===31){var e=Te();e=Qc(e);var l=Jl(t,e);l!==null&&me(l,t,e),Ju(t,e)}}var hc=!0;function kg(t,e,l,a){var n=B.T;B.T=null;var i=V.p;try{V.p=2,$u(t,e,l,a)}finally{V.p=i,B.T=n}}function Jg(t,e,l,a){var n=B.T;B.T=null;var i=V.p;try{V.p=8,$u(t,e,l,a)}finally{V.p=i,B.T=n}}function $u(t,e,l,a){if(hc){var n=Iu(a);if(n===null)Lu(t,e,a,mc,l),Eh(t,a);else if(Ig(n,t,e,l,a))a.stopPropagation();else if(Eh(t,a),e&4&&-1<$g.indexOf(t)){for(;n!==null;){var i=da(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Ql(i.pendingLanes);if(r!==0){var N=i;for(N.pendingLanes|=2,N.entangledLanes|=2;r;){var z=1<<31-pe(r);N.entanglements[1]|=z,r&=~z}Ze(i),(Tt&6)===0&&(Ii=ve()+500,Ln(0))}}break;case 31:case 13:N=Jl(i,2),N!==null&&me(N,i,2),Fi(),Ju(i,2)}if(i=Iu(a),i===null&&Lu(t,e,a,mc,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Lu(t,e,a,null,l)}}function Iu(t){return t=Fc(t),Wu(t)}var mc=null;function Wu(t){if(mc=null,t=fa(t),t!==null){var e=f(t);if(e===null)t=null;else{var l=e.tag;if(l===13){if(t=y(e),t!==null)return t;t=null}else if(l===31){if(t=m(e),t!==null)return t;t=null}else if(l===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return mc=t,null}function jh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(w0()){case zr:return 2;case Or:return 8;case ai:case L0:return 32;case wr:return 268435456;default:return 32}default:return 32}}var Fu=!1,Ol=null,wl=null,Ll=null,Xn=new Map,Qn=new Map,Ul=[],$g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eh(t,e){switch(t){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":Xn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(e.pointerId)}}function Zn(t,e,l,a,n,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},e!==null&&(e=da(e),e!==null&&Mh(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function Ig(t,e,l,a,n){switch(e){case"focusin":return Ol=Zn(Ol,t,e,l,a,n),!0;case"dragenter":return wl=Zn(wl,t,e,l,a,n),!0;case"mouseover":return Ll=Zn(Ll,t,e,l,a,n),!0;case"pointerover":var i=n.pointerId;return Xn.set(i,Zn(Xn.get(i)||null,t,e,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Qn.set(i,Zn(Qn.get(i)||null,t,e,l,a,n)),!0}return!1}function Rh(t){var e=fa(t.target);if(e!==null){var l=f(e);if(l!==null){if(e=l.tag,e===13){if(e=y(l),e!==null){t.blockedOn=e,Yr(t.priority,function(){Th(l)});return}}else if(e===31){if(e=m(l),e!==null){t.blockedOn=e,Yr(t.priority,function(){Th(l)});return}}else if(e===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var l=Iu(t.nativeEvent);if(l===null){l=t.nativeEvent;var a=new l.constructor(l.type,l);Wc=a,l.target.dispatchEvent(a),Wc=null}else return e=da(l),e!==null&&Mh(e),t.blockedOn=l,!1;e.shift()}return!0}function _h(t,e,l){gc(t)&&l.delete(e)}function Wg(){Fu=!1,Ol!==null&&gc(Ol)&&(Ol=null),wl!==null&&gc(wl)&&(wl=null),Ll!==null&&gc(Ll)&&(Ll=null),Xn.forEach(_h),Qn.forEach(_h)}function vc(t,e){t.blockedOn===e&&(t.blockedOn=null,Fu||(Fu=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Wg)))}var yc=null;function Ch(t){yc!==t&&(yc=t,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){yc===t&&(yc=null);for(var e=0;e<t.length;e+=3){var l=t[e],a=t[e+1],n=t[e+2];if(typeof a!="function"){if(Wu(a||l)===null)continue;break}var i=da(l);i!==null&&(t.splice(e,3),e-=3,Is(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function ka(t){function e(z){return vc(z,t)}Ol!==null&&vc(Ol,t),wl!==null&&vc(wl,t),Ll!==null&&vc(Ll,t),Xn.forEach(e),Qn.forEach(e);for(var l=0;l<Ul.length;l++){var a=Ul[l];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Ul.length&&(l=Ul[0],l.blockedOn===null);)Rh(l),l.blockedOn===null&&Ul.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],r=n[ue]||null;if(typeof i=="function")r||Ch(l);else if(r){var N=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[ue]||null)N=r.formAction;else if(Wu(n)!==null)continue}else N=r.action;typeof N=="function"?l[a+1]=N:(l.splice(a,3),a-=3),Ch(l)}}}function Dh(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function e(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),n!==null&&(n(),n=null)}}}function Pu(t){this._internalRoot=t}pc.prototype.render=Pu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(s(409));var l=e.current,a=Te();Nh(l,a,t,e,null,null)},pc.prototype.unmount=Pu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nh(t.current,2,null,t,null,null),Fi(),e[oa]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gr();t={blockedOn:null,target:t,priority:e};for(var l=0;l<Ul.length&&e!==0&&e<Ul[l].priority;l++);Ul.splice(l,0,t),l===0&&Rh(t)}};var zh=o.version;if(zh!=="19.2.4")throw Error(s(527,zh,"19.2.4"));V.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(e),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Fg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Fa=bc.inject(Fg),ye=bc}catch{}}return Kn.createRoot=function(t,e){if(!g(t))throw Error(s(299));var l=!1,a="",n=Gf,i=Yf,r=qf;return e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(n=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Sh(t,1,!1,null,null,l,a,null,n,i,r,Dh),t[oa]=e.current,wu(t),new Pu(e)},Kn.hydrateRoot=function(t,e,l){if(!g(t))throw Error(s(299));var a=!1,n="",i=Gf,r=Yf,N=qf,z=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),e=Sh(t,1,!0,e,l??null,a,n,z,i,r,N,Dh),e.context=xh(null),l=e.current,a=Te(),a=Qc(a),n=xl(a),n.callback=null,Nl(l,n,a),l=a,e.current.lanes=l,tn(e,l),Ze(e),t[oa]=e.current,wu(t),new pc(e)},Kn.version="19.2.4",Kn}var Xh;function u1(){if(Xh)return lr.exports;Xh=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),lr.exports=s1(),lr.exports}var r1=u1();class o1 extends _.Component{constructor(o){super(o),this.state={hasError:!1,error:null}}static getDerivedStateFromError(o){return{hasError:!0,error:o}}componentDidCatch(o,d){console.error("NeuralPlayground crashed:",o,d)}handleRetry=()=>{this.setState({hasError:!1,error:null})};handleReload=()=>{window.location.reload()};render(){return this.state.hasError?u.jsxs("div",{role:"alert",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"#0a0e17",color:"#e5e7eb",fontFamily:"Inter, sans-serif",textAlign:"center",padding:"2rem"},children:[u.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:" Something went wrong"}),u.jsx("p",{style:{color:"#9ca3af",fontSize:"0.875rem",marginBottom:"1.5rem",maxWidth:"400px"},children:this.state.error?.message||"An unexpected error occurred."}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[u.jsx("button",{onClick:this.handleRetry,style:{padding:"0.5rem 1.25rem",background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontFamily:"inherit",fontWeight:600},children:"Try Again"}),u.jsx("button",{onClick:this.handleReload,style:{padding:"0.5rem 1.25rem",background:"#1f2937",color:"#9ca3af",border:"1px solid #374151",borderRadius:"8px",cursor:"pointer",fontFamily:"inherit",fontWeight:600},children:"Reload Page"})]})]}):this.props.children}}function N0(c,o){switch(o){case"relu":return Math.max(0,c);case"sigmoid":return 1/(1+Math.exp(-Math.min(Math.max(c,-500),500)));case"tanh":return Math.tanh(c)}}function Rr(c,o){switch(o){case"relu":return c>0?1:0;case"sigmoid":{const d=N0(c,"sigmoid");return d*(1-d)}case"tanh":{const d=Math.tanh(c);return 1-d*d}}}function Cc(c){let o=0,d=c[0];for(let s=1;s<c.length;s++)c[s]>d&&(d=c[s],o=s);return o}function Qh(c,o){const d=Math.sqrt(2/(c+o)),s=Math.random(),g=Math.random();return d*Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*g)}function _r(c){return()=>{c|=0,c=c+1831565813|0;let o=Math.imul(c^c>>>15,1|c);return o=o+Math.imul(o^o>>>7,61|o)^o,((o^o>>>14)>>>0)/4294967296}}function Zh(c){const o=Math.max(1e-10,c()),d=c();return Math.sqrt(-2*Math.log(o))*Math.cos(2*Math.PI*d)}function A0(c,o=1){return c>0?`rgba(99, 222, 255, ${Math.min(1,Math.abs(c))*o})`:`rgba(255, 99, 132, ${Math.min(1,Math.abs(c))*o})`}function f1(c){const o=Math.max(-1,Math.min(1,c));return o>0?`rgba(99, 222, 255, ${Math.abs(o)*.6})`:`rgba(255, 99, 132, ${Math.abs(o)*.6})`}let Sc=[],kn=[],xc=[];function li(c,o,d){c.forward(o);const s=c.getLayers(),g=c.getConfig(),f=s.length,y=s[f-1],m=y.activations.length;Sc.length<m&&(Sc=new Array(m));for(let S=0;S<m;S++)Sc[S]=(S===d?1:0)-y.activations[S];let b=Sc;for(let S=f-1;S>=1;S--){const x=s[S],h=s[S-1],M=g.layers[S-1]?.activation||"relu",j=h.weights.length;kn.length<j&&(kn=new Array(j));for(let A=0;A<j;A++){let T=0;for(let C=0;C<x.weights.length;C++)T+=x.weights[C][A]*b[C];const R=T*Rr(h.preActivations[A],M);kn[A]=isFinite(R)?R:0}const E=b;b=kn,kn=E}const v=s[0],p=o.length;xc.length<p&&(xc=new Array(p));for(let S=0;S<p;S++){let x=0;for(let h=0;h<v.weights.length;h++)x+=v.weights[h][S]*b[h];xc[S]=isFinite(x)?x:0}return xc}function M0(c,o,d=100,s=.5,g){const y=c.getLayers()[0].weights[0]?.length||784;let m=g?[...g]:Array.from({length:y},()=>Math.random()*.3+.1);const b=new Array(d);let v=s;for(let p=0;p<d;p++){const S=c.forward(m);b[p]=S[o];const x=li(c,m,o);for(let h=0;h<m.length;h++)m[h]+=v*x[h]-.001*m[h],m[h]<0?m[h]=0:m[h]>1&&(m[h]=1);v*=.998}return{image:m,confidenceHistory:b}}class Ia{layers=[];config;epoch=0;lossHistory=[];accuracyHistory=[];neuronMasks=new Map;_intMasks=new Map;static _intKey(o,d){return o*1e4+d}_scratchTarget=new Array(10).fill(0);_scratchDeltas=[];_scratchNewDeltas=[];_scratchIndices=[];_scratchPredictions=new Array(10).fill(0);_scratchOutputProbs=new Array(10).fill(0);constructor(o,d){this.config=d,this.initializeWeights(o)}setNeuronStatus(o,d,s){const g=`${o}-${d}`,f=Ia._intKey(o,d);s==="active"?(this.neuronMasks.delete(g),this._intMasks.delete(f)):(this.neuronMasks.set(g,s),this._intMasks.set(f,s))}getNeuronStatus(o,d){return this.neuronMasks.get(`${o}-${d}`)||"active"}getAllNeuronStatuses(){return new Map(this.neuronMasks)}clearAllMasks(){this.neuronMasks.clear(),this._intMasks.clear()}getConfig(){return this.config}getLayers(){return this.layers}getNeuronMasks(){return this.neuronMasks}initializeWeights(o){this.layers=[];let d=o;for(const f of this.config.layers){const y=[],m=new Array(f.neurons).fill(0);for(let b=0;b<f.neurons;b++){const v=[];for(let p=0;p<d;p++)v.push(Qh(d,f.neurons));y.push(v)}this.layers.push({weights:y,biases:m,preActivations:new Array(f.neurons).fill(0),activations:new Array(f.neurons).fill(0)}),d=f.neurons}const s=[],g=new Array(10).fill(0);for(let f=0;f<10;f++){const y=[];for(let m=0;m<d;m++)y.push(Qh(d,10));s.push(y)}this.layers.push({weights:s,biases:g,preActivations:new Array(10).fill(0),activations:new Array(10).fill(0)}),this._invalidateSnapshot()}forward(o){let d=o;for(let s=0;s<this.layers.length;s++){const g=this.layers[s],f=s===this.layers.length-1,y=f?"sigmoid":this.config.layers[s]?.activation||"relu",m=g.weights.length,b=g.preActivations,v=g.activations;for(let p=0;p<m;p++){const S=g.weights[p];let x=g.biases[p];for(let h=0;h<d.length;h++)x+=S[h]*d[h];isFinite(x)||(x=0),b[p]=x,v[p]=f?x:N0(x,y)}if(f){let p=v[0];for(let x=1;x<m;x++)v[x]>p&&(p=v[x]);let S=0;for(let x=0;x<m;x++)v[x]=Math.exp(v[x]-p),S+=v[x];if(S>0&&isFinite(S))for(let x=0;x<m;x++)v[x]/=S;else{const x=1/m;for(let h=0;h<m;h++)v[h]=x}}else if(this._intMasks.size>0){const p=s*1e4;for(let S=0;S<m;S++)this._intMasks.get(p+S)==="killed"&&(v[S]=0)}d=v}return d}backward(o,d){const s=this.config.learningRate,g=this.layers.length,f=this._intMasks.size>0,y=this.layers[g-1],m=y.activations.length;this._scratchDeltas.length<m&&(this._scratchDeltas=new Array(m));for(let v=0;v<m;v++)this._scratchDeltas[v]=y.activations[v]-d[v];let b=this._scratchDeltas;for(let v=g-1;v>=0;v--){const p=this.layers[v],S=v>0?this.layers[v-1].activations:o,x=p.weights.length,h=v*1e4;for(let M=0;M<x;M++){if(f){const T=this._intMasks.get(h+M);if(T==="frozen"||T==="killed")continue}const j=p.weights[M],E=b[M],A=s*E;for(let T=0;T<j.length;T++){const R=A*S[T];isFinite(R)&&(j[T]-=R)}isFinite(A)&&(p.biases[M]-=A)}if(v>0){const M=this.layers[v-1],j=this.config.layers[v-1]?.activation||"relu",E=M.weights.length;this._scratchNewDeltas.length<E&&(this._scratchNewDeltas=new Array(E));for(let A=0;A<E;A++){let T=0;for(let C=0;C<x;C++)T+=p.weights[C][A]*b[C];const R=T*Rr(M.preActivations[A],j);this._scratchNewDeltas[A]=isFinite(R)?R:0}b=this._scratchNewDeltas}}}trainBatch(o,d){let s=0,g=0;const f=o.length;if(this._scratchIndices.length!==f)this._scratchIndices=Array.from({length:f},(h,M)=>M);else for(let h=0;h<f;h++)this._scratchIndices[h]=h;const y=this._scratchIndices;for(let h=f-1;h>0;h--){const M=Math.floor(Math.random()*(h+1)),j=y[h];y[h]=y[M],y[M]=j}const m=this._scratchTarget;let b=[];for(let h=0;h<f;h++){const M=y[h],j=o[M],E=d[M];for(let C=0;C<10;C++)m[C]=0;m[E]=1;const A=this.forward(j);b=A;const T=-Math.log(Math.max(A[E],1e-10));s+=isFinite(T)?T:10,Cc(A)===E&&g++,this.backward(j,m)}this._invalidateSnapshot(),this.epoch++;const v=s/f,p=g/f;this.lossHistory.push(v),this.accuracyHistory.push(p);const S=Cc(b);this._scratchTarget.length<b.length&&(this._scratchPredictions=new Array(b.length));const x=this._scratchPredictions;for(let h=0;h<b.length;h++)x[h]=h===S?1:0;this._scratchOutputProbs.length!==b.length&&(this._scratchOutputProbs=new Array(b.length));for(let h=0;h<b.length;h++)this._scratchOutputProbs[h]=b[h];return{epoch:this.epoch,loss:v,accuracy:p,layers:this.snapshotLayers(),predictions:x,outputProbabilities:this._scratchOutputProbs}}predict(o){const d=this.forward(o),s=Cc(d),g=new Array(d.length);for(let f=0;f<d.length;f++)g[f]=d[f];return{label:s,probabilities:g,layers:this.snapshotLayers()}}_snapshotCache=[];_snapshotDirty=!0;_invalidateSnapshot(){this._snapshotDirty=!0}snapshotLayers(){if(!this._snapshotDirty&&this._snapshotCache.length===this.layers.length)return this._snapshotCache;for(;this._snapshotCache.length<this.layers.length;)this._snapshotCache.push({weights:[],biases:[],preActivations:[],activations:[]});this._snapshotCache.length=this.layers.length;for(let o=0;o<this.layers.length;o++){const d=this.layers[o],s=this._snapshotCache[o];if(s.weights.length!==d.weights.length)s.weights=d.weights.map(g=>[...g]);else for(let g=0;g<d.weights.length;g++){const f=d.weights[g];if(!s.weights[g]||s.weights[g].length!==f.length)s.weights[g]=[...f];else{const y=s.weights[g];for(let m=0;m<f.length;m++)y[m]=f[m]}}if(s.biases.length!==d.biases.length)s.biases=[...d.biases];else for(let g=0;g<d.biases.length;g++)s.biases[g]=d.biases[g];if(s.preActivations.length!==d.preActivations.length)s.preActivations=[...d.preActivations];else for(let g=0;g<d.preActivations.length;g++)s.preActivations[g]=d.preActivations[g];if(s.activations.length!==d.activations.length)s.activations=[...d.activations];else for(let g=0;g<d.activations.length;g++)s.activations[g]=d.activations[g]}return this._snapshotDirty=!1,this._snapshotCache}computeInputGradient(o,d){return li(this,o,d)}dream(o,d=100,s=.5,g){return M0(this,o,d,s,g)}getLossHistory(){return this.lossHistory}getAccuracyHistory(){return this.accuracyHistory}getEpoch(){return this.epoch}reset(o,d){d&&(this.config=d),this.epoch=0,this.lossHistory=[],this.accuracyHistory=[],this.neuronMasks.clear(),this.initializeWeights(o)}}let Nc=null;function d1(c,o,d){const s=li(c,o,d);(!Nc||Nc.length!==s.length)&&(Nc=new Float32Array(s.length));const g=Nc;let f=0;for(let y=0;y<s.length;y++)g[y]=Math.abs(s[y]),g[y]>f&&(f=g[y]);if(f>0){const y=1/f;for(let m=0;m<g.length;m++)g[m]*=y}return g}const Bl=[[0,0,0,4],[.13,27,12,65],[.25,72,12,104],[.38,120,28,109],[.5,165,44,96],[.63,207,68,70],[.75,237,105,37],[.88,251,155,6],[1,252,255,164]],zc=new Uint8Array(256),Oc=new Uint8Array(256),wc=new Uint8Array(256),Lc=new Uint8Array(256);(function(){for(let o=0;o<256;o++){const d=o/255;if(d<=0){zc[o]=0,Oc[o]=0,wc[o]=0,Lc[o]=0;continue}let s=Bl[0],g=Bl[Bl.length-1];for(let m=0;m<Bl.length-1;m++)if(d>=Bl[m][0]&&d<=Bl[m+1][0]){s=Bl[m],g=Bl[m+1];break}const f=g[0]-s[0],y=f>0?(d-s[0])/f:0;zc[o]=Math.round(s[1]+(g[1]-s[1])*y),Oc[o]=Math.round(s[2]+(g[2]-s[2])*y),wc[o]=Math.round(s[3]+(g[3]-s[3])*y),Lc[o]=Math.round(Math.min(255,d*1.3*255))}})();function h1(c){const o=Math.max(0,Math.min(255,Math.round(c*255)));return[zc[o],Oc[o],wc[o],Lc[o]]}const Vh=new Map;function m1(c,o,d){let g=Vh.get(d);g||(g=new ImageData(d,d),Vh.set(d,g));const f=g.data,y=d/28;for(let m=0;m<d;m++){const v=Math.min(27,m/y|0)*28;for(let p=0;p<d;p++){const S=Math.min(27,p/y|0),x=v+S,h=c[x]||0,M=o[x]||0,j=h*80+.5|0,E=Math.max(0,Math.min(255,M*255+.5|0)),A=zc[E],T=Oc[E],R=wc[E],C=Lc[E]/255,O=1-C,L=j*O+A*C+.5|0,D=j*(1-C*.9)+T*C+.5|0,G=j*(1-C*.8)+R*C+.5|0,Q=m*d+p<<2;f[Q]=L<255?L:255,f[Q+1]=D<255?D:255,f[Q+2]=G<255?G:255,f[Q+3]=255}}return g}function g1(c){const o=new Array(784).fill(0),d=(m,b,v=1)=>{m>=0&&m<28&&b>=0&&b<28&&(o[b*28+m]=Math.min(1,o[b*28+m]+v))},s=(m,b,v,p,S=2)=>{const x=Math.max(Math.abs(v-m),Math.abs(p-b))*2;for(let h=0;h<=x;h++){const M=x===0?0:h/x,j=Math.round(m+(v-m)*M),E=Math.round(b+(p-b)*M);for(let A=-S+1;A<S;A++)for(let T=-S+1;T<S;T++)d(j+A,E+T,.8)}},g=(m,b,v,p,S,x=2)=>{const h=Math.max(20,Math.abs(S-p)*v);for(let M=0;M<=h;M++){const j=p+(S-p)*(M/h),E=Math.round(m+v*Math.cos(j)),A=Math.round(b+v*Math.sin(j));for(let T=-x+1;T<x;T++)for(let R=-x+1;R<x;R++)d(E+T,A+R,.8)}},f=()=>(Math.random()-.5)*1.5,y=()=>(Math.random()-.5)*1.5;switch(c){case 0:g(14+f(),14+y(),7+f(),0,Math.PI*2);break;case 1:s(14+f(),4+y(),14+f(),24+y()),s(11+f(),7+y(),14+f(),4+y()),s(10,24,18,24);break;case 2:g(14+f(),10+y(),6,-Math.PI,.3),s(19+f(),12+y(),8+f(),24+y()),s(8,24,20+f(),24+y());break;case 3:g(14+f(),10+y(),5+f(),-Math.PI*.8,Math.PI*.5),g(14+f(),18+y(),5+f(),-Math.PI*.5,Math.PI*.8);break;case 4:s(18+f(),4+y(),8+f(),16+y()),s(8+f(),16+y(),22+f(),16+y()),s(18+f(),4+y(),18+f(),24+y());break;case 5:s(18+f(),5+y(),9+f(),5+y()),s(9+f(),5+y(),9+f(),13+y()),g(14+f(),17+y(),6,-Math.PI*.6,Math.PI*.7);break;case 6:g(14+f(),18+y(),6,0,Math.PI*2),s(8+f(),18+y(),12+f(),5+y());break;case 7:s(8+f(),5+y(),20+f(),5+y()),s(20+f(),5+y(),12+f(),24+y());break;case 8:g(14+f(),10+y(),5,0,Math.PI*2),g(14+f(),19+y(),5,0,Math.PI*2);break;case 9:g(14+f(),10+y(),6,0,Math.PI*2),s(20+f(),10+y(),16+f(),24+y());break}return o.map(m=>Math.min(1,Math.max(0,m+(Math.random()-.5)*.05)))}function ra(c=15){const o=[],d=[];for(let s=0;s<10;s++)for(let g=0;g<c;g++)o.push(g1(s)),d.push(s);return{inputs:o,labels:d}}function Kh(c,o=28){const{width:d,height:s,data:g}=c,f=new Array(o*o).fill(0),y=d/o,m=s/o;for(let b=0;b<o;b++)for(let v=0;v<o;v++){let p=0,S=0;const x=Math.floor(v*y),h=Math.floor((v+1)*y),M=Math.floor(b*m),j=Math.floor((b+1)*m);for(let E=M;E<j;E++)for(let A=x;A<h;A++){const T=(E*d+A)*4,R=(g[T]+g[T+1]+g[T+2])/3;p+=R/255,S++}f[b*o+v]=S>0?p/S:0}return f}const v1={learningRate:.01,layers:[{neurons:64,activation:"relu"},{neurons:32,activation:"relu"}]},vt=28,Cr=20,y1=[8,16,32,64,128,256],p1=5,Dc=30,b1=1800,Sr=80,S1=15,x1=400,N1=.68,A1=.355,M1=.875,kh={width:620,height:420},Jh={width:620,height:220},$h={width:320,height:280},Ac=50,Ye=16,T1=25,j1=.35,E1=1.8,R1=.8,_1=.05,qt=38,Ve=3,ie=140,C1=8,je=160,D1=42,z1=3,Ih={gaussian:" Gaussian","salt-pepper":" Salt & Pepper",adversarial:" Targeted"},O1={gaussian:"Random bell-curve noise  like TV static","salt-pepper":"Random black & white pixel flips",adversarial:"Push the prediction toward a target digit"},cr=140,Wh="#63deff",Fh="#ff6384",w1=[{key:"Space",description:"Train / Pause"},{key:"R",description:"Reset network"},{key:"D",description:"Cinematic demo"},{key:"H",description:"Toggle help"},{key:"Esc",description:"Close / Stop demo"}],L1=60,U1=2e3,T0=8,Yl=22,Ja=16,Jn=140,$a=80,Ph=.5,H1=40,Uc=50,B1=40,sr=140,ur=160,G1=.3,Y1=8,t0={width:380,height:280},q1=.74,X1=15,Q1=2,e0={width:380,height:200},Z1=.53,rr={width:280},V1=32,or=160,l0=80,K1=.5,k1=40,fr=48,J1=24,$1=34,I1=24,W1=120,a0=20,n0=3,i0=32,F1=8,P1=1e3,tv=30,ev=45,lv=3,av=5;function nv(){const c=_.useRef(null),o=_.useRef(!1),d=_.useRef(null),[s,g]=_.useState({isTraining:!1,snapshot:null,lossHistory:[],accuracyHistory:[],epoch:0,config:v1});_.useEffect(()=>()=>{o.current=!1,d.current&&clearTimeout(d.current)},[]);const f=_.useCallback(A=>{const T=A||s.config;c.current=new Ia(784,T),o.current=!1,d.current&&clearTimeout(d.current),g(R=>({...R,config:T,snapshot:null,lossHistory:[],accuracyHistory:[],epoch:0,isTraining:!1}))},[s.config]),y=_.useCallback(A=>{c.current||(c.current=new Ia(784,s.config)),o.current=!0,g(C=>({...C,isTraining:!0}));const T=A||ra(Cr),R=()=>{if(!o.current||!c.current)return;const C=c.current.trainBatch(T.inputs,T.labels);g(O=>{const L=O.lossHistory,D=O.accuracyHistory;if(L.push(C.loss),D.push(C.accuracy),L.length>U1){const G=L.length>>1;for(let Q=0;Q<G;Q++)L[Q]=L[Q*2],D[Q]=D[Q*2];L.length=G,D.length=G}return{...O,snapshot:C,lossHistory:L,accuracyHistory:D,epoch:C.epoch}}),o.current&&(d.current=setTimeout(R,L1))};R()},[s.config]),m=_.useCallback(()=>{o.current=!1,d.current&&clearTimeout(d.current),g(A=>({...A,isTraining:!1}))},[]),b=_.useCallback(A=>c.current?c.current.predict(A):null,[]),v=_.useCallback(A=>{g(T=>({...T,config:{...T.config,...A}}))},[]),p=_.useCallback(A=>{g(T=>({...T,config:{...T.config,layers:A}}))},[]),S=_.useCallback((A,T,R)=>{c.current&&c.current.setNeuronStatus(A,T,R)},[]),x=_.useCallback((A,T)=>c.current?c.current.getNeuronStatus(A,T):"active",[]),h=_.useCallback(()=>{c.current&&c.current.clearAllMasks()},[]),M=_.useCallback((A,T)=>c.current?li(c.current,A,T):null,[]),j=_.useCallback((A,T,R,C)=>c.current?M0(c.current,A,T,R,C):null,[]),E=_.useCallback((A,T)=>c.current?d1(c.current,A,T):null,[]);return{state:s,networkRef:c,initNetwork:f,startTraining:y,stopTraining:m,predict:b,updateConfig:v,updateLayers:p,setNeuronStatus:S,getNeuronStatus:x,clearNeuronMasks:h,computeInputGradient:M,dream:j,saliency:E}}function dl(c,o,d,s,g,f=32){const y=[];for(let m=0;m<=f;m++){const b=s+(g-s)*(m/f);y.push({x:c+d*Math.cos(b),y:o+d*Math.sin(b)})}return y}function ge(c,o,d,s,g=16){const f=[];for(let y=0;y<=g;y++){const m=y/g;f.push({x:c+(d-c)*m,y:o+(s-o)*m})}return f}const j0=[[{points:dl(140,145,68,-Math.PI*.5,Math.PI*1.5)}],[{points:ge(112,78,140,48)},{points:ge(140,48,140,232)},{points:ge(105,232,175,232)}],[{points:dl(140,100,52,-Math.PI,.3,24)},{points:ge(183,118,88,232,20)},{points:ge(88,232,195,232)}],[{points:dl(138,100,48,-Math.PI*.8,Math.PI*.5,24)},{points:dl(138,185,48,-Math.PI*.5,Math.PI*.8,24)}],[{points:ge(175,48,88,162)},{points:ge(88,162,210,162)},{points:ge(175,48,175,232)}],[{points:ge(178,52,98,52)},{points:ge(98,52,98,132)},{points:dl(138,172,52,-Math.PI*.6,Math.PI*.7,24)}],[{points:ge(122,52,88,185,20)},{points:dl(140,185,52,0,Math.PI*2)}],[{points:ge(88,52,195,52)},{points:ge(195,52,128,232)}],[{points:dl(140,108,42,0,Math.PI*2)},{points:dl(140,192,42,0,Math.PI*2)}],[{points:dl(140,108,52,0,Math.PI*2)},{points:ge(192,108,158,232)}]];function iv(c){let o=0;for(const d of j0[c])o+=d.points.length;return o}function cv(c){return Math.max(700,iv(c)*18)}function sv({config:c,initNetwork:o,startTraining:d,stopTraining:s,drawingCanvasRef:g,onSignalFlow:f}){const[y,m]=_.useState({active:!1,phase:"training",digit:0,progress:0,epoch:0}),b=_.useRef(!1),v=_.useRef(null),p=_.useRef(null),S=_.useCallback(()=>{v.current&&(clearTimeout(v.current),v.current=null),p.current&&(clearInterval(p.current),p.current=null)},[]),x=_.useCallback(()=>{b.current=!1,S(),m(j=>({...j,active:!1}))},[S]),h=_.useCallback(j=>{if(!b.current)return;m(Q=>({...Q,phase:"drawing",digit:j,progress:0}));const E=g.current;if(!E){v.current=setTimeout(()=>h((j+1)%10),1e3);return}E.clear();const A=j0[j];let T=0;for(const Q of A)T+=Q.points.length;const C=cv(j)/T;let O=0,L=0,D=0;const G=()=>{if(!b.current)return;if(O>=A.length){m(P=>({...P,phase:"predicting",progress:1})),f(),v.current=setTimeout(()=>{b.current&&h((j+1)%10)},b1);return}const Q=A[O],Y=Q.points[L];if(L===0)E.drawDot(Y.x,Y.y);else{const P=Q.points[L-1];E.drawStroke(P.x,P.y,Y.x,Y.y)}D++,m(P=>({...P,progress:D/T})),L++,L>=Q.points.length&&(O++,L=0),v.current=setTimeout(G,C)};v.current=setTimeout(G,200)},[g,f]),M=_.useCallback(()=>{if(b.current){x();return}b.current=!0,m({active:!0,phase:"training",digit:0,progress:0,epoch:0}),s(),o(c),d();let j=0;p.current=setInterval(()=>{if(!b.current){p.current&&(clearInterval(p.current),p.current=null);return}j++,m(E=>({...E,epoch:Math.min(j,Dc),progress:Math.min(j/Dc,1)}))},Sr),v.current=setTimeout(()=>{p.current&&(clearInterval(p.current),p.current=null),s(),h(0)},Dc*Sr)},[c,o,d,s,x,h]);return _.useEffect(()=>()=>{b.current=!1,S()},[S]),{cinematic:y,startCinematic:M,stopCinematic:x}}function uv(c){const o=c.length;if(o<2)return{points:c.map(()=>[0,0]),variance:[0,0]};const d=c[0].length;if(d===0)return{points:c.map(()=>[0,0]),variance:[0,0]};const s=new Float64Array(d);for(let S=0;S<o;S++)for(let x=0;x<d;x++)s[x]+=c[S][x];for(let S=0;S<d;S++)s[S]/=o;const g=new Array(o);for(let S=0;S<o;S++){g[S]=new Float64Array(d);for(let x=0;x<d;x++)g[S][x]=c[S][x]-s[x]}const f=new Float64Array(d*d);for(let S=0;S<d;S++)for(let x=S;x<d;x++){let h=0;for(let M=0;M<o;M++)h+=g[M][S]*g[M][x];h/=o-1,f[S*d+x]=h,f[x*d+S]=h}const y=(S,x,h=50)=>{const M=new Float64Array(x);for(let T=0;T<x;T++)M[T]=Math.sin(T*1.618+.5);let j=Math.sqrt(M.reduce((T,R)=>T+R*R,0));if(j>0)for(let T=0;T<x;T++)M[T]/=j;let E=0;const A=new Float64Array(x);for(let T=0;T<h;T++){for(let R=0;R<x;R++){let C=0;for(let O=0;O<x;O++)C+=S[R*x+O]*M[O];A[R]=C}j=0;for(let R=0;R<x;R++)j+=A[R]*A[R];if(j=Math.sqrt(j),E=j,j>1e-12)for(let R=0;R<x;R++)M[R]=A[R]/j;else break}return{vector:M,value:E}},m=y(f,d),b=new Float64Array(d*d);for(let S=0;S<d*d;S++)b[S]=f[S];for(let S=0;S<d;S++)for(let x=0;x<d;x++)b[S*d+x]-=m.value*m.vector[S]*m.vector[x];const v=y(b,d),p=new Array(o);for(let S=0;S<o;S++){let x=0,h=0;for(let M=0;M<d;M++)x+=g[S][M]*m.vector[M],h+=g[S][M]*v.vector[M];p[S]=[x,h]}return{points:p,variance:[m.value,v.value]}}let dr=null;function rv(){return dr||(dr=ra(Y1)),dr}function ov(c,o,d){return _.useMemo(()=>{const s=c.current;if(!s||o===0)return null;const{inputs:g,labels:f}=rv(),m=s.getLayers().length-2;if(m<0)return null;const b=g.length+(d?1:0),v=new Array(b);for(let h=0;h<g.length;h++){s.forward(g[h]);const M=s.getLayers();v[h]=M[m].activations.slice()}let p=null;d&&(s.forward(d),p=s.getLayers()[m].activations.slice(),v[g.length]=p);const{points:S}=uv(v),x=p?S[S.length-1]:null;return{points:S.slice(0,g.length),labels:f,userProjection:x}},[o,d])}function fv(){const[c,o]=_.useState({fps:60,degraded:!1}),d=_.useRef(0),s=_.useRef(performance.now()),g=_.useRef(0),f=_.useRef(0),y=_.useRef(0),m=_.useRef(!1);return _.useEffect(()=>{let b=!0,v=!document.hidden;const p=()=>{b&&(d.current++,g.current=requestAnimationFrame(p))},S=()=>{v=!document.hidden,v&&b&&(d.current=0,s.current=performance.now(),g.current=requestAnimationFrame(p))};document.addEventListener("visibilitychange",S),g.current=requestAnimationFrame(p);const x=setInterval(()=>{if(!v)return;const h=performance.now(),M=(h-s.current)/1e3,j=M>0?Math.round(d.current/M):60;d.current=0,s.current=h,j<tv?(f.current++,y.current=0):j>ev?(y.current++,f.current=0):(f.current=0,y.current=0);let E=m.current;!E&&f.current>=lv?(E=!0,m.current=!0):E&&y.current>=av&&(E=!1,m.current=!1),o({fps:j,degraded:E})},P1);return()=>{b=!1,cancelAnimationFrame(g.current),clearInterval(x),document.removeEventListener("visibilitychange",S)}},[]),c}class dv{frames=[];maxFrames;recordInterval;framesSinceLastRecord=0;constructor(o=200,d=1){this.maxFrames=o,this.recordInterval=d}_scratchBuffer=null;_scratchSize=0;record(o){if(this.framesSinceLastRecord++,this.framesSinceLastRecord<this.recordInterval||(this.framesSinceLastRecord=0,o.layers.length===0))return;const d=o.layers[0],s=d.weights.length,g=d.weights[0]?.length??0;if(s===0||g===0)return;const f=s*g;if(this.frames.length>=this.maxFrames){const m=[];for(let b=0;b<this.frames.length;b+=2)m.push(this.frames[b]);this.frames=m,this.recordInterval*=2}(!this._scratchBuffer||this._scratchSize!==f)&&(this._scratchSize=f);const y=new Float32Array(f);for(let m=0;m<s;m++){const b=d.weights[m],v=m*g;for(let p=0;p<g;p++)y[v+p]=b[p]}this.frames.push({epoch:o.epoch,loss:o.loss,accuracy:o.accuracy,weights:y,neuronCount:s})}getFrames(){return this.frames}getFrame(o){return this.frames[o]??null}get length(){return this.frames.length}clear(){this.frames=[],this.framesSinceLastRecord=0,this.recordInterval=1}}function c0(c,o,d,s){const g=Math.round(Math.sqrt(d)),f=s.data,y=o*d;let m=0;for(let b=0;b<d;b++){const v=Math.abs(c[y+b]);v>m&&(m=v)}m===0&&(m=1);for(let b=0;b<g;b++)for(let v=0;v<g;v++){const p=y+b*g+v,S=c[p]/m,x=(b*g+v)*4;if(S>0)f[x]=Math.round(255*Math.min(1,S*1.5)),f[x+1]=Math.round(180*S*S),f[x+2]=Math.round(60*S*S*S);else{const h=-S;f[x]=Math.round(40*h*h),f[x+1]=Math.round(180*h),f[x+2]=Math.round(255*Math.min(1,h*1.5))}f[x+3]=255}}const s0=33,hv=_.forwardRef(function({onDraw:o,size:d=280},s){const g=_.useRef(null),f=_.useRef(!1),y=_.useRef(null),m=_.useRef(0),b=_.useRef(null);_.useEffect(()=>{const E=g.current;if(!E)return;const A=E.getContext("2d");A&&(A.fillStyle="#000000",A.fillRect(0,0,d,d))},[d]),_.useImperativeHandle(s,()=>({clear(){const E=g.current;if(!E)return;const A=E.getContext("2d");A&&(A.fillStyle="#000000",A.fillRect(0,0,d,d))},drawStroke(E,A,T,R){const C=g.current;if(!C)return;const O=C.getContext("2d");if(!O)return;O.strokeStyle="#ffffff",O.lineWidth=18,O.lineCap="round",O.lineJoin="round",O.beginPath(),O.moveTo(E,A),O.lineTo(T,R),O.stroke();const L=O.getImageData(0,0,d,d);o(L)},drawDot(E,A){const T=g.current;if(!T)return;const R=T.getContext("2d");if(!R)return;R.fillStyle="#ffffff",R.beginPath(),R.arc(E,A,9,0,Math.PI*2),R.fill();const C=R.getImageData(0,0,d,d);o(C)},getImageData(){const E=g.current;if(!E)return null;const A=E.getContext("2d");return A?A.getImageData(0,0,d,d):null}}),[d,o]);const v=_.useCallback(E=>{const A=g.current;if(!A)return{x:0,y:0};const T=A.getBoundingClientRect();let R,C;if("touches"in E){const O=E.touches[0]||E.changedTouches?.[0];if(!O)return{x:0,y:0};R=O.clientX,C=O.clientY}else R=E.clientX,C=E.clientY;return{x:(R-T.left)*(d/T.width),y:(C-T.top)*(d/T.height)}},[d]),p=_.useCallback(()=>{const E=g.current;if(!E)return;const A=E.getContext("2d");if(!A)return;m.current=performance.now(),b.current&&(clearTimeout(b.current),b.current=null);const T=A.getImageData(0,0,d,d);o(T)},[o,d]),S=_.useCallback((E,A)=>{const T=g.current;if(!T)return;const R=T.getContext("2d");if(!R)return;R.strokeStyle="#ffffff",R.fillStyle="#ffffff",R.lineWidth=18,R.lineCap="round",R.lineJoin="round",y.current?(R.beginPath(),R.moveTo(y.current.x,y.current.y),R.lineTo(E,A),R.stroke()):(R.beginPath(),R.arc(E,A,9,0,Math.PI*2),R.fill()),y.current={x:E,y:A};const C=performance.now();if(C-m.current>=s0)p();else if(!b.current){const O=s0-(C-m.current);b.current=setTimeout(p,O)}},[p]),x=_.useCallback(E=>{E.preventDefault(),f.current=!0,y.current=null;const A=v(E);S(A.x,A.y)},[v,S]),h=_.useCallback(E=>{if(E.preventDefault(),!f.current)return;const A=v(E);S(A.x,A.y)},[v,S]),M=_.useCallback(()=>{f.current=!1,y.current=null,b.current&&(clearTimeout(b.current),b.current=null),p()},[p]),j=_.useCallback(()=>{const E=g.current;if(!E)return;const A=E.getContext("2d");A&&(A.fillStyle="#000000",A.fillRect(0,0,d,d))},[d]);return u.jsxs("div",{className:"drawing-canvas-container",role:"group","aria-label":"Drawing area",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Draw a Digit"})]}),u.jsx("canvas",{ref:g,width:d,height:d,className:"drawing-canvas",role:"img","aria-label":"Drawing canvas for digit input. Use mouse or touch to draw a digit 0-9.",onMouseDown:x,onMouseMove:h,onMouseUp:M,onMouseLeave:M,onTouchStart:x,onTouchMove:h,onTouchEnd:M}),u.jsx("div",{className:"canvas-controls",children:u.jsx("button",{className:"btn btn-secondary",onClick:j,"aria-label":"Clear drawing canvas",children:"Clear Canvas"})}),u.jsx("p",{className:"canvas-hint",children:"Draw a digit (0-9) and watch the network predict it"})]})});function Wa({propWidth:c,propHeight:o,defaultWidth:d,defaultHeight:s,aspectRatio:g}){const f=_.useRef(null),[y,m]=_.useState({width:d,height:s});return _.useEffect(()=>{if(c&&o)return;const v=f.current;if(!v)return;const p=new ResizeObserver(S=>{const x=S[0].contentRect.width;x>0&&m({width:x,height:Math.round(x*g)})});return p.observe(v),()=>p.disconnect()},[c,o,g]),{containerRef:f,dims:c&&o?{width:c,height:o}:y}}function u0(c,o,d,s){const g=c.length;if(g<2)return[];const f=(o-s*2)/(g-1),y=[];for(let m=0;m<g;m++){const b=[],v=Math.min(c[m],Ye),p=d-s*2,S=Math.min(p/(v+1),T1),x=d/2-(v-1)*S/2;for(let h=0;h<v;h++)b.push({x:s+m*f,y:x+h*S});c[m]>Ye&&b.push({x:s+m*f,y:x+v*S}),y.push(b)}return y}function mv(c,o,d){const s=[],g=c.length,f=Ye-1;for(let y=1;y<g;y++){const m=c[y-1],b=c[y],v=d[y-1],p=Math.min(m.length,o[y-1]>Ye?f:m.length),S=Math.min(b.length,o[y]>Ye?f:b.length),x=p*S,h=x>100?.3:x>40?.5:1;for(let M=0;M<S;M++)for(let j=0;j<p;j++){if(Math.random()>h||M>=v.weights.length||j>=(v.weights[M]?.length||0))continue;const E=v.weights[M][j],A=Math.abs(E);if(A<_1)continue;const R=(v.activations[M]||0)>=0;s.push({fromX:m[j].x,fromY:m[j].y,toX:b[M].x,toY:b[M].y,progress:0,speed:E1+Math.random()*R1,r:R?99:255,g:R?222:99,b:R?255:132,alpha:.4+A*.6,size:1.5+A*2.5,layerIdx:y-1,delay:(y-1)*j1+Math.random()*.1,alive:!0})}}return s}function r0(c,o){return[Math.min(c.length>0?784:0,o),...c.map(d=>d.activations.length)]}const gv=[.3,0];function vv({layers:c,inputSize:o,width:d,height:s,signalFlowTrigger:g=0}){const f=_.useRef(null),{containerRef:y,dims:m}=Wa({propWidth:d,propHeight:s,defaultWidth:kh.width,defaultHeight:kh.height,aspectRatio:N1}),b=_.useRef([]),v=_.useRef(0),p=_.useRef(0),S=_.useRef(0),x=_.useRef(new Map),{width:h,height:M}=m,j=_.useCallback((T,R,C)=>{if(!c||c.length===0)return;const O=C.length;for(let D=1;D<O;D++){const G=R[D-1],Q=R[D],Y=c[D-1],P=Math.min(G.length,C[D-1]>Ye?Ye-1:G.length),J=Math.min(Q.length,C[D]>Ye?Ye-1:Q.length);for(let tt=0;tt<J;tt++)for(let et=0;et<P;et++)if(tt<Y.weights.length&&et<(Y.weights[tt]?.length||0)){const it=Y.weights[tt][et];T.strokeStyle=f1(it),T.lineWidth=Math.min(2,Math.abs(it)*1.5),T.beginPath(),T.moveTo(G[et].x,G[et].y),T.lineTo(Q[tt].x,Q[tt].y),T.stroke()}}const L=x.current;for(let D=0;D<O;D++){const G=R[D],Q=D===0,Y=D===O-1;for(let et=0;et<G.length;et++){const{x:it,y:B}=G[et];if(C[D]>Ye&&et===G.length-1){T.fillStyle="#6b7280",T.font="12px Inter, sans-serif",T.textAlign="center",T.fillText(`+${C[D]-Ye}`,it,B+4);continue}let $=0;!Q&&D-1<c.length&&($=c[D-1].activations[et]||0);const ct=Y?10:7,at=`${D}-${et}`,w=L.get(at)||0,k=Math.abs($)>.3?1:0,lt=Math.max(k,w);if(lt>0){const nt=ct*(2.5+w*1.5),rt=($>0||w>.5,.3*lt),dt=T.createRadialGradient(it,B,0,it,B,nt),yt=$>0||w>0;dt.addColorStop(0,yt?`rgba(99, 222, 255, ${rt})`:`rgba(255, 99, 132, ${rt})`),dt.addColorStop(gv[0],yt?`rgba(99, 222, 255, ${rt*.3})`:`rgba(255, 99, 132, ${rt*.3})`),dt.addColorStop(1,"rgba(0, 0, 0, 0)"),T.fillStyle=dt,T.beginPath(),T.arc(it,B,nt,0,Math.PI*2),T.fill()}if(T.beginPath(),T.arc(it,B,ct,0,Math.PI*2),T.fillStyle=Q?"#374151":A0($,.8),T.fill(),T.strokeStyle="#4b5563",T.lineWidth=1,T.stroke(),Y){T.fillStyle="#e5e7eb",T.font="bold 9px Inter, sans-serif",T.textAlign="left",T.fillText(String(et),it+ct+4,B+3);const nt=c[c.length-1].activations[et]||0,rt=40,dt=6,yt=it+ct+16,Zt=B-3;T.fillStyle="#1f2937",T.fillRect(yt,Zt,rt,dt),T.fillStyle=nt>.5?"#10b981":"#63deff",T.fillRect(yt,Zt,rt*nt,dt),T.fillStyle="#9ca3af",T.font="8px Inter, sans-serif",T.fillText(`${(nt*100).toFixed(0)}%`,yt+rt+4,B+3)}}const P=M-15;T.fillStyle="#9ca3af",T.font="11px Inter, sans-serif",T.textAlign="center";const J=(h-Ac*2)/(O-1),tt=Ac+D*J;Q?T.fillText("Input",tt,P):Y?T.fillText("Output",tt,P):T.fillText(`Hidden ${D}`,tt,P)}},[c,h,M]),E=_.useCallback((T,R)=>{const C=b.current,O=x.current;let L=!1;for(let D=0;D<C.length;D++){const G=C[D];if(!G.alive)continue;const Q=R-G.delay;if(Q<0){L=!0;continue}if(G.progress=Math.min(1,Q*G.speed),G.progress>=1){G.alive=!1;const it=`arrival-${G.toX}-${G.toY}`;O.set(it,1);continue}L=!0;const Y=G.progress<.5?2*G.progress*G.progress:1-Math.pow(-2*G.progress+2,2)/2,P=G.fromX+(G.toX-G.fromX)*Y,J=G.fromY+(G.toY-G.fromY)*Y,tt=G.progress<.1?G.progress/.1:G.progress>.85?(1-G.progress)/.15:1,et=G.alpha*tt;T.globalAlpha=et*.4,T.fillStyle=`rgb(${G.r}, ${G.g}, ${G.b})`,T.beginPath(),T.arc(P,J,G.size*3,0,Math.PI*2),T.fill(),T.globalAlpha=et,T.beginPath(),T.arc(P,J,G.size,0,Math.PI*2),T.fill()}T.globalAlpha=1;for(const[D,G]of O.entries()){const Q=G-.03;Q<=0?O.delete(D):O.set(D,Q)}return L},[]),A=_.useCallback(()=>{const T=f.current;if(!T)return;const R=T.getContext("2d");if(!R)return;const C=window.devicePixelRatio||1;if(T.width=h*C,T.height=M*C,R.scale(C,C),R.clearRect(0,0,h,M),!c||c.length===0){R.fillStyle="#6b7280",R.font="14px Inter, sans-serif",R.textAlign="center",R.fillText("Start training to visualize the network",h/2,M/2);return}const O=r0(c,20),L=u0(O,h,M,Ac);j(R,L,O)},[c,o,h,M,j]);return _.useEffect(()=>{if(g===0||g===S.current||!c||c.length===0)return;S.current=g;const T=r0(c,20),R=u0(T,h,M,Ac);b.current=mv(R,T,c),x.current.clear(),v.current=performance.now(),p.current&&cancelAnimationFrame(p.current);{const O=f.current;if(O){const L=window.devicePixelRatio||1,D=h*L,G=M*L;(O.width!==D||O.height!==G)&&(O.width=D,O.height=G)}}const C=O=>{const L=f.current;if(!L)return;const D=L.getContext("2d");if(!D)return;const G=window.devicePixelRatio||1;D.setTransform(G,0,0,G,0,0),D.clearRect(0,0,h,M),j(D,R,T);const Q=(O-v.current)/1e3;E(D,Q)||Q<2.5?p.current=requestAnimationFrame(C):(b.current=[],x.current.clear(),A())};return p.current=requestAnimationFrame(C),()=>{p.current&&cancelAnimationFrame(p.current)}},[g,c,o,h,M,j,E,A]),_.useEffect(()=>{b.current.length>0||A()},[A]),u.jsxs("div",{className:"network-visualizer",ref:y,role:"group","aria-label":"Network architecture visualization",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Network Architecture"})]}),u.jsx("canvas",{ref:f,style:{width:h,height:M},className:"network-canvas",role:"img","aria-label":c?`Neural network with ${c.length} layers`:"Neural network  not yet initialized"})]})}function yv({lossHistory:c,accuracyHistory:o,width:d,height:s}){const g=_.useRef(null),{containerRef:f,dims:y}=Wa({propWidth:d,propHeight:s,defaultWidth:Jh.width,defaultHeight:Jh.height,aspectRatio:A1}),{width:m,height:b}=y;return _.useEffect(()=>{const v=g.current;if(!v)return;const p=v.getContext("2d");if(!p)return;const S=window.devicePixelRatio||1;v.width=m*S,v.height=b*S,p.scale(S,S),p.clearRect(0,0,m,b);const x={top:25,right:60,bottom:30,left:50},h=m-x.left-x.right,M=b-x.top-x.bottom;p.strokeStyle="#1f2937",p.lineWidth=1;for(let R=0;R<=4;R++){const C=x.top+M/4*R;p.beginPath(),p.moveTo(x.left,C),p.lineTo(x.left+h,C),p.stroke()}if(c.length===0){p.fillStyle="#6b7280",p.font="12px Inter, sans-serif",p.textAlign="center",p.fillText("Training data will appear here",m/2,b/2);return}p.fillStyle="#9ca3af",p.font="10px Inter, sans-serif",p.textAlign="center",p.fillText("Epoch",m/2,b-5);const j=(R,C,O,L,D)=>{if(R.length<2)return;p.strokeStyle=O,p.lineWidth=2,p.beginPath();for(let Q=0;Q<R.length;Q++){const Y=x.left+Q/Math.max(R.length-1,1)*h,P=x.top+M-Math.min(R[Q],C)/C*M;Q===0?p.moveTo(Y,P):p.lineTo(Y,P)}p.stroke(),p.beginPath();for(let Q=0;Q<R.length;Q++){const Y=x.left+Q/Math.max(R.length-1,1)*h,P=x.top+M-Math.min(R[Q],C)/C*M;Q===0?p.moveTo(Y,P):p.lineTo(Y,P)}const G=x.left+(R.length-1)/Math.max(R.length-1,1)*h;p.lineTo(G,x.top+M),p.lineTo(x.left,x.top+M),p.closePath(),p.globalAlpha=.08,p.fillStyle=O,p.fill(),p.globalAlpha=1,p.fillStyle=O,p.font="9px Inter, sans-serif",p.textAlign=D?"left":"right";for(let Q=0;Q<=4;Q++){const Y=C/4*(4-Q),P=x.top+M/4*Q;p.fillText(Y.toFixed(2),D?x.left+h+5:x.left-5,P+3)}p.font="bold 10px Inter, sans-serif",p.fillText(L,D?x.left+h+15:x.left-10,x.top-8)};let E=.1;for(let R=0;R<c.length;R++)c[R]>E&&(E=c[R]);if(j(c,E,Fh,"Loss",!1),j(o,1,Wh,"Accuracy",!0),c.length>0){const R=c[c.length-1],C=o[o.length-1]||0;p.font="bold 11px Inter, sans-serif",p.textAlign="center",p.fillStyle=Fh,p.fillText(`Loss: ${R.toFixed(4)}`,m/3,x.top-8),p.fillStyle=Wh,p.fillText(`Acc: ${(C*100).toFixed(1)}%`,2*m/3,x.top-8)}p.fillStyle="#6b7280",p.font="9px Inter, sans-serif",p.textAlign="center";const A=c.length,T=Math.max(1,Math.floor(A/5));for(let R=0;R<A;R+=T){const C=x.left+R/Math.max(A-1,1)*h;p.fillText(String(R+1),C,x.top+M+15)}},[c,o,m,b]),u.jsxs("div",{className:"loss-chart",ref:f,role:"group","aria-label":"Training progress charts",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Training Progress"})]}),u.jsx("canvas",{ref:g,style:{width:m,height:b},className:"chart-canvas",role:"img","aria-label":c.length>0?`Loss chart: ${c.length} epochs, current loss ${c[c.length-1]?.toFixed(4)}, accuracy ${((o[o.length-1]||0)*100).toFixed(1)}%`:"Training chart  no data yet"})]})}function pv({layers:c,width:o,height:d}){const s=_.useRef(null),{containerRef:g,dims:f}=Wa({propWidth:o,propHeight:d,defaultWidth:$h.width,defaultHeight:$h.height,aspectRatio:M1}),{width:y,height:m}=f;return _.useEffect(()=>{const b=s.current;if(!b)return;const v=b.getContext("2d");if(!v)return;const p=window.devicePixelRatio||1;if(b.width=y*p,b.height=m*p,v.scale(p,p),v.clearRect(0,0,y,m),!c||c.length===0){v.fillStyle="#6b7280",v.font="12px Inter, sans-serif",v.textAlign="center",v.fillText("No activations yet",y/2,m/2);return}const S=15,x=12,h=c.length,M=(m-S*2-(h-1)*x)/h;for(let j=0;j<h;j++){const A=c[j].activations,T=A.length,R=S+j*(M+x);v.fillStyle="#9ca3af",v.font="9px Inter, sans-serif",v.textAlign="left";const C=j===h-1;v.fillText(C?`Output (${T})`:`Layer ${j+1} (${T})`,S,R+10);const O=y-S*2,L=Math.min(T,64),D=Math.max(2,(O-60)/L),G=M-15,Q=S+55;let Y=0;for(const P of A)Y=Math.max(Y,Math.abs(P));Y===0&&(Y=1);for(let P=0;P<L;P++){const J=A[P],tt=J/Y,et=Math.abs(tt)*G,it=Q+P*D,B=R+15+G-et;if(J>0){const V=Math.min(1,Math.abs(tt));v.fillStyle=`rgba(99, 222, 255, ${.3+V*.7})`}else{const V=Math.min(1,Math.abs(tt));v.fillStyle=`rgba(255, 99, 132, ${.3+V*.7})`}v.fillRect(it,B,D-1,et)}T>L&&(v.fillStyle="#6b7280",v.font="8px Inter, sans-serif",v.textAlign="left",v.fillText(`+${T-L}`,Q+L*D+2,R+M-2))}},[c,y,m]),u.jsxs("div",{className:"activation-visualizer",ref:g,role:"group","aria-label":"Layer activation visualization",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Activations"})]}),u.jsx("canvas",{ref:s,style:{width:y,height:m},className:"activation-canvas",role:"img","aria-label":c?`Activation values for ${c.length} layers`:"No activation data yet"})]})}function bv({probabilities:c}){if(!c)return u.jsxs("div",{className:"prediction-bar",role:"group","aria-label":"Predictions",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Predictions"})]}),u.jsx("div",{className:"prediction-empty",children:"Draw a digit to see predictions"})]});let o=0;for(let s=0;s<c.length;s++)c[s]>o&&(o=c[s]);const d=c.indexOf(o);return u.jsxs("div",{className:"prediction-bar",role:"group","aria-label":`Predictions  predicted digit: ${d}`,children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Predictions"}),u.jsxs("span",{className:"predicted-digit","aria-label":`Predicted digit: ${d}`,children:[" ",d]})]}),u.jsx("div",{className:"probability-bars",role:"list","aria-label":"Digit probabilities",children:c.map((s,g)=>u.jsxs("div",{className:`prob-row ${g===d?"active":""}`,role:"listitem","aria-label":`Digit ${g}: ${(s*100).toFixed(1)} percent`,children:[u.jsx("span",{className:"prob-label","aria-hidden":"true",children:g}),u.jsx("div",{className:"prob-track",role:"progressbar","aria-valuenow":Math.round(s*100),"aria-valuemin":0,"aria-valuemax":100,children:u.jsx("div",{className:"prob-fill",style:{width:`${s*100}%`,backgroundColor:g===d?"#10b981":"#63deff",opacity:.3+s*.7}})}),u.jsxs("span",{className:"prob-value","aria-hidden":"true",children:[(s*100).toFixed(1),"%"]})]},g))})]})}function Sv({config:c,isTraining:o,epoch:d,onUpdateConfig:s,onUpdateLayers:g,onStart:f,onStop:y,onReset:m}){const[b,v]=_.useState(!1),p=()=>{const h=[...c.layers,{neurons:32,activation:"relu"}];g(h)},S=h=>{if(c.layers.length<=1)return;const M=c.layers.filter((j,E)=>E!==h);g(M)},x=(h,M)=>{const j=c.layers.map((E,A)=>A===h?{...E,...M}:E);g(j)};return u.jsxs("div",{className:"control-panel",role:"complementary","aria-label":"Network controls",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Controls"})]}),u.jsxs("div",{className:"control-section",children:[u.jsxs("div",{className:"control-buttons",children:[o?u.jsxs("button",{className:"btn btn-danger",onClick:y,"aria-label":"Pause training",children:[u.jsx("span",{className:"btn-icon","aria-hidden":"true",children:""})," Pause"]}):u.jsxs("button",{className:"btn btn-primary",onClick:f,"aria-label":"Start training",children:[u.jsx("span",{className:"btn-icon","aria-hidden":"true",children:""})," Train"]}),u.jsxs("button",{className:"btn btn-secondary",onClick:m,disabled:o,"aria-label":"Reset network",children:[u.jsx("span",{className:"btn-icon","aria-hidden":"true",children:""})," Reset"]})]}),u.jsxs("div",{className:"stat-row",children:[u.jsx("span",{className:"stat-label",children:"Epoch"}),u.jsx("span",{className:"stat-value","aria-label":`Current epoch: ${d}`,children:d})]})]}),u.jsxs("div",{className:"control-section",children:[u.jsxs("label",{className:"control-label",htmlFor:"lr-slider",children:["Learning Rate",u.jsx("span",{className:"control-value",children:c.learningRate})]}),u.jsx("input",{id:"lr-slider",type:"range",min:"0.001",max:"0.1",step:"0.001",value:c.learningRate,onChange:h=>s({learningRate:parseFloat(h.target.value)}),disabled:o,className:"slider","aria-valuemin":.001,"aria-valuemax":.1,"aria-valuenow":c.learningRate}),u.jsxs("div",{className:"slider-labels","aria-hidden":"true",children:[u.jsx("span",{children:"0.001"}),u.jsx("span",{children:"0.1"})]})]}),u.jsxs("div",{className:"control-section",children:[u.jsxs("button",{className:"section-header",onClick:()=>v(!b),"aria-expanded":b,"aria-controls":"layers-config",children:[u.jsx("span",{children:"Network Architecture"}),u.jsx("span",{className:"toggle-icon","aria-hidden":"true",children:b?"":""})]}),b&&u.jsxs("div",{className:"layers-config",id:"layers-config",children:[c.layers.map((h,M)=>u.jsxs("div",{className:"layer-config",children:[u.jsxs("div",{className:"layer-header",children:[u.jsxs("span",{className:"layer-name",children:["Layer ",M+1]}),c.layers.length>1&&u.jsx("button",{className:"btn-icon-small",onClick:()=>S(M),disabled:o,"aria-label":`Remove layer ${M+1}`,children:""})]}),u.jsxs("div",{className:"layer-controls",children:[u.jsxs("label",{className:"mini-label",htmlFor:`neurons-${M}`,children:["Neurons",u.jsx("select",{id:`neurons-${M}`,value:h.neurons,onChange:j=>x(M,{neurons:parseInt(j.target.value)}),disabled:o,className:"select-small",children:y1.map(j=>u.jsx("option",{value:j,children:j},j))})]}),u.jsxs("label",{className:"mini-label",htmlFor:`activation-${M}`,children:["Activation",u.jsxs("select",{id:`activation-${M}`,value:h.activation,onChange:j=>x(M,{activation:j.target.value}),disabled:o,className:"select-small",children:[u.jsx("option",{value:"relu",children:"ReLU"}),u.jsx("option",{value:"sigmoid",children:"Sigmoid"}),u.jsx("option",{value:"tanh",children:"Tanh"})]})]})]})]},M)),u.jsx("button",{className:"btn btn-ghost btn-add-layer",onClick:p,disabled:o||c.layers.length>=p1,"aria-label":"Add a new hidden layer",children:"+ Add Layer"})]})]}),u.jsxs("div",{className:"control-section architecture-summary","aria-label":`Architecture: 784 to ${c.layers.map(h=>h.neurons).join(" to ")} to 10`,children:[u.jsx("span",{className:"arch-label",children:"Architecture:"}),u.jsxs("span",{className:"arch-value",children:["784  ",c.layers.map(h=>h.neurons).join("  "),"  10"]})]})]})}const xr=new Uint8Array(256),Nr=new Uint8Array(256),Ar=new Uint8Array(256),Mr=new Uint8Array(256),Tr=new Uint8Array(256),jr=new Uint8Array(256);for(let c=0;c<256;c++)xr[c]=c*.39|0,Nr[c]=c*.87|0,Ar[c]=c,Mr[c]=c,Tr[c]=c*.39|0,jr[c]=c*.52|0;function xv({layers:c,selectedLayer:o,width:d=300,height:s=200}){const g=_.useRef(null),f=_.useRef(null);return _.useEffect(()=>{const y=g.current;if(!y)return;const m=y.getContext("2d");if(!m)return;const b=window.devicePixelRatio||1;if(y.width=d*b,y.height=s*b,m.scale(b,b),m.clearRect(0,0,d,s),!c||o>=c.length){m.fillStyle="#6b7280",m.font="12px Inter, sans-serif",m.textAlign="center",m.fillText("No data yet",d/2,s/2);return}const p=c[o].weights,S=p.length,x=p[0]?.length||0;if(S===0||x===0)return;const h=10,M=Math.min((d-h*2)/x,8),j=Math.min((s-h*2)/S,8);let E=0;for(let L=0;L<S;L++){const D=p[L];for(let G=0;G<x;G++){const Q=D[G]<0?-D[G]:D[G];Q>E&&(E=Q)}}E===0&&(E=1);const A=1/E,T=(d-x*M)/2,R=(s-S*j)/2;if(S*x>500&&M>=1&&j>=1){const L=Math.ceil(x*M),D=Math.ceil(S*j);(!f.current||f.current.width!==L||f.current.height!==D)&&(f.current=new ImageData(L,D));const G=f.current.data;G.fill(0);for(let Q=0;Q<S;Q++){const Y=p[Q],P=Q*j|0,J=Math.min(D,(Q+1)*j-.5|0);for(let tt=0;tt<x;tt++){const et=Y[tt]*A,it=tt*M|0,B=Math.min(L,(tt+1)*M-.5|0);let V,$,ct;if(et>0){const at=et*255|0;V=xr[at],$=Nr[at],ct=Ar[at]}else{const at=-et*255|0;V=Mr[at],$=Tr[at],ct=jr[at]}for(let at=P;at<J;at++)for(let w=it;w<B;w++){const k=at*L+w<<2;G[k]=V,G[k+1]=$,G[k+2]=ct,G[k+3]=255}}}m.putImageData(f.current,T,R)}else for(let L=0;L<S;L++){const D=p[L];for(let G=0;G<x;G++){const Q=D[G]*A,Y=T+G*M,P=R+L*j;if(Q>0){const J=Q*255|0;m.fillStyle=`rgb(${xr[J]},${Nr[J]},${Ar[J]})`}else{const J=-Q*255|0;m.fillStyle=`rgb(${Mr[J]},${Tr[J]},${jr[J]})`}m.fillRect(Y,P,M-.5,j-.5)}}const O=s-8;m.font="9px Inter, sans-serif",m.fillStyle="#9ca3af",m.textAlign="center",m.fillText(`Layer ${o+1}  ${S}${x} weights`,d/2,O)},[c,o,d,s]),u.jsx("canvas",{ref:g,style:{width:d,height:s},className:"heatmap-canvas"})}function Nv({layers:c}){const[o,d]=_.useState(0),s=c?.length||0,g=s>0?Math.min(o,s-1):0;return u.jsxs("div",{className:"weight-panel",role:"group","aria-label":"Weight heatmap visualization",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Weight Heatmap"})]}),s>0&&u.jsx("div",{className:"layer-tabs",role:"tablist","aria-label":"Select layer",children:Array.from({length:s},(f,y)=>u.jsx("button",{className:`tab ${g===y?"active":""}`,onClick:()=>d(y),role:"tab","aria-selected":g===y,"aria-label":y===s-1?"Output layer":`Layer ${y+1}`,children:y===s-1?"Out":`L${y+1}`},y))}),u.jsx(xv,{layers:c,selectedLayer:g,width:300,height:180})]})}function Av({phase:c,epoch:o,maxEpochs:d,currentDigit:s,progress:g}){const f=c==="training"?`Training epoch ${o}/${d}`:c==="drawing"?`Drawing digit ${s}`:`Predicting digit ${s}`,y=c==="training"?"":c==="drawing"?"":"";return u.jsxs("div",{className:"cinematic-badge","aria-live":"polite",role:"status",children:[u.jsx("span",{className:"cinematic-pulse","aria-hidden":"true"}),u.jsx("span",{className:"cinematic-emoji","aria-hidden":"true",children:y}),u.jsx("span",{className:"cinematic-label",children:f}),u.jsx("div",{className:"cinematic-progress","aria-hidden":"true",children:u.jsx("div",{className:"cinematic-progress-fill",style:{width:`${g*100}%`}})})]})}const o0=new Map;function Mv(c){let o=o0.get(c);return o||(o=new ImageData(c,c),o0.set(c,o)),o}function Tv(c,o){const d=Mv(o),s=d.data;let g=1/0,f=-1/0;const y=Math.min(c.length,vt*vt);for(let S=0;S<y;S++)c[S]<g&&(g=c[S]),c[S]>f&&(f=c[S]);const m=f-g,b=o/vt,v=m===0?f>0?1:f<0?0:.5:0,p=m>0?1/m:0;for(let S=0;S<o;S++){const h=Math.min(S/b|0,vt-1)*vt,M=S*o;for(let j=0;j<o;j++){const E=Math.min(j/b|0,vt-1),A=h+E,T=A>=y?.5:m===0?v:(c[A]-g)*p,R=M+j<<2;if(T>=.5){const C=(T-.5)*2;s[R]=20+C*79+.5|0,s[R+1]=40+C*182+.5|0,s[R+2]=60+C*195+.5|0}else{const C=(.5-T)*2;s[R]=20+C*235+.5|0,s[R+1]=40+C*59+.5|0,s[R+2]=60+C*72+.5|0}s[R+3]=255}}return d}const f0=new Map;function jv(c){let o=f0.get(c);return o||(o=new ImageData(c,c),f0.set(c,o)),o}function Ev(c,o){const d=jv(o),s=d.data,g=o/vt;for(let f=0;f<o;f++){const m=Math.min(f/g|0,vt-1)*vt,b=f*o;for(let v=0;v<o;v++){const p=Math.min(v/g|0,vt-1),S=(c[m+p]||0)*255+.5|0,x=b+v<<2;s[x]=S,s[x+1]=S,s[x+2]=S,s[x+3]=255}}return d}let Mc=[];function Rv(c,o,d){const s=Math.min(c.length,o.length);Mc.length!==s&&(Mc=new Array(s));const g=1-d;for(let f=0;f<s;f++)Mc[f]=c[f]*g+o[f]*d;return Mc}function _v({slotA:c,slotB:o,onMorphPredict:d,onSaveSlot:s}){const g=_.useRef(null),[f,y]=_.useState(.5),m=_.useRef(f),b=c!==null&&o!==null,v=_.useCallback(S=>{if(!c||!o)return;const x=g.current;if(!x)return;const h=x.getContext("2d");if(!h)return;const M=Rv(c,o,S),j=cr,E=window.devicePixelRatio||1;x.width=j*E,x.height=j*E,h.scale(E,E);const A=j/vt;for(let T=0;T<vt;T++)for(let R=0;R<vt;R++){const C=Math.round(M[T*vt+R]*255);h.fillStyle=`rgb(${C}, ${C}, ${C})`,h.fillRect(R*A,T*A,A+.5,A+.5)}d(M)},[c,o,d]);_.useEffect(()=>{b&&v(f)},[f,b,v]),_.useEffect(()=>{m.current=f},[f]);const p=_.useCallback(S=>{y(parseFloat(S.target.value))},[]);return u.jsxs("div",{className:"digit-morph",role:"group","aria-label":"Digit morphing",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Digit Morph"})]}),u.jsxs("div",{className:"morph-slots",children:[u.jsx("button",{className:`morph-slot-btn ${c?"saved":""}`,onClick:()=>s("A"),"aria-label":c?"Slot A saved  click to overwrite":"Save current drawing as Slot A",children:c?" A":"Save A"}),u.jsx("span",{className:"morph-arrow","aria-hidden":"true",children:""}),u.jsx("button",{className:`morph-slot-btn ${o?"saved":""}`,onClick:()=>s("B"),"aria-label":o?"Slot B saved  click to overwrite":"Save current drawing as Slot B",children:o?" B":"Save B"})]}),b?u.jsxs("div",{className:"morph-content",children:[u.jsx("canvas",{ref:g,style:{width:cr,height:cr},className:"morph-canvas",role:"img","aria-label":`Morphed digit  ${Math.round(f*100)}% toward B`}),u.jsxs("div",{className:"morph-slider-row",children:[u.jsx("span",{className:"morph-label",children:"A"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:p,className:"slider morph-slider","aria-label":"Morph blend slider","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":f}),u.jsx("span",{className:"morph-label",children:"B"})]}),u.jsxs("div",{className:"morph-value","aria-hidden":"true",children:[Math.round((1-f)*100),"% A  ",Math.round(f*100),"% B"]})]}):u.jsx("div",{className:"morph-empty",children:u.jsx("p",{children:"Draw a digit and save it to each slot, then morph between them."})})]})}function Cv({layers:c}){const o=_.useRef(null),d=_.useRef(null),[s,g]=_.useState(null),f=c&&c.length>0?c[0]:null,y=f?f.weights.length:0,m=_.useMemo(()=>{if(y===0)return{cols:0,rows:0,total:0};const j=Math.min(y,C1),E=Math.ceil(y/j);return{cols:j,rows:E,total:y}},[y]),b=_.useCallback(Tv,[]),v=_.useRef(null),p=_.useRef(null);_.useEffect(()=>{const j=o.current;if(!j||!f||m.total===0)return;const E=j.getContext("2d");if(!E)return;const{cols:A,rows:T}=m,R=A*(qt+Ve)-Ve,C=T*(qt+Ve)-Ve,O=window.devicePixelRatio||1;j.width=R*O,j.height=C*O,j.style.width=`${R}px`,j.style.height=`${C}px`,E.scale(O,O),E.clearRect(0,0,R,C),(!v.current||v.current.width!==qt)&&(v.current=document.createElement("canvas"),v.current.width=qt,v.current.height=qt,p.current=v.current.getContext("2d"));const L=p.current;for(let D=0;D<f.weights.length;D++){const G=D%A,Q=Math.floor(D/A),Y=G*(qt+Ve),P=Q*(qt+Ve),J=b(f.weights[D],qt);L&&(L.putImageData(J,0,0),E.drawImage(v.current,Y,P,qt,qt)),s===D&&(E.strokeStyle="rgba(99, 222, 255, 0.8)",E.lineWidth=2,E.strokeRect(Y-1,P-1,qt+2,qt+2)),E.fillStyle="rgba(0, 0, 0, 0.6)",E.fillRect(Y,P+qt-12,18,12),E.fillStyle="rgba(255, 255, 255, 0.7)",E.font="8px Inter, sans-serif",E.textAlign="left",E.fillText(`${D}`,Y+2,P+qt-3);const tt=f.activations[D]||0,et=Math.abs(tt)/2*qt;E.fillStyle=tt>0?`rgba(99, 222, 255, ${.5+Math.abs(tt)*.3})`:`rgba(255, 99, 132, ${.5+Math.abs(tt)*.3})`,E.fillRect(Y,P,Math.min(et,qt),2)}},[f,m,s,b]);const S=_.useRef(null),x=_.useRef(null);_.useEffect(()=>{const j=d.current;if(!j||!f||s===null||s>=f.weights.length)return;const E=j.getContext("2d");if(!E)return;const A=window.devicePixelRatio||1;j.width=ie*A,j.height=ie*A,E.scale(A,A),E.clearRect(0,0,ie,ie);const T=b(f.weights[s],ie);(!S.current||S.current.width!==ie)&&(S.current=document.createElement("canvas"),S.current.width=ie,S.current.height=ie,x.current=S.current.getContext("2d"));const R=x.current;R&&(R.putImageData(T,0,0),E.drawImage(S.current,0,0,ie,ie)),E.fillStyle="rgba(0, 0, 0, 0.7)",E.fillRect(0,ie-22,ie,22),E.fillStyle="#e5e7eb",E.font="bold 11px Inter, sans-serif",E.textAlign="center";const C=f.activations[s]||0;E.fillText(`Neuron ${s}  activation: ${C.toFixed(3)}`,ie/2,ie-7)},[f,s,b]);const h=_.useCallback(j=>{if(m.total===0)return;const E=o.current;if(!E)return;const A=E.getBoundingClientRect(),T=j.clientX-A.left,R=j.clientY-A.top,C=Math.floor(T/(qt+Ve)),O=Math.floor(R/(qt+Ve)),L=O*m.cols+C,D=T-C*(qt+Ve),G=R-O*(qt+Ve);D>=0&&D<qt&&G>=0&&G<qt&&L<m.total?g(L):g(null)},[m]),M=_.useCallback(()=>{g(null)},[]);return!f||y===0?u.jsxs("div",{className:"feature-maps",role:"group","aria-label":"Feature maps",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"What Neurons See"})]}),u.jsx("div",{className:"feature-maps-empty",children:u.jsx("p",{children:"Train the network to see what features each neuron learns to detect."})})]}):u.jsxs("div",{className:"feature-maps",role:"group","aria-label":"Feature maps  first layer weight visualization",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"What Neurons See"})]}),u.jsxs("div",{className:"feature-maps-content",children:[u.jsxs("div",{className:"feature-maps-grid-row",children:[u.jsx("canvas",{ref:o,className:"feature-maps-canvas",role:"img","aria-label":`Grid of ${y} neuron feature maps from the first hidden layer`,onMouseMove:h,onMouseLeave:M}),s!==null&&u.jsx("div",{className:"feature-maps-magnifier",children:u.jsx("canvas",{ref:d,style:{width:ie,height:ie},className:"feature-maps-mag-canvas",role:"img","aria-label":`Enlarged feature map for neuron ${s}`})})]}),u.jsxs("p",{className:"feature-maps-hint",children:["Each tile shows what a first-layer neuron has learned to detect. Hover to magnify.",u.jsx("br",{}),u.jsxs("span",{className:"feature-maps-legend",children:[u.jsx("span",{className:"legend-item legend-cyan",children:" Positive weights"}),u.jsx("span",{className:"legend-item legend-red",children:" Negative weights"})]})]})]})]})}const Fn=vt*vt;function Dv(c,o,d=0){const s=new Float32Array(Fn),g=_r(o);switch(c){case"gaussian":for(let f=0;f<Fn;f++)s[f]=Zh(g);break;case"salt-pepper":for(let f=0;f<Fn;f++){const y=g();y<.15?s[f]=1:y<.3?s[f]=-1:s[f]=0}break;case"adversarial":{const f=vt/2,y=vt/2,m=d/10*Math.PI*2;for(let b=0;b<Fn;b++){const v=b%vt,p=Math.floor(b/vt),S=Math.sqrt((v-f)**2+(p-y)**2)/(vt/2),x=Math.atan2(p-y,v-f),h=Math.cos(x-m);s[b]=h*(1-S)+Zh(g)*.3}break}}return s}let hr=[];function zv(c,o,d,s,g){const f=Math.min(c.length,Fn);hr.length!==f&&(hr=new Array(f));const y=hr;if(s==="salt-pepper"){const m=_r(g);for(let b=0;b<f;b++)Math.abs(o[b])>.5&&m()<d?y[b]=o[b]>0?1:0:y[b]=c[b]}else for(let m=0;m<f;m++)y[m]=Math.max(0,Math.min(1,c[m]+o[m]*d));return y}function Ov({currentInput:c,onPredict:o,probabilities:d,predictedLabel:s}){const g=_.useRef(null),[f,y]=_.useState(0),[m,b]=_.useState("gaussian"),[v,p]=_.useState(D1),[S,x]=_.useState(z1),[h,M]=_.useState(null);_.useEffect(()=>{if(!c||c.length<vt*vt)return;const R=g.current;if(!R)return;const C=R.getContext("2d");if(!C)return;const O=window.devicePixelRatio||1;R.width=je*O,R.height=je*O,C.scale(O,O);const L=Dv(m,v,S),D=zv(c,L,f,m,v),G=Ev(D,je),Q=new OffscreenCanvas(je,je),Y=Q.getContext("2d");Y&&(Y.putImageData(G,0,0),C.drawImage(Q,0,0,je,je)),f>0&&(C.fillStyle="rgba(0, 0, 0, 0.6)",C.fillRect(0,je-20,je,20),C.fillStyle=f<.3?"#10b981":f<.6?"#fbbf24":"#ff6384",C.font="bold 10px Inter, sans-serif",C.textAlign="center",C.fillText(`Noise: ${(f*100).toFixed(0)}%`,je/2,je-6)),o(D)},[c,f,m,v,S,o]);const j=_.useCallback(R=>{const C=parseFloat(R.target.value);f===0&&C>0&&s!==null&&M(s),C===0&&s!==null&&M(s),y(C)},[f,s]),E=_.useCallback(()=>{p(R=>R+1)},[]),A=d&&h!==null?(1-(d[h]||0))*100:0,T=s!==null&&h!==null&&s!==h;return c?u.jsxs("div",{className:"adversarial-lab",role:"group","aria-label":"Adversarial noise lab",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Adversarial Lab"})]}),u.jsxs("div",{className:"adversarial-content",children:[u.jsxs("div",{className:"adversarial-preview",children:[u.jsx("canvas",{ref:g,style:{width:je,height:je},className:"adversarial-canvas",role:"img","aria-label":`Drawing with ${(f*100).toFixed(0)}% ${m} noise applied`}),T&&u.jsxs("div",{className:"adversarial-flip-badge",children:[" FOOLED! ",h,"  ",s]})]}),u.jsx("div",{className:"adversarial-type-selector",role:"radiogroup","aria-label":"Noise type",children:Object.keys(Ih).map(R=>u.jsx("button",{className:`adversarial-type-btn ${m===R?"active":""}`,onClick:()=>b(R),role:"radio","aria-checked":m===R,"aria-label":O1[R],children:Ih[R]},R))}),m==="adversarial"&&u.jsxs("div",{className:"adversarial-target",children:[u.jsx("label",{className:"adversarial-target-label",htmlFor:"target-digit",children:"Target digit"}),u.jsx("div",{className:"adversarial-target-digits",role:"radiogroup","aria-label":"Target digit",children:Array.from({length:10},(R,C)=>u.jsx("button",{className:`target-digit-btn ${S===C?"active":""}`,onClick:()=>x(C),role:"radio","aria-checked":S===C,children:C},C))})]}),u.jsxs("div",{className:"adversarial-slider-section",children:[u.jsxs("label",{className:"control-label",htmlFor:"noise-slider",children:["Noise Level",u.jsxs("span",{className:`control-value ${f>.6?"danger":f>.3?"warning":""}`,children:[(f*100).toFixed(0),"%"]})]}),u.jsx("input",{id:"noise-slider",type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:j,className:"slider adversarial-slider","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":f,"aria-label":"Noise level"}),u.jsxs("div",{className:"adversarial-slider-labels",children:[u.jsx("span",{children:"Clean"}),u.jsx("span",{children:"Destroyed"})]})]}),u.jsx("button",{className:"btn btn-secondary adversarial-reseed",onClick:E,children:" New Noise Pattern"}),d&&h!==null&&u.jsxs("div",{className:"adversarial-confidence",children:[u.jsxs("div",{className:"confidence-header",children:[u.jsx("span",{className:"confidence-label",children:"Original confidence"}),u.jsxs("span",{className:`confidence-value ${T?"flipped":""}`,children:[((d[h]||0)*100).toFixed(1),"%"]})]}),u.jsx("div",{className:"confidence-track",children:u.jsx("div",{className:`confidence-fill ${T?"flipped":""}`,style:{width:`${(d[h]||0)*100}%`}})}),A>0&&u.jsxs("div",{className:"confidence-drop",children:[" ",A.toFixed(1),"% confidence drop"]})]})]})]}):u.jsxs("div",{className:"adversarial-lab",role:"group","aria-label":"Adversarial noise lab",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Adversarial Lab"})]}),u.jsx("div",{className:"adversarial-empty",children:u.jsx("p",{children:"Draw a digit first, then add noise to test the network's robustness."})})]})}function wv(c){const o=c.length,d=90,s=Math.max(280,(o+1)*d+40),g=c.reduce((y,m)=>Math.max(y,Math.min(m.activations.length,Ja)),0),f=Math.max(160,g*Yl+60);return{canvasWidth:s,canvasHeight:f,layerSpacing:d,padding:30}}function Lv(c,o,d){const s=T0+4,g=s*s;for(const f of d){const y=c-f.x,m=o-f.y;if(y*y+m*m<=g)return f}return null}function Uv(c,o,d,s){const{canvasWidth:g,canvasHeight:f,layerSpacing:y,padding:m}=d;c.clearRect(0,0,g,f);const b=[];let v=0,p=0;for(let S=1;S<o.length;S++){const x=o[S-1],h=o[S],M=Math.min(x.activations.length,Ja),j=Math.min(h.activations.length,Ja),E=f/2-(M-1)*Yl/2,A=f/2-(j-1)*Yl/2,T=m+S*y,R=m+(S+1)*y,C=_r(S*1e3+M*100+j),O=M*j>60?.2:.5;for(let L=0;L<j;L++)for(let D=0;D<M;D++)C()>O&&M*j>20||(c.strokeStyle="rgba(75, 85, 99, 0.15)",c.lineWidth=.5,c.beginPath(),c.moveTo(T,E+D*Yl),c.lineTo(R,A+L*Yl),c.stroke())}for(let S=0;S<o.length;S++){const x=o[S],h=x.activations.length,M=Math.min(h,Ja),j=f/2-(M-1)*Yl/2,E=m+(S+.5)*y;c.fillStyle="#9ca3af",c.font="10px Inter, sans-serif",c.textAlign="center",c.fillText(`Layer ${S+1}`,E,14),c.fillText(`(${h})`,E,24);for(let A=0;A<M;A++){const T=j+A*Yl,R=x.activations[A]||0,C=s(S,A);b.push({x:E,y:T,layerIdx:S,neuronIdx:A,activation:R}),C==="killed"&&p++,C==="frozen"&&v++;const O=T0;if(C==="active"&&Math.abs(R)>.2){const L=Math.min(.4,Math.abs(R)*.3),D=c.createRadialGradient(E,T,0,E,T,O*2.5);D.addColorStop(0,`rgba(99, 222, 255, ${L})`),D.addColorStop(1,"rgba(0, 0, 0, 0)"),c.fillStyle=D,c.beginPath(),c.arc(E,T,O*2.5,0,Math.PI*2),c.fill()}c.beginPath(),c.arc(E,T,O,0,Math.PI*2),C==="killed"?(c.fillStyle="rgba(239, 68, 68, 0.3)",c.fill(),c.strokeStyle="#ef4444",c.lineWidth=2,c.stroke(),c.strokeStyle="#ef4444",c.lineWidth=2,c.beginPath(),c.moveTo(E-4,T-4),c.lineTo(E+4,T+4),c.moveTo(E+4,T-4),c.lineTo(E-4,T+4),c.stroke()):C==="frozen"?(c.fillStyle="rgba(59, 130, 246, 0.3)",c.fill(),c.strokeStyle="#3b82f6",c.lineWidth=2,c.stroke(),c.fillStyle="#93c5fd",c.font="bold 9px Inter, sans-serif",c.textAlign="center",c.fillText("",E,T+3)):(c.fillStyle=A0(R,.7),c.fill(),c.strokeStyle="#4b5563",c.lineWidth=1,c.stroke())}if(h>Ja){const A=j+M*Yl;c.fillStyle="#6b7280",c.font="10px Inter, sans-serif",c.textAlign="center",c.fillText(`+${h-Ja}`,E,A)}}return{nodes:b,counts:{frozen:v,killed:p}}}const mr=["active","frozen","killed"];function Hv({layers:c,onSetNeuronStatus:o,onGetNeuronStatus:d,onClearAll:s,onSurgeryChange:g,currentPrediction:f,predictedLabel:y}){const m=_.useRef(null),b=_.useRef([]),[v,p]=_.useState({frozen:0,killed:0}),[,S]=_.useState(0),x=_.useMemo(()=>c?c.slice(0,-1):[],[c]),h=_.useMemo(()=>wv(x),[x]),{canvasWidth:M,canvasHeight:j}=h,E=_.useCallback(()=>{const O=m.current;if(!O||!c||c.length===0)return;const L=O.getContext("2d");if(!L)return;const D=window.devicePixelRatio||1;O.width=M*D,O.height=j*D,L.scale(D,D);const{nodes:G,counts:Q}=Uv(L,x,h,d);b.current=G,p(Q)},[c,x,M,j,h,d]);_.useEffect(()=>{E()},[E]);const A=_.useCallback(O=>{const L=m.current;if(!L)return;const D=L.getBoundingClientRect(),G=M/D.width,Q=j/D.height,Y=(O.clientX-D.left)*G,P=(O.clientY-D.top)*Q,J=Lv(Y,P,b.current);if(J){const tt=d(J.layerIdx,J.neuronIdx),et=(mr.indexOf(tt)+1)%mr.length;o(J.layerIdx,J.neuronIdx,mr[et]),g(),S(it=>it+1)}},[M,j,d,o,g]),T=_.useCallback(()=>{s(),g(),S(O=>O+1)},[s,g]),R=v.frozen+v.killed,C=c&&c.length>0;return u.jsxs("div",{className:"neuron-surgery",role:"group","aria-label":"Neuron surgery lab",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Neuron Surgery"})]}),C?u.jsxs("div",{className:"surgery-content",children:[u.jsxs("div",{className:"surgery-instructions",children:["Click neurons to cycle: ",u.jsx("span",{className:"surgery-active-tag",children:"active"})," "," ",u.jsx("span",{className:"surgery-frozen-tag",children:"frozen "})," "," ",u.jsx("span",{className:"surgery-killed-tag",children:"killed "})]}),u.jsx("canvas",{ref:m,style:{width:M,height:j,cursor:"pointer"},className:"surgery-canvas",onClick:A,role:"img","aria-label":`Network surgery view  ${R} neurons modified`}),u.jsxs("div",{className:"surgery-stats",children:[v.frozen>0&&u.jsxs("span",{className:"surgery-stat frozen",children:[" ",v.frozen," frozen"]}),v.killed>0&&u.jsxs("span",{className:"surgery-stat killed",children:[" ",v.killed," killed"]}),R===0&&u.jsx("span",{className:"surgery-stat none",children:"All neurons active"})]}),f&&y!==null&&R>0&&u.jsxs("div",{className:"surgery-impact",children:[u.jsx("div",{className:"surgery-impact-header",children:u.jsx("span",{children:"Impact on prediction"})}),u.jsxs("div",{className:"surgery-confidence-bar",children:[u.jsxs("div",{className:"surgery-confidence-label",children:["Digit ",y,": ",(f[y]*100).toFixed(1),"%"]}),u.jsx("div",{className:"surgery-bar-track",children:u.jsx("div",{className:"surgery-bar-fill",style:{width:`${f[y]*100}%`,backgroundColor:f[y]>.5?"var(--accent-green, #10b981)":"var(--accent-red, #ff6384)"}})})]})]}),R>0&&u.jsx("button",{className:"btn btn-secondary surgery-restore-btn",onClick:T,children:" Restore All Neurons"})]}):u.jsx("div",{className:"surgery-empty",children:u.jsx("p",{children:"Train a network first, then click neurons to freeze or kill them."})})]})}function E0(c){const o=Math.round(Math.max(0,Math.min(1,c))*255);return[Math.round(o*.4),Math.round(o*.87),o]}function Bv(c,o,d,s,g){const f=d/vt;for(let y=0;y<vt;y++)for(let m=0;m<vt;m++){const[b,v,p]=E0(o[y*vt+m]||0);c.fillStyle=`rgb(${b}, ${v}, ${p})`,c.fillRect(m*f,y*f,f+.5,f+.5)}c.fillStyle="rgba(0, 0, 0, 0.6)",c.fillRect(0,d-22,d,22),c.fillStyle="#63deff",c.font="bold 10px Inter, sans-serif",c.textAlign="center",c.fillText(`Step ${s}/${$a}  ${(g*100).toFixed(1)}%`,d/2,d-7)}const gr=40,$n=4,d0=5,Gv=2,Pn=14,ti={width:d0*(gr+$n)-$n,height:Gv*(gr+$n+Pn)-$n,cols:d0,cellSize:gr,gap:$n};function Yv(c,o){const{width:d,height:s,cellSize:g,gap:f,cols:y}=ti;c.clearRect(0,0,d,s);for(let m=0;m<10;m++){const b=m%y,v=Math.floor(m/y),p=b*(g+f),S=v*(g+f+Pn);c.fillStyle="#9ca3af",c.font="10px Inter, sans-serif",c.textAlign="center",c.fillText(String(m),p+g/2,S+10);const x=o[m];if(x){const h=g/vt;for(let M=0;M<vt;M++)for(let j=0;j<vt;j++){const[E,A,T]=E0(x[M*vt+j]||0);c.fillStyle=`rgb(${E}, ${A}, ${T})`,c.fillRect(p+j*h,S+Pn-2+M*h,h+.5,h+.5)}}else c.fillStyle="#1f2937",c.fillRect(p,S+Pn-2,g,g),c.fillStyle="#4b5563",c.font="18px Inter, sans-serif",c.textAlign="center",c.fillText("?",p+g/2,S+Pn-2+g/2+6)}}function qv({onDream:c,hasTrained:o}){const d=_.useRef(null),s=_.useRef(null),[g,f]=_.useState(0),[y,m]=_.useState(!1),[b,v]=_.useState(null),[p,S]=_.useState(0),[x,h]=_.useState(0),[M,j]=_.useState(new Array(10).fill(null)),E=_.useRef(null);_.useEffect(()=>()=>{E.current&&clearTimeout(E.current)},[]),_.useEffect(()=>{if(!b)return;const C=d.current;if(!C)return;const O=C.getContext("2d");if(!O)return;const L=window.devicePixelRatio||1;C.width=Jn*L,C.height=Jn*L,O.scale(L,L),Bv(O,b,Jn,x,p)},[b,x,p]),_.useEffect(()=>{const C=s.current;if(!C)return;const O=C.getContext("2d");if(!O)return;const L=window.devicePixelRatio||1;C.width=ti.width*L,C.height=ti.height*L,O.scale(L,L),Yv(O,M)},[M]);const A=_.useCallback(()=>{if(!o||y)return;m(!0),h(0),S(0),v(null);let C=0,L=[...Array.from({length:vt*vt},()=>Math.random()*.3+.1)],D=Ph;const G=()=>{if(C>=$a){m(!1),j(J=>{const tt=[...J];return tt[g]=L,tt});return}const Q=4;for(let J=0;J<Q&&C<$a;J++){const tt=c(g,1,D,L);tt&&(L=tt.image,D*=.998),C++}const Y=c(g,0,0,L),P=Y&&Y.confidenceHistory[0]||0;v([...L]),h(C),S(P),E.current=setTimeout(G,H1)};G()},[o,y,g,c]),T=_.useCallback(()=>{if(!o||y)return;const C=[];for(let O=0;O<10;O++){const L=c(O,$a,Ph);C.push(L?L.image:null)}j(C)},[o,y,c]),R=_.useCallback(()=>{E.current&&clearTimeout(E.current),m(!1)},[]);return u.jsxs("div",{className:"network-dreams",role:"group","aria-label":"Network dreams visualization",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Network Dreams"})]}),o?u.jsxs("div",{className:"dreams-content",children:[u.jsx("div",{className:"dreams-target-selector",role:"radiogroup","aria-label":"Target digit for dreaming",children:Array.from({length:10},(C,O)=>u.jsx("button",{className:`dreams-digit-btn ${g===O?"active":""}`,onClick:()=>f(O),disabled:y,role:"radio","aria-checked":g===O,children:O},O))}),u.jsxs("div",{className:"dreams-main",children:[u.jsx("canvas",{ref:d,style:{width:Jn,height:Jn},className:"dreams-canvas",role:"img","aria-label":b?`Network dream for digit ${g}  ${(p*100).toFixed(1)}% confidence`:"No dream generated yet"}),y&&u.jsxs("div",{className:"dreams-progress",children:[u.jsx("div",{className:"dreams-progress-bar",children:u.jsx("div",{className:"dreams-progress-fill",style:{width:`${x/$a*100}%`}})}),u.jsxs("span",{className:"dreams-progress-text",children:["Dreaming... ",x,"/",$a]})]})]}),u.jsxs("div",{className:"dreams-buttons",children:[y?u.jsx("button",{className:"btn btn-danger dreams-btn",onClick:R,children:" Stop"}):u.jsxs("button",{className:"btn btn-primary dreams-btn",onClick:A,children:[" Dream Digit ",g]}),u.jsx("button",{className:"btn btn-secondary dreams-btn",onClick:T,disabled:y,children:" Dream All 10"})]}),u.jsxs("div",{className:"dreams-gallery",children:[u.jsx("div",{className:"dreams-gallery-label",children:"Dream Gallery"}),u.jsx("canvas",{ref:s,style:{width:ti.width,height:ti.height},className:"dreams-gallery-canvas",role:"img","aria-label":`Gallery of dreamed digits  ${M.filter(Boolean).length}/10 generated`})]})]}):u.jsx("div",{className:"dreams-empty",children:u.jsx("p",{children:'Train the network first, then see what it "imagines" for each digit.'})})]})}const Xv=[{label:"Deep vs Shallow",a:{learningRate:.01,layers:[{neurons:64,activation:"relu"},{neurons:32,activation:"relu"}]},b:{learningRate:.01,layers:[{neurons:32,activation:"relu"}]}},{label:"ReLU vs Sigmoid",a:{learningRate:.01,layers:[{neurons:64,activation:"relu"}]},b:{learningRate:.01,layers:[{neurons:64,activation:"sigmoid"}]}},{label:"Fast vs Slow LR",a:{learningRate:.05,layers:[{neurons:32,activation:"relu"}]},b:{learningRate:.005,layers:[{neurons:32,activation:"relu"}]}},{label:"Wide vs Narrow",a:{learningRate:.01,layers:[{neurons:128,activation:"relu"}]},b:{learningRate:.01,layers:[{neurons:16,activation:"relu"}]}}],Qv={learningRate:.01,layers:[{neurons:64,activation:"relu"},{neurons:32,activation:"relu"}]},Zv={learningRate:.01,layers:[{neurons:32,activation:"sigmoid"}]},Vv={name:"Network A",color:"#63deff",config:Qv},Kv={name:"Network B",color:"#f59e0b",config:Zv};function kv(){const c=_.useRef(null),o=_.useRef(null),d=_.useRef(null),s=_.useRef(null),[g,f]=_.useState(Vv),[y,m]=_.useState(Kv),[b,v]=_.useState({isRacing:!1,epoch:0,lossA:[],lossB:[],accA:[],accB:[],winner:null});_.useEffect(()=>()=>{c.current&&clearTimeout(c.current),o.current=null,d.current=null,s.current=null},[]);const p=_.useCallback(()=>{if(b.isRacing)return;s.current=ra(Cr),o.current=new Ia(784,g.config),d.current=new Ia(784,y.config),v({isRacing:!0,epoch:0,lossA:[],lossB:[],accA:[],accB:[],winner:null});let M=0;const j=[],E=[],A=[],T=[],R=()=>{if(M>=Uc||!s.current){const O=A[A.length-1]||0,L=T[T.length-1]||0,D=Math.abs(O-L)<.02?"tie":O>L?"A":"B";v(G=>({...G,isRacing:!1,winner:D}));return}const C=s.current;if(o.current){const O=o.current.trainBatch(C.inputs,C.labels);j.push(O.loss),A.push(O.accuracy)}if(d.current){const O=d.current.trainBatch(C.inputs,C.labels);E.push(O.loss),T.push(O.accuracy)}M++,v(O=>({...O,epoch:M,lossA:[...j],lossB:[...E],accA:[...A],accB:[...T]})),c.current=setTimeout(R,B1)};R()},[b.isRacing,g.config,y.config]),S=_.useCallback(()=>{c.current&&clearTimeout(c.current),o.current=null,d.current=null,s.current=null,v(M=>({...M,isRacing:!1}))},[]),x=_.useCallback(M=>{b.isRacing||(f(j=>({...j,config:M.a})),m(j=>({...j,config:M.b})))},[b.isRacing]),h=_.useCallback((M,j,E)=>{if(b.isRacing)return;const A=T=>({...T,config:{...T.config,layers:[{neurons:j,activation:E}]}});M==="A"?f(A):m(A)},[b.isRacing]);return{racerA:g,racerB:y,raceState:b,startRace:p,stopRace:S,applyPreset:x,updateRacerLayers:h}}const vr=420,Bt={top:20,right:50,bottom:24,left:40};function Jv(c,o,d,s,g,f){c.clearRect(0,0,o,d);const y=o-Bt.left-Bt.right,m=d-Bt.top-Bt.bottom;c.strokeStyle="#1f2937",c.lineWidth=.5;for(let h=0;h<=4;h++){const M=Bt.top+m/4*h;c.beginPath(),c.moveTo(Bt.left,M),c.lineTo(Bt.left+y,M),c.stroke()}const{accA:b,accB:v,epoch:p,winner:S}=s;if(b.length===0&&v.length===0){c.fillStyle="#6b7280",c.font="12px Inter, sans-serif",c.textAlign="center",c.fillText("Configure networks and click Race!",o/2,d/2);return}const x=Math.max(b.length,v.length,Uc);h0(c,b,g.color,x,y,m),h0(c,v,f.color,x,y,m),c.fillStyle="#9ca3af",c.font="9px Inter, sans-serif",c.textAlign="right";for(let h=0;h<=4;h++){const M=.25*(4-h),j=Bt.top+m/4*h;c.fillText(`${(M*100).toFixed(0)}%`,Bt.left-4,j+3)}if(c.font="bold 10px Inter, sans-serif",c.textAlign="left",c.fillStyle=g.color,c.fillText(`A: ${b.length>0?(b[b.length-1]*100).toFixed(1):0}%`,Bt.left+4,Bt.top-6),c.fillStyle=f.color,c.fillText(`B: ${v.length>0?(v[v.length-1]*100).toFixed(1):0}%`,Bt.left+y/2,Bt.top-6),c.fillStyle="#6b7280",c.font="9px Inter, sans-serif",c.textAlign="center",c.fillText(`Epoch ${p}/${Uc}`,o/2,d-4),S){c.fillStyle=S==="A"?g.color:S==="B"?f.color:"#9ca3af",c.font="bold 12px Inter, sans-serif",c.textAlign="right";const h=S==="tie"?" Tie!":` ${S==="A"?g.name:f.name} wins!`;c.fillText(h,Bt.left+y,Bt.top-6)}}function h0(c,o,d,s,g,f){if(o.length<2)return;const y=1/Math.max(s-1,1);c.strokeStyle=d,c.lineWidth=2,c.beginPath();for(let b=0;b<o.length;b++){const v=Bt.left+b*y*g,p=Bt.top+f-Math.min(o[b],1)/1*f;b===0?c.moveTo(v,p):c.lineTo(v,p)}c.stroke(),c.beginPath();for(let b=0;b<o.length;b++){const v=Bt.left+b*y*g,p=Bt.top+f-Math.min(o[b],1)/1*f;b===0?c.moveTo(v,p):c.lineTo(v,p)}const m=Bt.left+(o.length-1)*y*g;c.lineTo(m,Bt.top+f),c.lineTo(Bt.left,Bt.top+f),c.closePath(),c.globalAlpha=.06,c.fillStyle=d,c.fill(),c.globalAlpha=1}function $v(){const c=_.useRef(null),{racerA:o,racerB:d,raceState:s,startRace:g,stopRace:f,applyPreset:y,updateRacerLayers:m}=kv();_.useEffect(()=>{const v=c.current;if(!v)return;const p=v.getContext("2d");if(!p)return;const S=window.devicePixelRatio||1;v.width=vr*S,v.height=sr*S,p.scale(S,S),Jv(p,vr,sr,{accA:s.accA,accB:s.accB,epoch:s.epoch,winner:s.winner},o,d)},[s,o,d]);const b=v=>`784${v.layers.map(p=>p.neurons).join("")}10 (lr=${v.learningRate})`;return u.jsxs("div",{className:"training-race",role:"group","aria-label":"Training race comparison",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Training Race"})]}),u.jsxs("div",{className:"race-content",children:[u.jsx("div",{className:"race-presets",children:Xv.map((v,p)=>u.jsx("button",{className:"race-preset-btn",onClick:()=>y(v),disabled:s.isRacing,children:v.label},p))}),u.jsx("div",{className:"race-configs",children:["A","B"].map(v=>{const p=v==="A"?o:d,S=p.config.layers[0];return u.jsxs("div",{className:"race-config-card",style:{borderColor:p.color},children:[u.jsx("div",{className:"race-config-header",style:{color:p.color},children:p.name}),u.jsx("div",{className:"race-config-arch",children:b(p.config)}),u.jsxs("div",{className:"race-config-controls",children:[u.jsx("select",{value:S.neurons,onChange:x=>m(v,parseInt(x.target.value),S.activation),disabled:s.isRacing,className:"select-small","aria-label":`${p.name} neurons`,children:[8,16,32,64,128].map(x=>u.jsxs("option",{value:x,children:[x," neurons"]},x))}),u.jsxs("select",{value:S.activation,onChange:x=>m(v,S.neurons,x.target.value),disabled:s.isRacing,className:"select-small","aria-label":`${p.name} activation`,children:[u.jsx("option",{value:"relu",children:"ReLU"}),u.jsx("option",{value:"sigmoid",children:"Sigmoid"}),u.jsx("option",{value:"tanh",children:"Tanh"})]})]})]},v)})}),u.jsx("canvas",{ref:c,style:{width:vr,height:sr},className:"race-chart-canvas",role:"img","aria-label":s.epoch>0?`Race chart: epoch ${s.epoch}/${Uc}`:"Race chart  not started"}),u.jsx("div",{className:"race-controls",children:s.isRacing?u.jsx("button",{className:"btn btn-danger race-btn",onClick:f,children:" Stop Race"}):u.jsx("button",{className:"btn btn-primary race-btn",onClick:g,children:" Race!"})}),s.winner&&u.jsx("div",{className:`race-winner race-winner-${s.winner.toLowerCase()}`,children:s.winner==="tie"?u.jsx("span",{children:" It's a tie! Both networks converged similarly."}):u.jsxs("span",{children:[" ",u.jsx("strong",{children:s.winner==="A"?o.name:d.name})," wins with ",((s.winner==="A"?s.accA:s.accB).slice(-1)[0]*100).toFixed(1),"% accuracy!"]})})]})]})}function Iv({epoch:c,isTraining:o,loss:d,accuracy:s,predictedLabel:g}){return u.jsxs("div",{className:"stats-panel",role:"region","aria-label":"Training statistics",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Statistics"})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-number",style:o?{animation:"statTick 0.2s cubic-bezier(0.34, 1.56, 0.64, 1)"}:void 0,"aria-label":`${c} epochs`,children:c},`epoch-${c}`),u.jsx("span",{className:"stat-desc",children:"Epochs"})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-number","aria-label":d!==null?`Loss ${d.toFixed(4)}`:"No loss data",style:d!==null&&d<.5?{color:"var(--accent-green)"}:void 0,children:d!==null?d.toFixed(4):""}),u.jsx("span",{className:"stat-desc",children:"Loss"})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-number","aria-label":s!==null?`Accuracy ${(s*100).toFixed(1)} percent`:"No accuracy data",style:s!==null&&s>.8?{color:"var(--accent-green)"}:void 0,children:s!==null?`${(s*100).toFixed(1)}%`:""}),u.jsx("span",{className:"stat-desc",children:"Accuracy"})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-number","aria-label":g!==null?`Predicted digit ${g}`:"No prediction",style:g!==null?{color:"var(--accent-green)",fontSize:"24px"}:void 0,children:g!==null?g:""}),u.jsx("span",{className:"stat-desc",children:"Prediction"})]})]})]})}function Wv({onClose:c}){return u.jsx("div",{className:"help-overlay",role:"dialog","aria-label":"Keyboard shortcuts",onClick:c,children:u.jsxs("div",{className:"help-panel",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"help-header",children:[u.jsx("h2",{children:"Keyboard Shortcuts"}),u.jsx("button",{className:"btn-close",onClick:c,"aria-label":"Close help",children:""})]}),u.jsx("div",{className:"help-list",children:w1.map(({key:o,description:d})=>u.jsxs("div",{className:"help-row",children:[u.jsx("kbd",{children:o}),u.jsx("span",{children:d})]},o))})]})})}function Fv({cinematicActive:c,onStartCinematic:o}){return u.jsxs("div",{className:"experience-panel",role:"group","aria-label":"Experience modes",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Experience"})]}),u.jsx("div",{className:"experience-buttons",children:u.jsxs("button",{className:`btn btn-experience ${c?"active":""}`,onClick:o,"aria-label":c?"Stop cinematic demo":"Start cinematic demo","aria-pressed":c,children:[u.jsx("span",{"aria-hidden":"true",children:""})," ",c?"Stop Demo":"Cinematic"]})})]})}function Pv(){const c=_.useRef(null);return _.useEffect(()=>{const o=c.current;if(!o)return;const d=o.getContext("2d");if(!d)return;const s=120,g=10;o.width=s*2,o.height=g*2,d.scale(2,2);for(let f=0;f<s;f++){const y=f/(s-1),[m,b,v]=h1(y);d.fillStyle=`rgb(${m},${b},${v})`,d.fillRect(f,0,1,g)}},[]),u.jsxs("div",{className:"saliency-legend",children:[u.jsx("span",{className:"legend-label",children:"Low"}),u.jsx("canvas",{ref:c,style:{width:120,height:10,borderRadius:3},"aria-hidden":"true"}),u.jsx("span",{className:"legend-label",children:"High"})]})}function ty({saliency:c,currentInput:o,predictedLabel:d,hasTrained:s}){const g=_.useRef(null),f=_.useRef(null),y=_.useRef(null),[m,b]=_.useState(0);_.useEffect(()=>{const S=g.current;if(!S||!o||!c)return;const x=S.getContext("2d");if(!x)return;const h=ur,M=window.devicePixelRatio||1;S.width=h*M,S.height=h*M,x.scale(M,M),x.clearRect(0,0,h,h);const j=m1(o,c,h);(!f.current||f.current.width!==h)&&(f.current=document.createElement("canvas"),f.current.width=h,f.current.height=h,y.current=f.current.getContext("2d"));const E=y.current;E&&(E.putImageData(j,0,0),x.drawImage(f.current,0,0,h,h));let A=0;for(let T=0;T<c.length;T++)c[T]>G1&&A++;b(Math.round(A/c.length*100))},[o,c]);const v=_.useMemo(()=>{if(!c)return 0;let S=0;for(let x=0;x<c.length;x++)c[x]>S&&(S=c[x]);return S},[c]),p=o&&c&&s;return u.jsxs("div",{className:"saliency-map",role:"group","aria-label":"Saliency map  attention heatmap",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Attention Map"})]}),p?u.jsxs("div",{className:"saliency-content",children:[u.jsxs("div",{className:"saliency-canvas-wrapper",children:[u.jsx("canvas",{ref:g,style:{width:ur,height:ur},className:"saliency-canvas",role:"img","aria-label":`Saliency heatmap showing attention for digit ${d}. ${m}% of pixels are important.`}),u.jsx("div",{className:"saliency-pulse","aria-hidden":"true"})]}),u.jsxs("div",{className:"saliency-stats",children:[u.jsxs("div",{className:"saliency-stat",children:[u.jsx("span",{className:"stat-label",children:"Focus"}),u.jsxs("span",{className:"stat-value stat-glow",children:[m,"%"]}),u.jsx("span",{className:"stat-desc",children:"of pixels matter"})]}),u.jsxs("div",{className:"saliency-stat",children:[u.jsx("span",{className:"stat-label",children:"Peak"}),u.jsx("span",{className:"stat-value stat-glow",children:v.toFixed(2)}),u.jsx("span",{className:"stat-desc",children:"max gradient"})]})]}),u.jsx(Pv,{}),u.jsxs("p",{className:"saliency-hint",children:['Bright pixels = what the network "sees" for digit ',u.jsx("strong",{children:d})]})]}):u.jsx("div",{className:"saliency-empty",children:u.jsx("p",{children:"Draw a digit to see where the network focuses attention."})})]})}const yr=["#ff6384","#36a2eb","#ffce56","#4bc0c0","#9966ff","#ff9f40","#10b981","#f472b6","#63deff","#a78bfa"];function ey({projection:c,epoch:o,predictedLabel:d}){const s=_.useRef(null),{containerRef:g,dims:f}=Wa({defaultWidth:t0.width,defaultHeight:t0.height,aspectRatio:q1}),[y,m]=_.useState(null),{width:b,height:v}=f,p=_.useCallback(()=>{const x=s.current;if(!x)return;const h=x.getContext("2d");if(!h)return;const M=window.devicePixelRatio||1;x.width=b*M,x.height=v*M,h.scale(M,M),h.clearRect(0,0,b,v);const j=30,E=b-j*2,A=v-j*2-10;if(!c||c.points.length===0){h.fillStyle="#6b7280",h.font="13px Inter, sans-serif",h.textAlign="center",h.fillText(o===0?"Train to see activation clusters form":"Computing projection",b/2,v/2);return}const{points:T,labels:R,userProjection:C}=c;let O=1/0,L=-1/0,D=1/0,G=-1/0;for(const[V,$]of T)V<O&&(O=V),V>L&&(L=V),$<D&&(D=$),$>G&&(G=$);if(C){const[V,$]=C;V<O&&(O=V),V>L&&(L=V),$<D&&(D=$),$>G&&(G=$)}const Q=L-O||1,Y=G-D||1,P=Q*.1,J=Y*.1;O-=P,L+=P,D-=J,G+=J;const tt=L-O,et=G-D,it=(V,$)=>[j+(V-O)/tt*E,j+10+($-D)/et*A];h.strokeStyle="rgba(75, 85, 99, 0.2)",h.lineWidth=.5;const B=5;for(let V=0;V<=B;V++){const $=j+V/B*E,ct=j+10+V/B*A;h.beginPath(),h.moveTo($,j+10),h.lineTo($,j+10+A),h.stroke(),h.beginPath(),h.moveTo(j,ct),h.lineTo(j+E,ct),h.stroke()}h.fillStyle="#6b7280",h.font="9px Inter, sans-serif",h.textAlign="center",h.fillText("PC1",b/2,v-2),h.save(),h.translate(8,v/2),h.rotate(-Math.PI/2),h.fillText("PC2",0,0),h.restore();for(let V=0;V<T.length;V++){const[$,ct]=it(T[V][0],T[V][1]),at=R[V],w=yr[at],k=y!==null&&at!==y;y===at&&(h.globalAlpha=.3,h.fillStyle=w,h.beginPath(),h.arc($,ct,7,0,Math.PI*2),h.fill()),h.globalAlpha=k?.12:.75,h.fillStyle=w,h.beginPath(),h.arc($,ct,k?2.5:3.5,0,Math.PI*2),h.fill()}if(h.globalAlpha=1,C&&d!==null){const[V,$]=it(C[0],C[1]),ct=yr[d];h.strokeStyle=ct,h.lineWidth=2,h.globalAlpha=.4,h.beginPath(),h.arc(V,$,12,0,Math.PI*2),h.stroke();const at=h.createRadialGradient(V,$,0,V,$,16);at.addColorStop(0,ct+"40"),at.addColorStop(1,ct+"00"),h.fillStyle=at,h.beginPath(),h.arc(V,$,16,0,Math.PI*2),h.fill(),h.globalAlpha=1,h.fillStyle=ct,h.beginPath(),h.arc(V,$,6,0,Math.PI*2),h.fill(),h.strokeStyle="#ffffff",h.lineWidth=1.5,h.beginPath(),h.arc(V,$,6,0,Math.PI*2),h.stroke(),h.fillStyle="#ffffff",h.font="bold 9px Inter, sans-serif",h.textAlign="center",h.fillText(String(d),V,$+3)}},[b,v,c,o,y,d]);_.useEffect(()=>{p()},[p]);const S=_.useCallback(x=>{m(x)},[]);return u.jsxs("div",{className:"activation-space",ref:g,role:"group","aria-label":"Activation space  2D PCA projection of hidden layer",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Activation Space"}),o>0&&u.jsxs("span",{className:"activation-space-epoch",children:["Epoch ",o]})]}),u.jsx("canvas",{ref:s,style:{width:b,height:v},className:"activation-space-canvas",role:"img","aria-label":c?`2D PCA scatter plot of ${c.points.length} training samples across 10 digit classes at epoch ${o}`:"Activation space  train to see clusters"}),u.jsx("div",{className:"activation-space-legend",role:"list","aria-label":"Digit class colors",children:yr.map((x,h)=>u.jsx("button",{className:`legend-dot ${y===h?"active":""}`,style:{"--dot-color":x},onMouseEnter:()=>S(h),onMouseLeave:()=>S(null),role:"listitem","aria-label":`Digit ${h}`,children:h},h))}),c&&u.jsx("p",{className:"activation-space-hint",children:"Hover digits to highlight. Large dot = your drawing."})]})}const m0=new Map;function ly(c){let o=m0.get(c);return o||(o=ra(c),m0.set(c,o)),o}const g0=Array.from({length:10},()=>new Array(10).fill(0)),pr=new Array(10).fill(0),ay=new Array(10).fill(0),ny=new Array(10).fill(0),iy=new Array(10).fill(0);function cy(c,o=20){const d=ly(o);for(let p=0;p<10;p++){for(let S=0;S<10;S++)g0[p][S]=0;pr[p]=0}const s=g0;let g=0;for(let p=0;p<d.inputs.length;p++){const S=c.forward(d.inputs[p]),x=Cc(S),h=d.labels[p];s[h][x]++,pr[h]++,x===h&&g++}const f=d.inputs.length,y=f>0?g/f:0,m=ay,b=ny,v=iy;for(let p=0;p<10;p++){let S=0;for(let M=0;M<10;M++)S+=s[M][p];m[p]=S>0?s[p][p]/S:0;let x=0;for(let M=0;M<10;M++)x+=s[p][M];b[p]=x>0?s[p][p]/x:0;const h=m[p]+b[p];v[p]=h>0?2*m[p]*b[p]/h:0}return{matrix:s,total:f,accuracy:y,precision:m,recall:b,f1:v,classCounts:pr}}const Ut=36,ei=24,sy=4,uy="11px Inter, sans-serif",v0="600 12px Inter, sans-serif",ry="9px Inter, sans-serif",sa=ei+Ut*10+sy*2;function oy(c,o,d){if(o===0)return"rgba(42, 48, 66, 0.6)";const s=Math.min(c/Math.max(o,1),1);if(d){const g=Math.round(10+6*(1-s)),f=Math.round(30+155*s),y=Math.round(40+89*s),m=.3+s*.7;return`rgba(${g}, ${f}, ${y}, ${m})`}else{const g=Math.round(60+195*s),f=Math.round(30+69*(1-s)),y=Math.round(40+92*(1-s)),m=.2+s*.8;return`rgba(${g}, ${f}, ${y}, ${m})`}}function fy(c,o,d){const s=sa;c.clearRect(0,0,s,s);let g=0;for(let m=0;m<10;m++)for(let b=0;b<10;b++)o.matrix[m][b]>g&&(g=o.matrix[m][b]);const f=ei,y=ei;c.font=v0,c.textAlign="center",c.textBaseline="middle";for(let m=0;m<10;m++){const b=f+m*Ut+Ut/2,v=y+m*Ut+Ut/2,p=d&&d.col===m;c.fillStyle=p?"#63deff":"#9ca3af",c.fillText(String(m),b,y/2);const S=d&&d.row===m;c.fillStyle=S?"#63deff":"#9ca3af",c.fillText(String(m),f/2,v)}c.font=ry,c.fillStyle="#6b7280",c.fillText("Predicted ",f+Ut*5,6),c.save(),c.translate(6,y+Ut*5),c.rotate(-Math.PI/2),c.fillText("Actual ",0,0),c.restore();for(let m=0;m<10;m++)for(let b=0;b<10;b++){const v=f+b*Ut,p=y+m*Ut,S=o.matrix[m][b],x=m===b;if(c.fillStyle=oy(S,g,x),c.fillRect(v+1,p+1,Ut-2,Ut-2),d&&d.row===m&&d.col===b&&(c.strokeStyle="#63deff",c.lineWidth=2,c.strokeRect(v+1,p+1,Ut-2,Ut-2)),d&&(d.row===m||d.col===b)&&!(d.row===m&&d.col===b)&&(c.fillStyle="rgba(99, 222, 255, 0.05)",c.fillRect(v+1,p+1,Ut-2,Ut-2)),S>0){c.font=x?v0:uy,c.textAlign="center",c.textBaseline="middle";const h=S/g;c.fillStyle=h>.5?"#ffffff":"#9ca3af",c.fillText(String(S),v+Ut/2,p+Ut/2)}}c.strokeStyle="rgba(42, 48, 66, 0.5)",c.lineWidth=.5;for(let m=0;m<=10;m++)c.beginPath(),c.moveTo(f+m*Ut,y),c.lineTo(f+m*Ut,y+10*Ut),c.stroke(),c.beginPath(),c.moveTo(f,y+m*Ut),c.lineTo(f+10*Ut,y+m*Ut),c.stroke()}function dy(c,o){const d=ei,s=ei,g=Math.floor((c-d)/Ut),f=Math.floor((o-s)/Ut);return f>=0&&f<10&&g>=0&&g<10?{row:f,col:g}:null}function hy({networkRef:c,epoch:o,isTraining:d}){const s=_.useRef(null),[g,f]=_.useState(null),[y,m]=_.useState(null);_.useEffect(()=>{if(!c.current||o===0){m(null);return}if(d&&o%10!==0)return;const x=setTimeout(()=>{if(!c.current)return;const h=cy(c.current,X1);m(h)},0);return()=>clearTimeout(x)},[o,d,c]),_.useEffect(()=>{const x=s.current;if(!x||!y)return;const h=x.getContext("2d");if(!h)return;const M=window.devicePixelRatio||1;x.width=sa*M,x.height=sa*M,h.scale(M,M),fy(h,y,g)},[y,g]);const b=_.useCallback(x=>{const h=s.current;if(!h)return;const M=h.getBoundingClientRect(),j=sa/M.width,E=sa/M.height,A=(x.clientX-M.left)*j,T=(x.clientY-M.top)*E;f(dy(A,T))},[]),v=_.useCallback(()=>{f(null)},[]),p=_.useMemo(()=>{if(!g||!y)return null;const{row:x,col:h}=g,M=y.matrix[x][h],j=y.classCounts[x],E=j>0?(M/j*100).toFixed(1):"0.0";return{actual:x,predicted:h,count:M,pct:E,isDiag:x===h,precision:(y.precision[h]*100).toFixed(1),recall:(y.recall[x]*100).toFixed(1)}},[g,y]),S=_.useMemo(()=>{if(!y)return[];const x=[];for(let h=0;h<10;h++)for(let M=0;M<10;M++)h!==M&&y.matrix[h][M]>0&&x.push({actual:h,predicted:M,count:y.matrix[h][M]});return x.sort((h,M)=>M.count-h.count),x.slice(0,3)},[y]);return u.jsxs("div",{className:"confusion-matrix",role:"group","aria-label":"Confusion matrix",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Confusion Matrix"}),y&&u.jsxs("span",{className:"confusion-accuracy",children:[(y.accuracy*100).toFixed(1),"%"]})]}),u.jsx("div",{className:"confusion-content",children:y?u.jsxs(u.Fragment,{children:[u.jsx("canvas",{ref:s,style:{width:sa,height:sa},className:"confusion-canvas",onMouseMove:b,onMouseLeave:v,role:"img","aria-label":`Confusion matrix: ${(y.accuracy*100).toFixed(1)}% overall accuracy`}),p&&u.jsxs("div",{className:`confusion-tooltip ${p.isDiag?"correct":"error"}`,children:[u.jsx("div",{className:"confusion-tooltip-title",children:p.isDiag?` Digit ${p.actual}  correct`:` Digit ${p.actual}  predicted ${p.predicted}`}),u.jsxs("div",{className:"confusion-tooltip-stats",children:[u.jsxs("span",{children:[p.count," samples (",p.pct,"%)"]}),u.jsxs("span",{className:"confusion-tooltip-metrics",children:["P: ",p.precision,"%  R: ",p.recall,"%"]})]})]}),S.length>0&&u.jsxs("div",{className:"confusion-top-errors",children:[u.jsx("div",{className:"confusion-top-errors-title",children:"Top confusions:"}),S.map((x,h)=>u.jsxs("span",{className:"confusion-error-chip",children:[x.actual,"",x.predicted," ",x.count]},h))]})]}):u.jsx("div",{className:"confusion-empty",children:"Train the network to see classification patterns"})})]})}let In=null,Wn=null;function my(c,o,d){c.forward(o);const s=c.getLayers(),g=c.getConfig(),f=s.length,y=c.getNeuronMasks(),m=s[f-1],b=m.activations.length;(!In||In.length<b)&&(In=new Array(b));for(let E=0;E<b;E++)In[E]=m.activations[E]-(E===d?1:0);let v=In;const p=[];for(let E=f-1;E>=0;E--){const A=s[E],T=E>0?s[E-1].activations:o;let R=0,C=0,O=0,L=0;for(let D=0;D<A.weights.length;D++){const G=y.get(`${E}-${D}`);if(!(G==="frozen"||G==="killed"))for(let Q=0;Q<A.weights[D].length;Q++){const Y=v[D]*T[Q],P=Math.abs(Y);isFinite(P)&&(R+=P,P>C&&(C=P),P<1e-6&&O++,L++)}}if(p.push({layerIdx:E,meanAbsGrad:L>0?R/L:0,maxAbsGrad:C,deadFraction:L>0?O/L:1,count:L}),E>0){const D=s[E-1],G=g.layers[E-1]?.activation||"relu",Q=D.weights.length;(!Wn||Wn.length<Q)&&(Wn=new Array(Q));for(let Y=0;Y<Q;Y++){let P=0;for(let tt=0;tt<A.weights.length;tt++)P+=A.weights[tt][Y]*v[tt];const J=P*Rr(D.preActivations[Y],G);Wn[Y]=isFinite(J)?J:0}v=Wn}}p.reverse();let S=1/0,x=-1/0,h=0;for(let E=0;E<p.length;E++){const A=p[E].meanAbsGrad;A<S&&(S=A),A>x&&(x=A),h+=p[E].deadFraction}const M=p.length>0?h/p.length:0;let j="healthy";return x>10||x>0&&x/(S||1e-10)>1e3?j="exploding":(S<1e-6||M>.8)&&(j="vanishing"),{layers:p,health:j,epoch:c.getEpoch()}}class gy{buffer;capacity;index=0;size=0;constructor(o=100){this.capacity=o,this.buffer=new Array(o)}push(o){this.buffer[this.index]=o,this.index=(this.index+1)%this.capacity,this.size<this.capacity&&this.size++}_orderedView=[];getAll(){if(this.size<this.capacity){if(this._orderedView.length!==this.size)this._orderedView=this.buffer.slice(0,this.size);else for(let o=0;o<this.size;o++)this._orderedView[o]=this.buffer[o];return this._orderedView}this._orderedView.length!==this.capacity&&(this._orderedView=new Array(this.capacity));for(let o=0;o<this.capacity;o++)this._orderedView[o]=this.buffer[(this.index+o)%this.capacity];return this._orderedView}getLatest(){if(this.size===0)return null;const o=(this.index-1+this.capacity)%this.capacity;return this.buffer[o]}getSize(){return this.size}clear(){this.index=0,this.size=0}}const ql=22,R0=6,Tc=52,vy=56,Ke=8,ua=40,_0=8,jc="10px Inter, sans-serif",yy="600 11px Inter, sans-serif",y0=340;function p0(c){return Ke*2+c*(ql+R0)+_0+ua+14}function b0(c){return c<1e-6?"#6b7280":c<.001?"#3b82f6":c<.01?"#06b6d4":c<.1?"#10b981":c<1?"#fbbf24":c<10?"#f97316":"#ef4444"}function py(c){switch(c){case"healthy":return"";case"vanishing":return"";case"exploding":return""}}function by(c){switch(c){case"healthy":return"Healthy";case"vanishing":return"Vanishing";case"exploding":return"Exploding"}}function br(c){switch(c){case"healthy":return"#10b981";case"vanishing":return"#3b82f6";case"exploding":return"#ef4444"}}function Sy(c,o,d,s,g){if(c.clearRect(0,0,o,d),!s||s.layers.length===0){c.font=jc,c.fillStyle="#6b7280",c.textAlign="center",c.textBaseline="middle",c.fillText("Train to see gradient flow",o/2,d/2);return}const f=s.layers,y=o-Tc-vy-Ke*2;let m=0;for(const x of f)x.meanAbsGrad>m&&(m=x.meanAbsGrad);const b=m>0?Math.log10(m)+2:1;let v=Ke;for(let x=0;x<f.length;x++){const h=f[x],j=x===f.length-1?"Output":`Hidden ${x+1}`;c.font=jc,c.fillStyle="#9ca3af",c.textAlign="right",c.textBaseline="middle",c.fillText(j,Tc-4,v+ql/2);const E=Tc;c.fillStyle="rgba(42, 48, 66, 0.5)",c.beginPath(),c.roundRect(E,v,y,ql,4),c.fill();const A=h.meanAbsGrad>0?Math.log10(h.meanAbsGrad)+2:0,R=Math.max(0,Math.min(1,A/b))*y;if(R>1){const O=b0(h.meanAbsGrad);c.fillStyle=O,c.beginPath(),c.roundRect(E,v,R,ql,4),c.fill(),c.shadowColor=O,c.shadowBlur=6,c.fillStyle=O,c.beginPath(),c.roundRect(E,v,R,ql,4),c.fill(),c.shadowBlur=0}if(h.deadFraction>.5){const O=h.deadFraction*y;c.fillStyle="rgba(107, 114, 128, 0.3)",c.beginPath(),c.roundRect(E+y-O,v,O,ql,4),c.fill()}c.font=jc,c.fillStyle=b0(h.meanAbsGrad),c.textAlign="left",c.textBaseline="middle";const C=h.meanAbsGrad>=.01?h.meanAbsGrad.toFixed(3):h.meanAbsGrad.toExponential(1);c.fillText(C,Tc+y+4,v+ql/2),v+=ql+R0}c.font=yy,c.fillStyle=br(s.health),c.textAlign="right",c.textBaseline="top",c.fillText(`${py(s.health)} ${by(s.health)}`,o-Ke,v+2);const p=v+_0+14,S=o-Ke*2;if(g.length>1){const x=[];for(const C of g){let O=0;for(const L of C.layers)O+=L.meanAbsGrad;x.push(O/C.layers.length)}const h=x;for(let C=0;C<x.length;C++)h[C]=x[C]>0?Math.log10(x[C]):-10;let M=h[0],j=h[0];for(const C of h)C<M&&(M=C),C>j&&(j=C);const E=j-M||1;c.font=jc,c.fillStyle="#6b7280",c.textAlign="left",c.textBaseline="top",c.fillText("Gradient history (log scale)",Ke,p-12),c.fillStyle="rgba(42, 48, 66, 0.3)",c.beginPath(),c.roundRect(Ke,p,S,ua,4),c.fill(),c.beginPath();for(let C=0;C<h.length;C++){const O=Ke+C/(h.length-1)*S,L=p+ua-(h[C]-M)/E*(ua-4)-2;C===0?c.moveTo(O,L):c.lineTo(O,L)}c.strokeStyle=br(s.health),c.lineWidth=1.5,c.stroke();const A=Ke+S;c.lineTo(A,p+ua),c.lineTo(Ke,p+ua),c.closePath();const T=c.createLinearGradient(0,p,0,p+ua),R=br(s.health);T.addColorStop(0,R.replace(")",", 0.2)").replace("rgb","rgba")),T.addColorStop(1,"transparent"),c.fillStyle=T,c.fill()}}function xy({networkRef:c,epoch:o,layers:d,isTraining:s}){const g=_.useRef(null),f=_.useRef(new gy(100)),[y,m]=_.useState(null),[b,v]=_.useState(!1),p=_.useRef(null);p.current||(p.current=ra(Q1)),_.useEffect(()=>{if(!c.current||o===0){m(null);return}if(s&&o%5!==0)return;const M=p.current,j=M.inputs[0],E=M.labels[0],A=my(c.current,j,E);f.current.push(A),m(A)},[o,s,c]),_.useEffect(()=>{o===0&&f.current.clear()},[o]),_.useEffect(()=>{const M=g.current;if(!M)return;const j=M.getContext("2d");if(!j)return;const E=y?.layers.length||(d?d.length:3),A=p0(E),T=y0,R=window.devicePixelRatio||1;M.width=T*R,M.height=A*R,M.style.width=`${T}px`,M.style.height=`${A}px`,j.scale(R,R),Sy(j,T,A,y,f.current.getAll())},[y,d]);const S=_.useCallback(()=>{v(M=>!M)},[]),x=y?.layers.length||(d?d.length:3),h=p0(x);return u.jsxs("div",{className:"gradient-flow-monitor",role:"group","aria-label":"Gradient flow monitor",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Gradient Flow"}),y&&u.jsx("span",{className:`gradient-health-badge gradient-health-${y.health}`,children:y.health==="healthy"?"":y.health==="vanishing"?"":""})]}),u.jsxs("div",{className:"gradient-flow-content",children:[u.jsx("canvas",{ref:g,style:{width:y0,height:h},className:"gradient-flow-canvas",role:"img","aria-label":y?`Gradient flow: ${y.health}  ${y.layers.length} layers`:"Gradient flow  not started"}),y&&u.jsx("button",{className:"gradient-detail-toggle",onClick:S,"aria-expanded":b,children:b?" Hide details":" Layer details"}),b&&y&&u.jsx("div",{className:"gradient-detail-table",children:y.layers.map((M,j)=>{const A=j===y.layers.length-1?"Output":`Hidden ${j+1}`;return u.jsxs("div",{className:"gradient-detail-row",children:[u.jsx("span",{className:"gradient-detail-label",children:A}),u.jsxs("span",{className:"gradient-detail-stat",children:["=",M.meanAbsGrad<.01?M.meanAbsGrad.toExponential(1):M.meanAbsGrad.toFixed(4)]}),u.jsxs("span",{className:"gradient-detail-stat",children:["max=",M.maxAbsGrad<.01?M.maxAbsGrad.toExponential(1):M.maxAbsGrad.toFixed(4)]}),u.jsxs("span",{className:`gradient-detail-dead ${M.deadFraction>.5?"warning":""}`,children:["dead=",Math.round(M.deadFraction*100),"%"]})]},j)})})]})]})}class Ny{snapshots=[];maxSnapshots;recordInterval=1;framesSinceLastRecord=0;constructor(o=200){this.maxSnapshots=o}record(o){if(this.framesSinceLastRecord++,this.framesSinceLastRecord<this.recordInterval)return;if(this.framesSinceLastRecord=0,this.snapshots.length>=this.maxSnapshots){const g=[];for(let f=0;f<this.snapshots.length;f+=2)g.push(this.snapshots[f]);this.snapshots=g,this.recordInterval*=2}const d=o.layers.length,s=new Array(d);for(let g=0;g<d;g++){const f=o.layers[g],y=f.weights.length,m=new Array(y);for(let b=0;b<y;b++)m[b]=f.weights[b].slice();s[g]={weights:m,biases:f.biases.slice()}}this.snapshots.push({epoch:o.epoch,loss:o.loss,accuracy:o.accuracy,params:s})}getTimeline(){return this.snapshots}getSnapshot(o){return this.snapshots[o]??null}get length(){return this.snapshots.length}clear(){this.snapshots=[]}}function Ay(c,o,d="relu"){let s=o;for(let y=0;y<c.length;y++){const{weights:m,biases:b}=c[y],v=y===c.length-1,p=[];for(let S=0;S<m.length;S++){let x=b[S];for(let h=0;h<s.length;h++)x+=m[S][h]*s[h];if(isFinite(x)||(x=0),v)p.push(x);else switch(d){case"relu":p.push(x>0?x:0);break;case"sigmoid":p.push(1/(1+Math.exp(-Math.max(-500,Math.min(500,x)))));break;case"tanh":p.push(Math.tanh(x));break}}if(v){let S=-1/0;for(let h=0;h<p.length;h++)p[h]>S&&(S=p[h]);let x=0;for(let h=0;h<p.length;h++)p[h]=Math.exp(p[h]-S),x+=p[h];if(x>0)for(let h=0;h<p.length;h++)p[h]/=x;else for(let h=0;h<p.length;h++)p[h]=.1}s=p}let g=0,f=s[0];for(let y=1;y<s.length;y++)s[y]>f&&(f=s[y],g=y);return{probabilities:s,label:g}}const Ec=["#ff6384","#36a2eb","#ffce56","#4bc0c0","#9966ff","#ff9f40","#10b981","#f472b6","#63deff","#a78bfa"];function My({epoch:c,isTraining:o,snapshot:d,currentInput:s,activationFn:g}){const f=_.useRef(null),y=_.useRef(new Ny(200)),[m,b]=_.useState(null),[v,p]=_.useState(!1),S=_.useRef(null),{containerRef:x,dims:h}=Wa({defaultWidth:e0.width,defaultHeight:e0.height,aspectRatio:Z1}),{width:M,height:j}=h;_.useEffect(()=>{d&&d.epoch>0&&y.current.record(d)},[d]),_.useEffect(()=>{c===0&&(y.current.clear(),b(null),p(!1))},[c]);const E=y.current.getTimeline(),A=E.length,T=_.useMemo(()=>!s||A===0?null:E.map(Q=>{try{return Ay(Q.params,s,g)}catch{return{probabilities:new Array(10).fill(.1),label:0}}}),[s,A,E,g]),R=_.useMemo(()=>m!==null&&m<A?E[m]:A>0?E[A-1]:null,[m,A,E]),C=_.useMemo(()=>{if(!T||T.length===0)return null;const Q=m!==null?m:T.length-1;return Q<T.length?T[Q]:null},[T,m]);_.useEffect(()=>{if(!v||A<2){S.current&&clearTimeout(S.current);return}let Y=m??0;const P=()=>{if(Y++,Y>=A){p(!1),b(A-1);return}b(Y),S.current=setTimeout(P,80)};return S.current=setTimeout(P,80),()=>{S.current&&clearTimeout(S.current)}},[v,A,m]);const O=_.useCallback(()=>{const Q=f.current;if(!Q)return;const Y=Q.getContext("2d");if(!Y)return;const P=window.devicePixelRatio||1;if(Q.width=M*P,Q.height=j*P,Y.scale(P,P),Y.clearRect(0,0,M,j),A===0){Y.fillStyle="#6b7280",Y.font="13px Inter, sans-serif",Y.textAlign="center",Y.fillText("Train to start recording epochs",M/2,j/2);return}const J={top:8,right:16,bottom:32,left:40},tt=M-J.left-J.right,et=j-J.top-J.bottom;let it=3;for(let $=0;$<A;$++)E[$].loss>it&&(it=E[$].loss);Y.strokeStyle="rgba(255, 99, 132, 0.3)",Y.lineWidth=1.5,Y.beginPath();for(let $=0;$<A;$++){const ct=J.left+$/(A-1)*tt,at=J.top+(1-E[$].loss/it)*et;$===0?Y.moveTo(ct,at):Y.lineTo(ct,at)}Y.stroke(),Y.strokeStyle="rgba(16, 185, 129, 0.3)",Y.lineWidth=1.5,Y.beginPath();for(let $=0;$<A;$++){const ct=J.left+$/(A-1)*tt,at=J.top+(1-E[$].accuracy)*et;$===0?Y.moveTo(ct,at):Y.lineTo(ct,at)}if(Y.stroke(),T&&T.length>0){const $=m!==null?Math.min(m,T.length-1):T.length-1,ct=T[$]?.label??0;for(let at=0;at<10;at++){const w=at===ct;if(w){Y.fillStyle=Ec[at]+"18",Y.beginPath(),Y.moveTo(J.left,J.top+et);for(let k=0;k<T.length;k++){const lt=J.left+k/(T.length-1)*tt,nt=T[k].probabilities[at]||0,rt=J.top+(1-nt)*et;Y.lineTo(lt,rt)}Y.lineTo(J.left+tt,J.top+et),Y.closePath(),Y.fill()}Y.strokeStyle=w?Ec[at]:Ec[at]+"30",Y.lineWidth=w?2.5:.8,Y.beginPath();for(let k=0;k<T.length;k++){const lt=J.left+k/(T.length-1)*tt,nt=T[k].probabilities[at]||0,rt=J.top+(1-nt)*et;k===0?Y.moveTo(lt,rt):Y.lineTo(lt,rt)}Y.stroke()}}const B=m!==null?m:A-1,V=J.left+B/Math.max(1,A-1)*tt;Y.strokeStyle="rgba(99, 222, 255, 0.6)",Y.lineWidth=1,Y.setLineDash([3,3]),Y.beginPath(),Y.moveTo(V,J.top),Y.lineTo(V,J.top+et),Y.stroke(),Y.setLineDash([]),Y.fillStyle="#63deff",Y.beginPath(),Y.arc(V,J.top+et+8,5,0,Math.PI*2),Y.fill(),R&&(Y.fillStyle="#63deff",Y.font="bold 10px Inter, sans-serif",Y.textAlign="center",Y.fillText(`Epoch ${R.epoch}`,V,J.top+et+24)),Y.fillStyle="#6b7280",Y.font="9px Inter, sans-serif",Y.textAlign="right",Y.fillText("1.0",J.left-4,J.top+4),Y.fillText("0.5",J.left-4,J.top+et/2+3),Y.fillText("0.0",J.left-4,J.top+et+4),Y.textAlign="center",Y.fillText("1",J.left,J.top+et+24),A>1&&Y.fillText(String(E[A-1].epoch),J.left+tt,J.top+et+24)},[M,j,A,E,T,m,R]);_.useEffect(()=>{O()},[O]);const L=_.useCallback(Q=>{const Y=parseInt(Q.target.value,10);b(Y),p(!1)},[]),D=_.useCallback(()=>{v?p(!1):((m!==null&&m>=A-1||m===null)&&b(0),p(!0))},[v,m,A]),G=_.useCallback(()=>{b(0),p(!1)},[]);return u.jsxs("div",{className:"epoch-replay",ref:x,role:"group","aria-label":"Epoch replay  training time machine",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Training Time Machine"}),R&&u.jsxs("span",{className:"epoch-replay-badge",children:["Epoch ",R.epoch,"  Loss ",R.loss.toFixed(2),"  Acc ",(R.accuracy*100).toFixed(0),"%"]})]}),u.jsx("canvas",{ref:f,style:{width:M,height:j},className:"epoch-replay-canvas",role:"img","aria-label":A>0?`Training timeline showing ${A} epochs${s?" with prediction confidence curves":""}`:"Training timeline  train to start recording"}),A>1&&u.jsxs("div",{className:"epoch-replay-controls",children:[u.jsx("button",{className:"replay-btn",onClick:G,"aria-label":"Rewind to first epoch",title:"Rewind",children:""}),u.jsx("button",{className:`replay-btn ${v?"playing":""}`,onClick:D,"aria-label":v?"Pause replay":"Play replay",title:v?"Pause":"Play",children:v?"":""}),u.jsx("input",{type:"range",min:0,max:A-1,value:m??A-1,onChange:L,className:"slider replay-slider","aria-label":"Scrub through training epochs","aria-valuemin":0,"aria-valuemax":A-1,"aria-valuenow":m??A-1})]}),C&&s&&u.jsx("div",{className:"epoch-replay-prediction",children:C.probabilities.map((Q,Y)=>u.jsxs("div",{className:`replay-digit ${Y===C.label?"active":""}`,style:{"--digit-color":Ec[Y],"--digit-conf":Q},children:[u.jsx("span",{className:"replay-digit-label",children:Y}),u.jsx("div",{className:"replay-digit-bar",children:u.jsx("div",{className:"replay-digit-fill",style:{width:`${Q*100}%`}})})]},Y))}),A===0&&u.jsx("p",{className:"epoch-replay-hint",children:o?"Recording epochs":"Draw a digit, then train  scrub through epochs to see confidence evolve."})]})}function Rc(c){const d=new Float64Array(784),s=5;for(let f=0;f<s;f++){const y=Ty(c);for(let m=0;m<784;m++)d[m]+=y[m]}const g=new Array(784);for(let f=0;f<784;f++)g[f]=Math.max(0,Math.min(1,d[f]/s));return g}function Ty(c){const o=new Array(784).fill(0),d=(m,b,v=1)=>{m>=0&&m<28&&b>=0&&b<28&&(o[b*28+m]=Math.min(1,o[b*28+m]+v))},s=(m,b,v,p,S=2)=>{const x=Math.max(Math.abs(v-m),Math.abs(p-b))*2;for(let h=0;h<=x;h++){const M=x===0?0:h/x,j=Math.round(m+(v-m)*M),E=Math.round(b+(p-b)*M);for(let A=-S+1;A<S;A++)for(let T=-S+1;T<S;T++)d(j+A,E+T,.8)}},g=(m,b,v,p,S,x=2)=>{const h=Math.max(20,Math.abs(S-p)*v);for(let M=0;M<=h;M++){const j=p+(S-p)*(M/h),E=Math.round(m+v*Math.cos(j)),A=Math.round(b+v*Math.sin(j));for(let T=-x+1;T<x;T++)for(let R=-x+1;R<x;R++)d(E+T,A+R,.8)}},f=()=>(Math.random()-.5)*1.5,y=()=>(Math.random()-.5)*1.5;switch(c){case 0:g(14+f(),14+y(),7+f(),0,Math.PI*2);break;case 1:s(14+f(),4+y(),14+f(),24+y()),s(11+f(),7+y(),14+f(),4+y()),s(10,24,18,24);break;case 2:g(14+f(),10+y(),6,-Math.PI,.3),s(19+f(),12+y(),8+f(),24+y()),s(8,24,20+f(),24+y());break;case 3:g(14+f(),10+y(),5+f(),-Math.PI*.8,Math.PI*.5),g(14+f(),18+y(),5+f(),-Math.PI*.5,Math.PI*.8);break;case 4:s(18+f(),4+y(),8+f(),16+y()),s(8+f(),16+y(),22+f(),16+y()),s(18+f(),4+y(),18+f(),24+y());break;case 5:s(18+f(),5+y(),9+f(),5+y()),s(9+f(),5+y(),9+f(),13+y()),g(14+f(),17+y(),6,-Math.PI*.6,Math.PI*.7);break;case 6:g(14+f(),18+y(),6,0,Math.PI*2),s(8+f(),18+y(),12+f(),5+y());break;case 7:s(8+f(),5+y(),20+f(),5+y()),s(20+f(),5+y(),12+f(),24+y());break;case 8:g(14+f(),10+y(),5,0,Math.PI*2),g(14+f(),19+y(),5,0,Math.PI*2);break;case 9:g(14+f(),10+y(),6,0,Math.PI*2),s(20+f(),10+y(),16+f(),24+y());break}return o.map(m=>Math.min(1,Math.max(0,m+(Math.random()-.5)*.05)))}function jy(c,o,d,s=32){const g=Rc(o),f=Rc(d),y=Rc(o),m=Rc(d),b=new Float64Array(784);for(let p=0;p<784;p++)b[p]=(y[p]-m[p])*.5;const v=[];for(let p=0;p<s;p++){const S=[],h=(p/(s-1)-.5)*2;for(let M=0;M<s;M++){const j=M/(s-1),E=new Array(784);for(let R=0;R<784;R++){const C=g[R]*(1-j)+f[R]*j,O=b[R]*h*.3;E[R]=Math.max(0,Math.min(1,C+O))}const A=c.predict(E),T=A.probabilities;S.push({confA:T[o]||0,confB:T[d]||0,label:A.label,maxConf:Math.max(...T)})}v.push(S)}return{grid:v,resolution:s,digitA:o,digitB:d}}const S0=new Map;function Ey(c,o){const{grid:d,resolution:s,digitA:g,digitB:f}=c;let y=S0.get(o);y||(y=new ImageData(o,o),S0.set(o,y));const m=y.data,b=o/s,v={r:54,g:162,b:235},p={r:255,g:99,b:132},S={r:80,g:80,b:100};for(let x=0;x<o;x++){const h=Math.min(s-1,Math.floor(x/b));for(let M=0;M<o;M++){const j=Math.min(s-1,Math.floor(M/b)),E=d[h][j];let A,T,R;if(E.label===g){const L=E.confA;A=Math.round(v.r*L+15*(1-L)),T=Math.round(v.g*L+15*(1-L)),R=Math.round(v.b*L+40*(1-L))}else if(E.label===f){const L=E.confB;A=Math.round(p.r*L+15*(1-L)),T=Math.round(p.g*L+15*(1-L)),R=Math.round(p.b*L+40*(1-L))}else{const L=E.maxConf*.5;A=Math.round(S.r*L+15*(1-L)),T=Math.round(S.g*L+15*(1-L)),R=Math.round(S.b*L+40*(1-L))}const C=1-Math.abs(E.confA-E.confB);if(C>.7){const L=(C-.7)/.3;A=Math.min(255,A+Math.round(L*60)),T=Math.min(255,T+Math.round(L*60)),R=Math.min(255,R+Math.round(L*60))}const O=(x*o+M)*4;m[O]=A,m[O+1]=T,m[O+2]=R,m[O+3]=255}}return y}const Ry=[[3,8,"3 vs 8  subtle curve difference"],[1,7,"1 vs 7  the crossbar question"],[4,9,"4 vs 9  loop vs angle"],[5,6,"5 vs 6  open vs closed"],[0,6,"0 vs 6  tail detection"],[2,7,"2 vs 7  curve vs straight"]];function _y({networkRef:c,epoch:o,isTraining:d}){const s=_.useRef(null),[g,f]=_.useState(3),[y,m]=_.useState(8),[b,v]=_.useState(null),[p,S]=_.useState(!1),[x,h]=_.useState(null),M=_.useRef(-1),{containerRef:j,dims:E}=Wa({defaultWidth:rr.width,defaultHeight:rr.width,aspectRatio:1}),A=Math.min(E.width,rr.width);_.useEffect(()=>{if(!c.current||o===0||d&&o-M.current<5)return;M.current=o,S(!0);const L=setTimeout(()=>{if(!c.current)return;const D=jy(c.current,g,y,V1);v(D),S(!1)},50);return()=>clearTimeout(L)},[o,g,y,c,d]);const T=_.useCallback(()=>{const L=s.current;if(!L)return;const D=L.getContext("2d");if(!D)return;const G=window.devicePixelRatio||1,Q=A;if(L.width=Q*G,L.height=Q*G,D.scale(G,G),D.clearRect(0,0,Q,Q),!b){D.fillStyle="#6b7280",D.font="13px Inter, sans-serif",D.textAlign="center",D.fillText(o===0?"Train to see decision boundaries form":p?"Computing boundary":"Select digit pair",Q/2,Q/2);return}const Y=Ey(b,Q);if(D.putImageData(Y,0,0),D.fillStyle="rgba(255, 255, 255, 0.8)",D.font="bold 12px Inter, sans-serif",D.textAlign="center",D.fillText(` ${g}`,30,Q-6),D.fillText(`${y} `,Q-30,Q-6),D.save(),D.translate(12,Q/2),D.rotate(-Math.PI/2),D.fillText("Variation",0,0),D.restore(),x){const{grid:P,resolution:J}=b,tt=Q/J,et=Math.min(J-1,Math.floor(x.x/tt)),it=Math.min(J-1,Math.floor(x.y/tt)),B=P[it]?.[et];if(B){const V=Math.min(Q-110,x.x+10),$=Math.max(50,x.y-10);D.fillStyle="rgba(17, 24, 39, 0.92)",D.strokeStyle="rgba(99, 222, 255, 0.3)",D.lineWidth=1,D.beginPath(),D.roundRect(V,$-44,100,44,6),D.fill(),D.stroke(),D.fillStyle="#e5e7eb",D.font="10px Inter, sans-serif",D.textAlign="left",D.fillText(`Predicts: ${B.label}`,V+8,$-28),D.fillText(`${g}: ${(B.confA*100).toFixed(0)}% | ${y}: ${(B.confB*100).toFixed(0)}%`,V+8,$-14);const ct=$-6;D.fillStyle="rgba(54, 162, 235, 0.6)",D.fillRect(V+8,ct,B.confA*84,3),D.fillStyle="rgba(255, 99, 132, 0.6)",D.fillRect(V+8+B.confA*84,ct,B.confB*84,3)}}},[A,b,o,p,x,g,y]);_.useEffect(()=>{T()},[T]);const R=_.useCallback(L=>{const D=s.current;if(!D)return;const G=D.getBoundingClientRect();h({x:(L.clientX-G.left)*(A/G.width),y:(L.clientY-G.top)*(A/G.height)})},[A]),C=_.useCallback(()=>h(null),[]),O=_.useMemo(()=>{if(!b)return null;const{grid:L,resolution:D}=b;let G=0,Q=0,Y=0,P=0;for(let tt=0;tt<D;tt++)for(let et=0;et<D;et++){const it=L[tt][et];it.label===b.digitA?G++:it.label===b.digitB?Q++:Y++,Math.abs(it.confA-it.confB)<.15&&P++}const J=D*D;return{aPercent:(G/J*100).toFixed(0),bPercent:(Q/J*100).toFixed(0),otherPercent:(Y/J*100).toFixed(0),uncertainPercent:(P/J*100).toFixed(0)}},[b]);return u.jsxs("div",{className:"decision-boundary",ref:j,role:"group","aria-label":"Decision boundary map between two digits",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Decision Boundary"}),p&&u.jsx("span",{className:"boundary-computing",children:"Computing"})]}),u.jsxs("div",{className:"boundary-selector",children:[u.jsxs("div",{className:"boundary-digit-pair",children:[u.jsx("select",{value:g,onChange:L=>f(parseInt(L.target.value,10)),className:"boundary-select","aria-label":"Digit A",children:Array.from({length:10},(L,D)=>u.jsx("option",{value:D,disabled:D===y,children:D},D))}),u.jsx("span",{className:"boundary-vs",children:"vs"}),u.jsx("select",{value:y,onChange:L=>m(parseInt(L.target.value,10)),className:"boundary-select","aria-label":"Digit B",children:Array.from({length:10},(L,D)=>u.jsx("option",{value:D,disabled:D===g,children:D},D))})]}),u.jsx("div",{className:"boundary-presets",children:Ry.map(([L,D,G])=>u.jsxs("button",{className:`boundary-preset-btn ${g===L&&y===D?"active":""}`,onClick:()=>{f(L),m(D)},title:G,"aria-label":G,children:[L,"",D]},`${L}-${D}`))})]}),u.jsx("canvas",{ref:s,style:{width:A,height:A},className:"boundary-canvas",onMouseMove:R,onMouseLeave:C,role:"img","aria-label":b?`Decision boundary heatmap between digits ${g} and ${y}`:"Decision boundary  train network first"}),O&&u.jsxs("div",{className:"boundary-stats",children:[u.jsxs("span",{className:"stat-a",children:[u.jsx("span",{className:"stat-dot",style:{background:"#36a2eb"}}),g,": ",O.aPercent,"%"]}),u.jsxs("span",{className:"stat-b",children:[u.jsx("span",{className:"stat-dot",style:{background:"#ff6384"}}),y,": ",O.bPercent,"%"]}),u.jsxs("span",{className:"stat-uncertain",children:[" Boundary: ",O.uncertainPercent,"%"]})]}),!b&&o===0&&u.jsx("p",{className:"boundary-hint",children:"Train the network, then pick two digits to visualize how it separates them."})]})}const Cy=.01;function Dy(c,o,d=80,s=.5){const g=o.reduce((h,M)=>h+M,0),f=g>0?o.map(h=>h/g):o.map(()=>.1),m=c.getLayers()[0]?.weights[0]?.length||784,b=Array.from({length:m},()=>Math.random()*.3+.1),v=[];let p=s;const S=new Float64Array(m);for(let h=0;h<d;h++){const M=c.forward(b);v.push([...M]),S.fill(0);for(let j=0;j<10;j++){const E=f[j];if(E<Cy)continue;const A=li(c,b,j);for(let T=0;T<m;T++)S[T]+=E*A[T]}for(let j=0;j<m;j++)b[j]+=p*S[j]-.001*b[j],b[j]<0?b[j]=0:b[j]>1&&(b[j]=1);p*=.998}const x=[...c.forward(b)];return{image:b,confidenceHistory:v,finalConfidence:x}}const zy=[{name:"3 + 8",emoji:"",description:"Round digits  what joins them?",weights:[0,0,0,1,0,0,0,0,1,0]},{name:"1 + 7",emoji:"",description:"Angular digits  vertical meets diagonal",weights:[0,1,0,0,0,0,0,1,0,0]},{name:"4 + 9",emoji:"",description:"Similar tops  which wins?",weights:[0,0,0,0,1,0,0,0,0,1]},{name:"5 + 6",emoji:"",description:"Curvy siblings  round bottom blend",weights:[0,0,0,0,0,1,1,0,0,0]},{name:"0 + 8",emoji:"",description:"Loops  one ring or two?",weights:[1,0,0,0,0,0,0,0,1,0]},{name:"All Digits",emoji:"",description:"Every class equally  pure abstraction",weights:[1,1,1,1,1,1,1,1,1,1]}];function C0(c){let o=0,d=c[0];for(let s=1;s<c.length;s++)c[s]>d&&(d=c[s],o=s);return o}function Oy(c,o,d,s=24){const g=new Array(o.length);for(let m=0;m<o.length;m++){const v=c.forward(o[m])[d[m]],p=-Math.log(Math.max(v,1e-10));g[m]={idx:m,loss:isFinite(p)?p:20}}g.sort((m,b)=>b.loss-m.loss);const f=Math.min(s,g.length),y=new Array(f);for(let m=0;m<f;m++){const{idx:b,loss:v}=g[m],p=c.forward(o[b]),S=C0(p);y[m]={input:o[b],trueLabel:d[b],predictedLabel:S,confidence:p[S],trueConfidence:p[d[b]],loss:v,isWrong:S!==d[b],probabilities:p.slice()}}return y}function wy(c,o,d){const s=new Array(10).fill(0),g=new Map;let f=0;for(let b=0;b<o.length;b++){const v=c.forward(o[b]),p=C0(v);if(p!==d[b]){f++,s[d[b]]++;const S=`${d[b]}-${p}`;g.set(S,(g.get(S)||0)+1)}}let y=null,m=0;for(const[b,v]of g)if(v>m){m=v;const[p,S]=b.split("-").map(Number);y=[p,S]}return{totalSamples:o.length,totalWrong:f,accuracy:o.length>0?1-f/o.length:0,classErrors:s,mostConfusedPair:y}}function x0(c,o,d){let s=0;for(let g=0;g<o.length;g++)c.predict(o[g]).label===d[g]&&s++;return s/o.length}function Ly(c,o=10){const d=ra(o),{inputs:s,labels:g}=d,f=c.getAllNeuronStatuses();c.clearAllMasks();const y=x0(c,s,g),m=c.getConfig(),b=[];let v=0,p=null,S=null;for(let h=0;h<m.layers.length;h++){const M=m.layers[h].neurons,j=[];for(let E=0;E<M;E++){c.setNeuronStatus(h,E,"killed");const A=x0(c,s,g),T=y-A;j.push({layerIdx:h,neuronIdx:E,accuracyWithout:A,accuracyDrop:T,importance:0}),c.setNeuronStatus(h,E,"active"),v++}b.push(j)}let x=0;for(const h of b)for(const M of h)M.accuracyDrop>x&&(x=M.accuracyDrop);if(x>0)for(const h of b)for(const M of h)M.importance=Math.max(0,M.accuracyDrop/x);for(const h of b)for(const M of h)(!p||M.accuracyDrop>p.accuracyDrop)&&(p=M),(!S||M.accuracyDrop<S.accuracyDrop)&&(S=M);c.clearAllMasks();for(const[h,M]of f){const[j,E]=h.split("-");c.setNeuronStatus(parseInt(j),parseInt(E),M)}return{baselineAccuracy:y,layers:b,timestamp:Date.now(),totalNeurons:v,mostCritical:p,mostRedundant:S}}function Uy(c){if(c<=0)return"rgba(40, 80, 160, 0.6)";if(c<.33){const o=c/.33,d=Math.round(40+20*o),s=Math.round(80+100*o),g=Math.round(160-30*o);return`rgba(${d}, ${s}, ${g}, ${.6+.2*o})`}else if(c<.66){const o=(c-.33)/.33,d=Math.round(60+195*o),s=Math.round(180-10*o),g=Math.round(130-100*o);return`rgba(${d}, ${s}, ${g}, ${.8+.1*o})`}else{const o=(c-.66)/.34,d=255,s=Math.round(170-100*o),g=Math.round(30+100*o);return`rgba(${d}, ${s}, ${g}, ${.9+.1*o})`}}const _c=["#ff6384","#36a2eb","#ffce56","#4bc0c0","#9966ff","#ff9f40","#10b981","#f472b6","#63deff","#a78bfa"];function Hy({networkRef:c,hasTrained:o}){const d=_.useRef(null),[s,g]=_.useState(()=>new Array(10).fill(0)),[f,y]=_.useState(null),[m,b]=_.useState(!1),[v,p]=_.useState(0),S=_.useRef(null),x=_.useRef(null),h=_.useMemo(()=>s.filter(R=>R>0).length,[s]),M=_.useMemo(()=>s.reduce((R,C)=>R+C,0),[s]),j=_.useCallback((R,C)=>{g(O=>{const L=[...O];return L[R]=C,L})},[]),E=_.useCallback(R=>{g([...R])},[]),A=_.useCallback(()=>{const R=c.current;if(!R||M===0)return;b(!0),p(0),S.current&&clearInterval(S.current);const C=Dy(R,s,l0,K1);x.current=C;let O=0;S.current=setInterval(()=>{O+=2,O>=C.confidenceHistory.length&&(O=C.confidenceHistory.length-1,S.current&&(clearInterval(S.current),S.current=null),b(!1)),p(O),y(C)},k1)},[c,s,M]);_.useEffect(()=>()=>{S.current&&clearInterval(S.current)},[]),_.useEffect(()=>{if(!f)return;const R=d.current;if(!R)return;const C=R.getContext("2d");if(!C)return;const O=or,L=window.devicePixelRatio||1;R.width=O*L,R.height=O*L,C.scale(L,L);const{image:D}=f,G=O/vt;for(let Q=0;Q<vt;Q++)for(let Y=0;Y<vt;Y++){const P=Math.round(D[Q*vt+Y]*255);C.fillStyle=`rgb(${P}, ${P}, ${P})`,C.fillRect(Y*G,Q*G,G+.5,G+.5)}},[f,v]);const T=_.useMemo(()=>{if(!f||!f.confidenceHistory.length)return null;const R=Math.min(v,f.confidenceHistory.length-1);return f.confidenceHistory[R]},[f,v]);return u.jsxs("div",{className:"chimera-lab",role:"group","aria-label":"Digit Chimera Lab  blend digit classes to create hybrid images",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Chimera Lab"}),h>0&&u.jsxs("span",{className:"chimera-badge",children:[h," classes"]})]}),o?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"chimera-presets",role:"group","aria-label":"Chimera presets",children:zy.map(R=>u.jsxs("button",{className:"chimera-preset-btn",onClick:()=>E(R.weights),title:R.description,"aria-label":`${R.name}  ${R.description}`,children:[u.jsx("span",{className:"preset-emoji","aria-hidden":"true",children:R.emoji}),u.jsx("span",{className:"preset-name",children:R.name})]},R.name))}),u.jsx("div",{className:"chimera-sliders",role:"group","aria-label":"Digit class weights",children:s.map((R,C)=>u.jsxs("div",{className:"chimera-slider-row",children:[u.jsx("span",{className:"chimera-digit-label",style:{color:_c[C]},children:C}),u.jsx("input",{type:"range",min:0,max:100,step:1,value:R,onChange:O=>j(C,Number(O.target.value)),className:"chimera-slider","aria-label":`Digit ${C} weight`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":R,style:{"--slider-color":_c[C]}}),u.jsxs("span",{className:"chimera-weight-val",style:{opacity:R>0?1:.3},children:[M>0?Math.round(R/M*100):0,"%"]})]},C))}),u.jsx("button",{className:`chimera-generate-btn ${m?"generating":""}`,onClick:A,disabled:m||M===0,"aria-label":"Generate chimera digit",children:m?" Generating":" Generate Chimera"}),f&&u.jsxs("div",{className:"chimera-result",children:[u.jsxs("div",{className:"chimera-canvas-wrap",children:[u.jsx("canvas",{ref:d,style:{width:or,height:or},className:"chimera-canvas",role:"img","aria-label":"Generated chimera digit image"}),m&&u.jsxs("div",{className:"chimera-progress","aria-hidden":"true",children:["Step ",v,"/",l0]})]}),T&&u.jsx("div",{className:"chimera-confidence",role:"list","aria-label":"Chimera class confidence",children:T.map((R,C)=>u.jsxs("div",{className:"chimera-conf-row",role:"listitem","aria-label":`Digit ${C}: ${Math.round(R*100)}%`,children:[u.jsx("span",{className:"chimera-conf-digit",style:{color:_c[C]},children:C}),u.jsx("div",{className:"chimera-conf-bar-bg",children:u.jsx("div",{className:"chimera-conf-bar-fill",style:{width:`${Math.round(R*100)}%`,backgroundColor:_c[C]}})}),u.jsxs("span",{className:"chimera-conf-pct",children:[Math.round(R*100),"%"]})]},C))})]})]}):u.jsx("p",{className:"chimera-hint",children:"Train the network first to create chimeras"})]})}const Gl=["#ff6384","#36a2eb","#ffce56","#4bc0c0","#9966ff","#ff9f40","#10b981","#f472b6","#63deff","#a78bfa"];function By({networkRef:c,epoch:o,isTraining:d}){const[s,g]=_.useState([]),[f,y]=_.useState(null),[m,b]=_.useState(null),[v,p]=_.useState(0),S=_.useRef(new Map),x=_.useRef(null),h=_.useMemo(()=>ra(Cr),[]);_.useEffect(()=>{const A=c.current;if(!A||o===0||d&&o-v<5)return;const T=Oy(A,h.inputs,h.labels,J1),R=wy(A,h.inputs,h.labels);g(T),y(R),p(o),b(null)},[c,o,d,h,v]);const M=_.useCallback((A,T)=>{const R=A.getContext("2d");if(!R)return;const C=fr,O=window.devicePixelRatio||1;A.width=C*O,A.height=C*O,R.scale(O,O);const L=C/vt;for(let D=0;D<vt;D++)for(let G=0;G<vt;G++){const Q=Math.round(T[D*vt+G]*255);R.fillStyle=`rgb(${Q}, ${Q}, ${Q})`,R.fillRect(G*L,D*L,L+.5,L+.5)}},[]);_.useEffect(()=>{s.forEach((A,T)=>{const R=S.current.get(T);R&&M(R,A.input)})},[s,M]),_.useEffect(()=>{if(m===null||!s[m])return;const A=x.current;A&&M(A,s[m].input)},[m,s,M]);const j=m!==null?s[m]:null,E=_.useMemo(()=>s.filter(A=>A.isWrong).length,[s]);return o===0?u.jsxs("div",{className:"misfit-gallery",role:"group","aria-label":"Misfit Gallery",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Misfit Gallery"})]}),u.jsx("p",{className:"misfit-hint",children:"Train the network to reveal its blind spots"})]}):u.jsxs("div",{className:"misfit-gallery",role:"group","aria-label":"Misfit Gallery  the network's hardest digits",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Misfit Gallery"}),f&&u.jsxs("span",{className:"misfit-accuracy-badge",children:[Math.round(f.accuracy*100),"% acc"]})]}),f&&u.jsxs("div",{className:"misfit-summary",children:[u.jsxs("div",{className:"misfit-stat",children:[u.jsx("span",{className:"misfit-stat-value misfit-wrong-count",children:f.totalWrong}),u.jsx("span",{className:"misfit-stat-label",children:"wrong"})]}),u.jsxs("div",{className:"misfit-stat",children:[u.jsx("span",{className:"misfit-stat-value",children:f.totalSamples}),u.jsx("span",{className:"misfit-stat-label",children:"total"})]}),f.mostConfusedPair&&u.jsxs("div",{className:"misfit-stat misfit-confused-pair",children:[u.jsxs("span",{className:"misfit-stat-value",children:[u.jsx("span",{style:{color:Gl[f.mostConfusedPair[0]]},children:f.mostConfusedPair[0]}),"",u.jsx("span",{style:{color:Gl[f.mostConfusedPair[1]]},children:f.mostConfusedPair[1]})]}),u.jsx("span",{className:"misfit-stat-label",children:"most confused"})]})]}),u.jsx("div",{className:"misfit-grid",role:"list","aria-label":`${s.length} hardest digits (${E} misclassified)`,children:s.map((A,T)=>u.jsxs("button",{className:`misfit-cell ${A.isWrong?"wrong":"hard"} ${m===T?"selected":""}`,onClick:()=>b(m===T?null:T),role:"listitem","aria-label":`True: ${A.trueLabel}, Predicted: ${A.predictedLabel}, ${A.isWrong?"WRONG":"correct"}, confidence: ${Math.round(A.trueConfidence*100)}%`,children:[u.jsx("canvas",{ref:R=>{R?S.current.set(T,R):S.current.delete(T)},style:{width:fr,height:fr},className:"misfit-thumb"}),u.jsxs("div",{className:"misfit-labels",children:[u.jsx("span",{className:"misfit-true-label",style:{color:Gl[A.trueLabel]},children:A.trueLabel}),A.isWrong&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"misfit-arrow","aria-hidden":"true",children:""}),u.jsx("span",{className:"misfit-pred-label",style:{color:Gl[A.predictedLabel]},children:A.predictedLabel})]})]}),u.jsx("div",{className:"misfit-loss-bar",style:{width:`${Math.min(100,Math.round(A.loss*10))}%`,backgroundColor:A.isWrong?"#ef4444":"#f59e0b"},"aria-hidden":"true"})]},T))}),j&&u.jsxs("div",{className:"misfit-detail",role:"region","aria-label":`Detail for misfit digit ${j.trueLabel}`,children:[u.jsxs("div",{className:"misfit-detail-header",children:[u.jsx("canvas",{ref:x,style:{width:80,height:80},className:"misfit-detail-canvas",role:"img","aria-label":`Digit image  true label ${j.trueLabel}`}),u.jsxs("div",{className:"misfit-detail-info",children:[u.jsx("div",{className:"misfit-detail-verdict",children:j.isWrong?u.jsxs("span",{className:"misfit-verdict-wrong",children:[" True:"," ",u.jsx("span",{style:{color:Gl[j.trueLabel]},children:j.trueLabel}),", Predicted:"," ",u.jsx("span",{style:{color:Gl[j.predictedLabel]},children:j.predictedLabel})]}):u.jsxs("span",{className:"misfit-verdict-hard",children:[" Correct (",j.trueLabel,") but only"," ",Math.round(j.trueConfidence*100),"% sure"]})}),u.jsxs("div",{className:"misfit-detail-loss",children:["Loss: ",j.loss.toFixed(3)]})]})]}),u.jsx("div",{className:"misfit-detail-bars",role:"list","aria-label":"Confidence per digit class",children:j.probabilities.map((A,T)=>u.jsxs("div",{className:`misfit-detail-bar-row ${T===j.trueLabel?"true-class":""} ${T===j.predictedLabel?"pred-class":""}`,role:"listitem",children:[u.jsxs("span",{className:"misfit-bar-digit",style:{color:Gl[T]},children:[T,T===j.trueLabel&&u.jsx("span",{className:"misfit-bar-tag true","aria-label":"true label",children:""}),T===j.predictedLabel&&T!==j.trueLabel&&u.jsx("span",{className:"misfit-bar-tag pred","aria-label":"predicted",children:""})]}),u.jsx("div",{className:"misfit-bar-bg",children:u.jsx("div",{className:"misfit-bar-fill",style:{width:`${Math.round(A*100)}%`,backgroundColor:T===j.trueLabel?"#10b981":T===j.predictedLabel?"#ef4444":Gl[T]}})}),u.jsxs("span",{className:"misfit-bar-pct",children:[Math.round(A*100),"%"]})]},T))})]})]})}function Gy({frames:c}){const[o,d]=_.useState(-1),[s,g]=_.useState(!1),[f,y]=_.useState(null),m=_.useRef(null),b=_.useRef(null),v=_.useRef(!1),p=c.length,S=o<0?p-1:Math.min(o,p-1),x=p>0?c[S]:null,h=x?.neuronCount??0,M=h>0?x.weights.length/h:784,j=Math.min(h,I1),E=Math.round(Math.sqrt(M)),A=$1,T=Math.min(j,8),R=Math.ceil(j/T),C=_.useRef(null),O=_.useRef(null),L=_.useRef(null);_.useEffect(()=>{const J=m.current;if(!J||!x)return;const tt=T*(A+2)+2,et=R*(A+2)+2;J.width=tt,J.height=et;const it=J.getContext("2d");if(!it)return;it.fillStyle="#0a0a1a",it.fillRect(0,0,tt,et),(!C.current||C.current.width!==E)&&(C.current=new ImageData(E,E));const B=C.current;(!O.current||O.current.width!==E)&&(O.current=document.createElement("canvas"),O.current.width=E,O.current.height=E,L.current=O.current.getContext("2d"));const V=L.current;if(V){it.imageSmoothingEnabled=!1;for(let $=0;$<j;$++){c0(x.weights,$,M,B);const ct=$%T,at=Math.floor($/T),w=ct*(A+2)+2,k=at*(A+2)+2;V.putImageData(B,0,0),it.drawImage(O.current,w,k,A,A),f===$&&(it.strokeStyle="#63deff",it.lineWidth=2,it.strokeRect(w-1,k-1,A+2,A+2))}}},[x,j,T,R,A,E,M,f]);const D=_.useRef(null),G=_.useRef(null);_.useEffect(()=>{const J=b.current;if(!J||!x||f===null)return;const tt=112;J.width=tt,J.height=tt;const et=J.getContext("2d");if(!et)return;(!C.current||C.current.width!==E)&&(C.current=new ImageData(E,E)),c0(x.weights,f,M,C.current),(!D.current||D.current.width!==E)&&(D.current=document.createElement("canvas"),D.current.width=E,D.current.height=E,G.current=D.current.getContext("2d"));const it=G.current;it&&(it.putImageData(C.current,0,0),et.imageSmoothingEnabled=!1,et.drawImage(D.current,0,0,tt,tt))},[x,f,E,M]),_.useEffect(()=>{if(!s||p<2)return;v.current=!0;let J=S;const tt=setInterval(()=>{v.current&&(J++,J>=p&&(J=0),d(J))},W1);return()=>{v.current=!1,clearInterval(tt)}},[s,p]);const Q=_.useCallback(()=>{p<2||g(J=>!J)},[p]),Y=_.useCallback(J=>{const tt=m.current;if(!tt)return;const et=tt.getBoundingClientRect(),it=J.clientX-et.left,B=J.clientY-et.top,V=Math.floor((it-2)/(A+2)),$=Math.floor((B-2)/(A+2));if(V>=0&&V<T&&$>=0&&$<R){const ct=$*T+V;ct<j&&y(at=>at===ct?null:ct)}},[A,T,R,j]),P=_.useMemo(()=>{if(p<2)return[];const J=[0];for(let tt=1;tt<p;tt++){const et=c[tt-1],it=c[tt],B=Math.min(et.weights.length,it.weights.length);let V=0;for(let $=0;$<B;$++)V+=Math.abs(it.weights[$]-et.weights[$]);J.push(V/B)}return J},[c,p]);return p===0?u.jsxs("div",{className:"weight-evolution panel",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Weight Evolution"})]}),u.jsx("p",{className:"empty-hint",children:"Train the network to see weights evolve"})]}):u.jsxs("div",{className:"weight-evolution panel",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Weight Evolution"}),u.jsxs("span",{className:"panel-badge",children:[p," frames"]})]}),u.jsxs("div",{className:"we-timeline",role:"group","aria-label":"Timeline scrubber",children:[u.jsx("button",{className:`we-play-btn ${s?"playing":""}`,onClick:Q,"aria-label":s?"Pause playback":"Play evolution",title:s?"Pause":"Play",children:s?"":""}),u.jsx("input",{type:"range",min:0,max:p-1,value:S,onChange:J=>{g(!1),d(Number(J.target.value))},className:"we-scrubber","aria-label":`Epoch ${x?.epoch??0}`}),u.jsxs("span",{className:"we-epoch-label",children:["E",x?.epoch??0]})]}),u.jsxs("div",{className:"we-metrics",children:[u.jsxs("span",{className:"we-metric",children:["Loss: ",u.jsx("strong",{className:x&&x.loss<.5?"stat-good":"",children:x?.loss.toFixed(3)??""})]}),u.jsxs("span",{className:"we-metric",children:["Acc: ",u.jsx("strong",{className:x&&x.accuracy>.8?"stat-good":"",children:x?(x.accuracy*100).toFixed(1)+"%":""})]})]}),P.length>1&&u.jsxs("div",{className:"we-sparkline","aria-hidden":"true",children:[u.jsx("svg",{viewBox:`0 0 ${P.length} 20`,preserveAspectRatio:"none",children:(()=>{let J=0;for(const et of P)et>J&&(J=et);J===0&&(J=1);const tt=P.map((et,it)=>`${it},${20-et/J*18}`).join(" ");return u.jsxs(u.Fragment,{children:[u.jsx("polyline",{points:tt,fill:"none",stroke:"rgba(99,222,255,0.5)",strokeWidth:"0.8"}),u.jsx("line",{x1:S,y1:0,x2:S,y2:20,stroke:"rgba(99,222,255,0.8)",strokeWidth:"0.5"})]})})()}),u.jsx("span",{className:"we-sparkline-label",children:" weight change"})]}),u.jsxs("div",{className:"we-grid-container",children:[u.jsx("canvas",{ref:m,className:"we-grid",onClick:Y,role:"img","aria-label":`First hidden layer neuron weights at epoch ${x?.epoch??0}`,style:{cursor:"pointer"}}),f!==null&&u.jsxs("div",{className:"we-magnifier",children:[u.jsx("canvas",{ref:b,className:"we-magnifier-canvas",role:"img","aria-label":`Neuron ${f} weight detail`}),u.jsxs("span",{className:"we-magnifier-label",children:["Neuron ",f]})]})]})]})}function Yy({networkRef:c,epoch:o,isTraining:d}){const[s,g]=_.useState(null),[f,y]=_.useState(!1),[m,b]=_.useState(null),v=_.useRef(null),p=_.useCallback(()=>{!c.current||o===0||d||(y(!0),requestAnimationFrame(()=>{const M=Ly(c.current,F1);g(M),y(!1)}))},[c,o,d]);_.useEffect(()=>{const M=v.current;if(!M||!s)return;const j=M.getContext("2d");if(!j)return;const E=a0,A=n0,T=s.layers.length;let R=0;for(const Y of s.layers){const P=Math.min(Y.length,i0);P>R&&(R=P)}const C=R*(E+A)+A+60,O=T*(E+A)+A+24;M.width=C,M.height=O,j.fillStyle="#0a0a1a",j.fillRect(0,0,C,O),j.font="10px monospace",j.textAlign="right",j.textBaseline="middle";for(let Y=0;Y<T;Y++){const P=Y*(E+A)+A+E/2;j.fillStyle="#8899aa",j.fillText(`L${Y+1}`,54,P);const J=s.layers[Y],tt=Math.min(J.length,i0);for(let et=0;et<tt;et++){const it=60+et*(E+A)+A,B=J[et],V=Uy(B.importance);j.fillStyle=V,j.fillRect(it,Y*(E+A)+A,E,E),m&&m.layer===Y&&m.neuron===et&&(j.strokeStyle="#ffffff",j.lineWidth=2,j.strokeRect(it-1,Y*(E+A)+A-1,E+2,E+2))}}const L=T*(E+A)+A+6,D=120,G=60,Q=j.createLinearGradient(G,0,G+D,0);Q.addColorStop(0,"rgba(40, 80, 160, 0.8)"),Q.addColorStop(.33,"rgba(60, 180, 130, 0.8)"),Q.addColorStop(.66,"rgba(255, 170, 30, 0.9)"),Q.addColorStop(1,"rgba(255, 70, 130, 1)"),j.fillStyle=Q,j.fillRect(G,L,D,8),j.fillStyle="#667788",j.font="8px monospace",j.textAlign="left",j.fillText("redundant",G,L+16),j.textAlign="right",j.fillText("critical",G+D,L+16)},[s,m]);const S=_.useCallback(M=>{if(!s)return;const j=v.current;if(!j)return;const E=j.getBoundingClientRect(),A=M.clientX-E.left,T=M.clientY-E.top,R=a0,C=n0,O=Math.floor((T-C)/(R+C)),L=Math.floor((A-60-C)/(R+C));O>=0&&O<s.layers.length&&L>=0&&L<s.layers[O].length?b({layer:O,neuron:L}):b(null)},[s]),x=_.useCallback(()=>b(null),[]),h=m&&s?s.layers[m.layer]?.[m.neuron]:null;return u.jsxs("div",{className:"ablation-lab panel",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("span",{className:"panel-icon","aria-hidden":"true",children:""}),u.jsx("span",{children:"Ablation Lab"})]}),!s&&!f&&u.jsxs("div",{className:"ablation-intro",children:[u.jsx("p",{className:"ablation-desc",children:"Systematically kill each neuron and measure accuracy impact. Reveals which neurons are critical vs redundant."}),u.jsx("button",{className:"ablation-run-btn",onClick:p,disabled:o===0||d,"aria-label":"Run ablation study",children:o===0?"Train first":d?"Pause training first":" Run Study"})]}),f&&u.jsxs("div",{className:"ablation-running",children:[u.jsx("span",{className:"ablation-spinner","aria-hidden":"true",children:""}),u.jsx("span",{children:"Testing neurons"})]}),s&&!f&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"ablation-stats",children:[u.jsxs("span",{className:"ablation-stat",children:["Baseline: ",u.jsxs("strong",{children:[(s.baselineAccuracy*100).toFixed(1),"%"]})]}),u.jsxs("span",{className:"ablation-stat",children:["Neurons: ",u.jsx("strong",{children:s.totalNeurons})]})]}),u.jsxs("div",{className:"ablation-callouts",children:[s.mostCritical&&u.jsxs("div",{className:"ablation-callout critical",children:[u.jsx("span",{className:"callout-icon","aria-hidden":"true",children:""}),u.jsxs("span",{children:["Most critical: L",s.mostCritical.layerIdx+1,":N",s.mostCritical.neuronIdx,u.jsxs("small",{children:[" (",(s.mostCritical.accuracyDrop*100).toFixed(1),"%)"]})]})]}),s.mostRedundant&&u.jsxs("div",{className:"ablation-callout redundant",children:[u.jsx("span",{className:"callout-icon","aria-hidden":"true",children:""}),u.jsxs("span",{children:["Most redundant: L",s.mostRedundant.layerIdx+1,":N",s.mostRedundant.neuronIdx,u.jsxs("small",{children:[" (",s.mostRedundant.accuracyDrop>=0?"":"+",Math.abs(s.mostRedundant.accuracyDrop*100).toFixed(1),"%)"]})]})]})]}),u.jsxs("div",{className:"ablation-heatmap-container",children:[u.jsx("canvas",{ref:v,className:"ablation-heatmap",onMouseMove:S,onMouseLeave:x,role:"img","aria-label":"Neuron importance heatmap"}),h&&u.jsxs("div",{className:"ablation-tooltip","aria-hidden":"true",children:[u.jsxs("strong",{children:["L",h.layerIdx+1," : N",h.neuronIdx]}),u.jsxs("span",{children:["Accuracy without: ",(h.accuracyWithout*100).toFixed(1),"%"]}),u.jsxs("span",{children:["Drop: ",h.accuracyDrop>=0?"":"+",Math.abs(h.accuracyDrop*100).toFixed(1),"%"]}),u.jsxs("span",{children:["Importance: ",(h.importance*100).toFixed(0),"%"]})]})]}),u.jsx("button",{className:"ablation-rerun-btn",onClick:p,disabled:d,"aria-label":"Re-run ablation study",children:" Re-run"})]})]})}function qy(){const{state:c,networkRef:o,initNetwork:d,startTraining:s,stopTraining:g,predict:f,updateConfig:y,updateLayers:m,setNeuronStatus:b,getNeuronStatus:v,clearNeuronMasks:p,dream:S,saliency:x}=nv(),[h,M]=_.useState(null),[j,E]=_.useState(null),[A,T]=_.useState(null),[R,C]=_.useState(!1),O=fv(),L=_.useRef(!1),[D,G]=_.useState(0),Q=_.useRef(new dv),[,Y]=_.useState(0),P=_.useRef(null),[J,tt]=_.useState(null),[et,it]=_.useState(null),[B,V]=_.useState(null),$=_.useMemo(()=>!B||j===null||c.epoch===0?null:x(B,j),[B,j,x]);_.useEffect(()=>{if(c.snapshot&&c.epoch>0){if(O.degraded&&c.epoch%3!==0)return;Q.current.record(c.snapshot),Y(Ot=>Ot+1)}},[c.epoch,c.snapshot,O.degraded]);const ct=ov(o,c.epoch,B),{cinematic:at,startCinematic:w,stopCinematic:k}=sv({config:c.config,initNetwork:d,startTraining:s,stopTraining:g,drawingCanvasRef:P,onSignalFlow:()=>G(Ot=>Ot+1)}),lt=_.useCallback(Ot=>{const $t=Kh(Ot);V($t);const ce=f($t);ce&&(M(ce.probabilities),E(ce.label),T(ce.layers),G(ke=>ke+1))},[f]),nt=_.useCallback(()=>{c.epoch===0&&d(c.config),s()},[c.epoch,c.config,d,s]),rt=_.useCallback(()=>{d(c.config),M(null),E(null),T(null),V(null),Q.current.clear(),Y(0)},[d,c.config]),dt=_.useCallback(Ot=>{const $t=P.current;if(!$t)return;const ce=$t.getImageData();if(!ce)return;const ke=Kh(ce);Ot==="A"?tt(ke):it(ke)},[]),yt=_.useCallback(Ot=>{const $t=f(Ot);$t&&(M($t.probabilities),E($t.label),T($t.layers))},[f]),Zt=_.useCallback(()=>{if(B){const Ot=f(B);Ot&&(M(Ot.probabilities),E(Ot.label),T(Ot.layers))}},[B,f]);_.useEffect(()=>{if(L.current)return;L.current=!0;const Ot=setTimeout(()=>{d(c.config),s(),setTimeout(()=>g(),S1*Sr)},x1);return()=>clearTimeout(Ot)},[]),_.useEffect(()=>{const Ot=$t=>{const ce=$t.target.tagName;if(!(ce==="INPUT"||ce==="SELECT"||ce==="TEXTAREA"))switch($t.key.toLowerCase()){case" ":if($t.preventDefault(),at.active){k();break}c.isTraining?g():nt();break;case"r":!c.isTraining&&!at.active&&rt();break;case"h":C(ke=>!ke);break;case"d":w();break;case"escape":at.active&&k(),C(!1);break}};return window.addEventListener("keydown",Ot),()=>window.removeEventListener("keydown",Ot)},[c.isTraining,at.active,g,nt,rt,w,k]);const Rt=A||c.snapshot?.layers||null;return u.jsxs("div",{className:"app",role:"application","aria-label":"NeuralPlayground  Neural network visualizer",children:[u.jsx("a",{href:"#main-content",className:"sr-only focus-visible-skip",children:"Skip to content"}),u.jsxs("header",{className:"app-header",children:[u.jsxs("div",{className:"logo",children:[u.jsx("span",{className:"logo-icon","aria-hidden":"true",children:""}),u.jsx("h1",{children:"NeuralPlayground"}),u.jsx("span",{className:`heartbeat-dot ${c.isTraining?"active":c.epoch>0?"idle":"off"}`,"aria-hidden":"true",title:c.isTraining?"Training":c.epoch>0?"Paused":"Not started"}),c.isTraining&&u.jsxs("span",{className:`fps-badge ${O.fps>=45?"fps-good":O.fps>=30?"fps-warn":"fps-bad"}`,title:`${O.fps} FPS${O.degraded?"  quality reduced":""}`,"aria-hidden":"true",children:[O.fps," fps",O.degraded?" ":""]})]}),u.jsx("p",{className:"subtitle",children:"Watch neural networks learn in real-time"})]}),u.jsxs("main",{className:"app-main",id:"main-content",children:[u.jsxs("div",{className:"grid-layout",children:[u.jsxs("div",{className:"column column-left",children:[u.jsx(Sv,{config:c.config,isTraining:c.isTraining,epoch:c.epoch,onUpdateConfig:y,onUpdateLayers:m,onStart:nt,onStop:g,onReset:rt}),u.jsx(Fv,{cinematicActive:at.active,onStartCinematic:w}),u.jsx("div",{style:h?{borderRadius:"var(--radius)",boxShadow:`0 0 ${Math.round((h[j??0]??0)*20)}px rgba(16, 185, 129, ${(h[j??0]??0)*.25})`,transition:"box-shadow 0.4s ease"}:void 0,children:u.jsx(hv,{ref:P,onDraw:lt})}),u.jsx(bv,{probabilities:h}),u.jsx(ty,{saliency:$,currentInput:B,predictedLabel:j,hasTrained:c.epoch>0})]}),u.jsxs("div",{className:"column column-center",children:[u.jsx(vv,{layers:Rt,inputSize:784,signalFlowTrigger:D}),u.jsx(yv,{lossHistory:c.lossHistory,accuracyHistory:c.accuracyHistory}),u.jsx(Cv,{layers:Rt})]}),u.jsxs("div",{className:"column column-right",children:[u.jsx(pv,{layers:Rt}),u.jsx(Nv,{layers:Rt}),u.jsx(_v,{slotA:J,slotB:et,onMorphPredict:yt,onSaveSlot:dt}),u.jsx(Ov,{currentInput:B,onPredict:yt,probabilities:h,predictedLabel:j}),u.jsx(Iv,{epoch:c.epoch,isTraining:c.isTraining,loss:c.snapshot?.loss??null,accuracy:c.snapshot?.accuracy??null,predictedLabel:j})]})]}),u.jsxs("div",{className:"creative-features-row",children:[u.jsx(Hv,{layers:Rt,onSetNeuronStatus:b,onGetNeuronStatus:v,onClearAll:p,onSurgeryChange:Zt,currentPrediction:h,predictedLabel:j}),u.jsx(qv,{onDream:S,hasTrained:c.epoch>0}),!O.degraded&&u.jsx($v,{}),u.jsx(ey,{projection:ct,epoch:c.epoch,predictedLabel:j}),u.jsx(hy,{networkRef:o,epoch:c.epoch,isTraining:c.isTraining}),u.jsx(xy,{networkRef:o,epoch:c.epoch,layers:Rt,isTraining:c.isTraining}),u.jsx(My,{epoch:c.epoch,isTraining:c.isTraining,snapshot:c.snapshot,currentInput:B,activationFn:c.config.layers[0]?.activation||"relu"}),!O.degraded&&u.jsx(_y,{networkRef:o,epoch:c.epoch,isTraining:c.isTraining}),u.jsx(Hy,{networkRef:o,hasTrained:c.epoch>0}),!O.degraded&&u.jsx(By,{networkRef:o,epoch:c.epoch,isTraining:c.isTraining}),u.jsx(Gy,{frames:Q.current.getFrames()}),!O.degraded&&u.jsx(Yy,{networkRef:o,epoch:c.epoch,isTraining:c.isTraining})]})]}),u.jsx("div",{className:"sr-only",role:"status","aria-live":"polite",children:c.isTraining?`Training in progress  epoch ${c.epoch}`:c.epoch>0?`Training paused at epoch ${c.epoch}`:""}),at.active&&u.jsx(Av,{phase:at.phase,epoch:at.epoch,maxEpochs:Dc,currentDigit:at.digit,progress:at.progress}),R&&u.jsx(Wv,{onClose:()=>C(!1)}),u.jsxs("div",{className:"instructions-bar","aria-hidden":"true",children:[u.jsxs("span",{children:[u.jsx("kbd",{children:"Space"})," Train"]}),u.jsxs("span",{children:[u.jsx("kbd",{children:"R"})," Reset"]}),u.jsxs("span",{children:[u.jsx("kbd",{children:"D"})," Demo"]}),u.jsxs("span",{children:[u.jsx("kbd",{children:"H"})," Help"]})]}),u.jsxs("footer",{className:"app-footer",children:[u.jsx("span",{className:"footer-version",children:"v1.0.0"}),u.jsx("span",{className:"footer-dot","aria-hidden":"true",children:""}),u.jsx("span",{children:"NeuralPlayground  Custom neural network with real-time visualization"}),u.jsx("span",{className:"footer-dot","aria-hidden":"true",children:""}),u.jsx("a",{href:"https://github.com/kai-claw/neuralplayground",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]})]})}r1.createRoot(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(o1,{children:u.jsx(qy,{})})}));
